<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://ruihan.org/leetcode/binary-search/notes/ rel=canonical><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.0.2"><title>Binary Search - RUIHAN.ORG</title><link rel=stylesheet href=../../../assets/stylesheets/main.38780c08.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.3f72e892.min.css><meta name=theme-color content=#000000><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=black> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#binary-search class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://ruihan.org title=RUIHAN.ORG class="md-header-nav__button md-logo" aria-label=RUIHAN.ORG> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> RUIHAN.ORG </span> <span class="md-header-nav__topic md-ellipsis"> Binary Search </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/iurnah/ruihan.org title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> iurnah/ruihan.org </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../books/ class=md-tabs__link> Books </a> </li> <li class=md-tabs__item> <a href=../../../courses/ class=md-tabs__link> Courses </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> Leetcode </a> </li> <li class=md-tabs__item> <a href=../../../research/ class=md-tabs__link> Research </a> </li> <li class=md-tabs__item> <a href=../../../seedlabs/ class=md-tabs__link> SEED Labs </a> </li> <li class=md-tabs__item> <a href=../../../system-design/ class=md-tabs__link> System Design </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://ruihan.org title=RUIHAN.ORG class="md-nav__button md-logo" aria-label=RUIHAN.ORG> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> RUIHAN.ORG </label> <div class=md-nav__source> <a href=https://github.com/iurnah/ruihan.org title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> iurnah/ruihan.org </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Books <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Books data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Books </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../books/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../books/accelerated-cpp/notes/ class=md-nav__link> Accelerated C++ </a> </li> <li class=md-nav__item> <a href=../../../books/mining-massive-datasets/notes/ class=md-nav__link> Mining Massive Datasets </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Courses <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Courses data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Courses </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../courses/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../courses/machine-learning-coursera/notes/ class=md-nav__link> Machine Learning (Coursera) </a> </li> <li class=md-nav__item> <a href=../../../courses/cs224n/lec-notes/ class=md-nav__link> CS224N Lecture Notes </a> </li> <li class=md-nav__item> <a href=../../../courses/cs224n/write-up/ class=md-nav__link> CS224N Write-up </a> </li> <li class=md-nav__item> <a href=../../../courses/coursera-dl4-cnn/notes/ class=md-nav__link> Convolutional Neural Networks </a> </li> <li class=md-nav__item> <a href=../../../courses/mining-massive-datasets/notes/ class=md-nav__link> Mining Massive Data Sets </a> </li> <li class=md-nav__item> <a href=../../../courses/6.431-probability/notes/ class=md-nav__link> 6.431 Probability </a> </li> <li class=md-nav__item> <a href=../../../courses/learning-from-data/notes.md class=md-nav__link> Learning From Data </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-algorithms/notes/ class=md-nav__link> Nine Chapter Algorithms </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-system-design/notes/ class=md-nav__link> Nine Chapter System Design </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-dynamic-prog/notes/ class=md-nav__link> Nine Chapter Dynamic Programming </a> </li> <li class=md-nav__item> <a href=../../../courses/func-prog-in-scala/notes/ class=md-nav__link> Functional Programming Principles in Scala </a> </li> <li class=md-nav__item> <a href=../../../courses/applied-scrum-for-agile/notes/ class=md-nav__link> Applied Scrum for Agile Project Management </a> </li> <li class=md-nav__item> <a href=../../../courses/concurrent-prog-java/notes/ class=md-nav__link> Concurrent Programming in Java </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Leetcode <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Leetcode data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> Leetcode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../array/notes/ class=md-nav__link> Array </a> </li> <li class=md-nav__item> <a href=../../backtracking/notes/ class=md-nav__link> Backtracking </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Binary Search <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Binary Search </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#binary-search-problem-characteristics class=md-nav__link> Binary search problem characteristics </a> </li> <li class=md-nav__item> <a href=#binary-search-problem-solving-techniques class=md-nav__link> Binary search problem solving techniques </a> </li> <li class=md-nav__item> <a href=#binary-search-practical-use-case class=md-nav__link> Binary search practical use case </a> </li> <li class=md-nav__item> <a href=#binary-search-in-c-stl class=md-nav__link> Binary search in C++ STL </a> </li> <li class=md-nav__item> <a href=#caveat-of-binary-search-implementation class=md-nav__link> Caveat of binary search implementation </a> </li> <li class=md-nav__item> <a href=#a-universal-binary-search-implementation class=md-nav__link> A "universal" binary search implementation </a> <nav class=md-nav aria-label="A " universal&quot; binary search implementation&quot;> <ul class=md-nav__list> <li class=md-nav__item> <a href=#important-observations-about-this-implementation class=md-nav__link> Important observations about this implementation </a> </li> <li class=md-nav__item> <a href=#claims-regarding-this-binary-search-routine class=md-nav__link> Claims regarding this binary search routine </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#category-1-binary-search-on-sorted-arrays class=md-nav__link> Category 1 Binary search on sorted arrays </a> <nav class=md-nav aria-label="Category 1 Binary search on sorted arrays"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#34-search-for-a-range class=md-nav__link> 34. Search for a Range </a> </li> <li class=md-nav__item> <a href=#35-search-insert-position class=md-nav__link> 35. Search Insert Position </a> </li> <li class=md-nav__item> <a href=#33-search-in-rotated-sorted-array class=md-nav__link> 33. Search in Rotated Sorted Array </a> </li> <li class=md-nav__item> <a href=#81-search-in-rotated-sorted-array-ii class=md-nav__link> 81. Search in Rotated Sorted Array II </a> </li> <li class=md-nav__item> <a href=#153-find-minimum-in-rotated-sorted-array class=md-nav__link> 153. Find Minimum in Rotated Sorted Array </a> </li> <li class=md-nav__item> <a href=#154-find-minimum-in-rotated-sorted-array-ii class=md-nav__link> 154. Find Minimum in Rotated Sorted Array II </a> </li> <li class=md-nav__item> <a href=#162-find-peak-element class=md-nav__link> 162 Find Peak Element </a> </li> <li class=md-nav__item> <a href=#278-first-bad-version class=md-nav__link> 278. First Bad Version </a> </li> <li class=md-nav__item> <a href=#74-search-a-2d-matrix class=md-nav__link> 74. Search a 2D Matrix </a> </li> <li class=md-nav__item> <a href=#240-search-a-2d-matrix-ii class=md-nav__link> 240. Search a 2D Matrix II </a> </li> <li class=md-nav__item> <a href=#302-smallest-rectangle-enclosing-black-pixels class=md-nav__link> 302. Smallest Rectangle Enclosing Black Pixels </a> </li> <li class=md-nav__item> <a href=#363-max-sum-of-rectangle-no-larger-than-k class=md-nav__link> 363. Max Sum of Rectangle No Larger Than K </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#category-2-using-ordering-abstraction class=md-nav__link> Category 2 Using ordering abstraction </a> <nav class=md-nav aria-label="Category 2 Using ordering abstraction"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#69-sqrtx class=md-nav__link> 69. Sqrt(x) </a> </li> <li class=md-nav__item> <a href=#367-valid-perfect-square class=md-nav__link> 367. Valid Perfect Square </a> </li> <li class=md-nav__item> <a href=#441-arranging-coins class=md-nav__link> 441. Arranging Coins </a> </li> <li class=md-nav__item> <a href=#633-sum-of-square-numbers class=md-nav__link> 633. Sum of Square Numbers </a> </li> <li class=md-nav__item> <a href=#658-find-k-closest-elements class=md-nav__link> 658. Find K Closest Elements </a> </li> <li class=md-nav__item> <a href=#611-valid-triangle-number class=md-nav__link> 611. Valid Triangle Number </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#category-3-using-ordering-abstration-monotonicity class=md-nav__link> Category 3 Using ordering abstration (monotonicity) </a> <nav class=md-nav aria-label="Category 3 Using ordering abstration (monotonicity)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#287-find-the-duplicate-number class=md-nav__link> 287. Find the Duplicate Number </a> </li> <li class=md-nav__item> <a href=#360-sort-transformed-array class=md-nav__link> 360. Sort Transformed Array </a> </li> <li class=md-nav__item> <a href=#374-guess-number-higher-or-lower class=md-nav__link> 374. Guess Number Higher or Lower </a> </li> <li class=md-nav__item> <a href=#475-heaters class=md-nav__link> 475. Heaters </a> </li> <li class=md-nav__item> <a href=#410-split-array-largest-sum class=md-nav__link> 410. Split Array Largest Sum </a> </li> <li class=md-nav__item> <a href=#1011-capacity-to-ship-packages-within-d-days class=md-nav__link> 1011. Capacity To Ship Packages Within D Days </a> </li> <li class=md-nav__item> <a href=#875-koko-eating-bananas class=md-nav__link> 875. Koko Eating Bananas </a> </li> <li class=md-nav__item> <a href=#1539-kth-missing-positive-number class=md-nav__link> 1539. Kth Missing Positive Number </a> </li> <li class=md-nav__item> <a href=#1482-minimum-number-of-days-to-make-m-bouquets class=md-nav__link> 1482. Minimum Number of Days to Make m Bouquets </a> </li> <li class=md-nav__item> <a href=#1283-find-the-smallest-divisor-given-a-threshold class=md-nav__link> 1283. Find the Smallest Divisor Given a Threshold </a> </li> <li class=md-nav__item> <a href=#1231-divide-chocolate class=md-nav__link> 1231. Divide Chocolate </a> </li> <li class=md-nav__item> <a href=#copy-books-lintcode class=md-nav__link> Copy books (lintcode) </a> </li> <li class=md-nav__item> <a href=#183-wood-cut-lintcode class=md-nav__link> 183. Wood cut (lintcode) </a> </li> <li class=md-nav__item> <a href=#774-minimize-max-distance-to-gas-station class=md-nav__link> 774. Minimize Max Distance to Gas Station </a> </li> <li class=md-nav__item> <a href=#644-maximum-average-subarray-ii class=md-nav__link> 644. Maximum Average Subarray II </a> </li> <li class=md-nav__item> <a href=#778-swim-in-rising-water class=md-nav__link> 778. Swim in Rising Water </a> </li> <li class=md-nav__item> <a href=#483-smallest-good-base class=md-nav__link> 483 Smallest Good Base </a> </li> <li class=md-nav__item> <a href=#658-find-k-closest-elements_1 class=md-nav__link> 658. Find K Closest Elements </a> </li> <li class=md-nav__item> <a href=#373-find-k-pairs-with-smallest-sums class=md-nav__link> 373. Find K Pairs with Smallest Sums </a> </li> <li class=md-nav__item> <a href=#378-kth-smallest-element-in-a-sorted-matrix class=md-nav__link> 378. Kth Smallest Element in a Sorted Matrix </a> </li> <li class=md-nav__item> <a href=#668-kth-smallest-number-in-multiplication-table class=md-nav__link> 668. Kth Smallest Number in Multiplication Table </a> </li> <li class=md-nav__item> <a href=#719-find-k-th-smallest-pair-distance class=md-nav__link> 719. Find K-th Smallest Pair Distance </a> </li> <li class=md-nav__item> <a href=#786-k-th-smallest-prime-fraction class=md-nav__link> 786. K-th Smallest Prime Fraction </a> </li> <li class=md-nav__item> <a href=#1631-path-with-minimum-effort class=md-nav__link> 1631. Path With Minimum Effort </a> </li> <li class=md-nav__item> <a href=#1102-path-with-maximum-minimum-value class=md-nav__link> 1102. Path With Maximum Minimum Value </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#category-4-binary-search-as-an-optimization-routine class=md-nav__link> Category 4 Binary search as an optimization routine </a> <nav class=md-nav aria-label="Category 4 Binary search as an optimization routine"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#300-longest-increasing-subsequence class=md-nav__link> 300 Longest Increasing Subsequence </a> </li> <li class=md-nav__item> <a href=#354-russian-doll-envelopes class=md-nav__link> 354. Russian Doll Envelopes </a> </li> <li class=md-nav__item> <a href=#174-dungeon-game class=md-nav__link> 174. Dungeon Game </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../breadth-first-search/notes/ class=md-nav__link> Breadth-First Search (BFS) </a> </li> <li class=md-nav__item> <a href=../../depth-first-search/notes/ class=md-nav__link> Depth-First Search (DFS) </a> </li> <li class=md-nav__item> <a href=../../dynamic-programming/notes/ class=md-nav__link> Dynamic Programming </a> </li> <li class=md-nav__item> <a href=../../graph/notes/ class=md-nav__link> Graph </a> </li> <li class=md-nav__item> <a href=../../heap/notes/ class=md-nav__link> Heap </a> </li> <li class=md-nav__item> <a href=../../interval/notes/ class=md-nav__link> Interval </a> </li> <li class=md-nav__item> <a href=../../linked-list/notes/ class=md-nav__link> Linked List </a> </li> <li class=md-nav__item> <a href=../../math/notes/ class=md-nav__link> Math </a> </li> <li class=md-nav__item> <a href=../../stack/notes/ class=md-nav__link> Stack </a> </li> <li class=md-nav__item> <a href=../../string/notes/ class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href=../../tree/notes/ class=md-nav__link> Tree </a> </li> <li class=md-nav__item> <a href=../../trie/notes/ class=md-nav__link> Trie </a> </li> <li class=md-nav__item> <a href=../../union-find/notes/ class=md-nav__link> Union Find </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Research <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Research data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> Research </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../research/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../research/paper-reading/notes/ class=md-nav__link> Paper Reading </a> </li> <li class=md-nav__item> <a href=../../../research/coalition-game/notes/ class=md-nav__link> Coalition Game </a> </li> <li class=md-nav__item> <a href=../../../research/contextual-bandit/notes/ class=md-nav__link> Contextual Multi-Armed Bandit </a> </li> <li class=md-nav__item> <a href=../../../research/tfidf-score/notes/ class=md-nav__link> TF-IDF for Information Retrieval </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> SEED Labs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="SEED Labs" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"></span> SEED Labs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../seedlabs/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../seedlabs/applied-crypto/notes/ class=md-nav__link> Applied Cryptograph Notes </a> </li> <li class=md-nav__item> <a href=../../../seedlabs/public-key-cryptography-and-pki/notes/ class=md-nav__link> Public Key Cryptography and PKI </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> System Design <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="System Design" data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"></span> System Design </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../system-design/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../system-design/browser/notes.md class=md-nav__link> How Browser Works </a> </li> <li class=md-nav__item> <a href=../../../system-design/concurrency/notes/ class=md-nav__link> Concurrency and Synchronization </a> </li> <li class=md-nav__item> <a href=../../../system-design/concepts/notes/ class=md-nav__link> Distributed System Concepts </a> </li> <li class=md-nav__item> <a href=../../../system-design/patterns/notes/ class=md-nav__link> Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/tinyurl/notes/ class=md-nav__link> How to Design TinyUrl </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/twitter/notes/ class=md-nav__link> How to Design Twitter </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/ticketmaster/notes/ class=md-nav__link> How to Design Ticketmaster </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#binary-search-problem-characteristics class=md-nav__link> Binary search problem characteristics </a> </li> <li class=md-nav__item> <a href=#binary-search-problem-solving-techniques class=md-nav__link> Binary search problem solving techniques </a> </li> <li class=md-nav__item> <a href=#binary-search-practical-use-case class=md-nav__link> Binary search practical use case </a> </li> <li class=md-nav__item> <a href=#binary-search-in-c-stl class=md-nav__link> Binary search in C++ STL </a> </li> <li class=md-nav__item> <a href=#caveat-of-binary-search-implementation class=md-nav__link> Caveat of binary search implementation </a> </li> <li class=md-nav__item> <a href=#a-universal-binary-search-implementation class=md-nav__link> A "universal" binary search implementation </a> <nav class=md-nav aria-label="A " universal&quot; binary search implementation&quot;> <ul class=md-nav__list> <li class=md-nav__item> <a href=#important-observations-about-this-implementation class=md-nav__link> Important observations about this implementation </a> </li> <li class=md-nav__item> <a href=#claims-regarding-this-binary-search-routine class=md-nav__link> Claims regarding this binary search routine </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#category-1-binary-search-on-sorted-arrays class=md-nav__link> Category 1 Binary search on sorted arrays </a> <nav class=md-nav aria-label="Category 1 Binary search on sorted arrays"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#34-search-for-a-range class=md-nav__link> 34. Search for a Range </a> </li> <li class=md-nav__item> <a href=#35-search-insert-position class=md-nav__link> 35. Search Insert Position </a> </li> <li class=md-nav__item> <a href=#33-search-in-rotated-sorted-array class=md-nav__link> 33. Search in Rotated Sorted Array </a> </li> <li class=md-nav__item> <a href=#81-search-in-rotated-sorted-array-ii class=md-nav__link> 81. Search in Rotated Sorted Array II </a> </li> <li class=md-nav__item> <a href=#153-find-minimum-in-rotated-sorted-array class=md-nav__link> 153. Find Minimum in Rotated Sorted Array </a> </li> <li class=md-nav__item> <a href=#154-find-minimum-in-rotated-sorted-array-ii class=md-nav__link> 154. Find Minimum in Rotated Sorted Array II </a> </li> <li class=md-nav__item> <a href=#162-find-peak-element class=md-nav__link> 162 Find Peak Element </a> </li> <li class=md-nav__item> <a href=#278-first-bad-version class=md-nav__link> 278. First Bad Version </a> </li> <li class=md-nav__item> <a href=#74-search-a-2d-matrix class=md-nav__link> 74. Search a 2D Matrix </a> </li> <li class=md-nav__item> <a href=#240-search-a-2d-matrix-ii class=md-nav__link> 240. Search a 2D Matrix II </a> </li> <li class=md-nav__item> <a href=#302-smallest-rectangle-enclosing-black-pixels class=md-nav__link> 302. Smallest Rectangle Enclosing Black Pixels </a> </li> <li class=md-nav__item> <a href=#363-max-sum-of-rectangle-no-larger-than-k class=md-nav__link> 363. Max Sum of Rectangle No Larger Than K </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#category-2-using-ordering-abstraction class=md-nav__link> Category 2 Using ordering abstraction </a> <nav class=md-nav aria-label="Category 2 Using ordering abstraction"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#69-sqrtx class=md-nav__link> 69. Sqrt(x) </a> </li> <li class=md-nav__item> <a href=#367-valid-perfect-square class=md-nav__link> 367. Valid Perfect Square </a> </li> <li class=md-nav__item> <a href=#441-arranging-coins class=md-nav__link> 441. Arranging Coins </a> </li> <li class=md-nav__item> <a href=#633-sum-of-square-numbers class=md-nav__link> 633. Sum of Square Numbers </a> </li> <li class=md-nav__item> <a href=#658-find-k-closest-elements class=md-nav__link> 658. Find K Closest Elements </a> </li> <li class=md-nav__item> <a href=#611-valid-triangle-number class=md-nav__link> 611. Valid Triangle Number </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#category-3-using-ordering-abstration-monotonicity class=md-nav__link> Category 3 Using ordering abstration (monotonicity) </a> <nav class=md-nav aria-label="Category 3 Using ordering abstration (monotonicity)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#287-find-the-duplicate-number class=md-nav__link> 287. Find the Duplicate Number </a> </li> <li class=md-nav__item> <a href=#360-sort-transformed-array class=md-nav__link> 360. Sort Transformed Array </a> </li> <li class=md-nav__item> <a href=#374-guess-number-higher-or-lower class=md-nav__link> 374. Guess Number Higher or Lower </a> </li> <li class=md-nav__item> <a href=#475-heaters class=md-nav__link> 475. Heaters </a> </li> <li class=md-nav__item> <a href=#410-split-array-largest-sum class=md-nav__link> 410. Split Array Largest Sum </a> </li> <li class=md-nav__item> <a href=#1011-capacity-to-ship-packages-within-d-days class=md-nav__link> 1011. Capacity To Ship Packages Within D Days </a> </li> <li class=md-nav__item> <a href=#875-koko-eating-bananas class=md-nav__link> 875. Koko Eating Bananas </a> </li> <li class=md-nav__item> <a href=#1539-kth-missing-positive-number class=md-nav__link> 1539. Kth Missing Positive Number </a> </li> <li class=md-nav__item> <a href=#1482-minimum-number-of-days-to-make-m-bouquets class=md-nav__link> 1482. Minimum Number of Days to Make m Bouquets </a> </li> <li class=md-nav__item> <a href=#1283-find-the-smallest-divisor-given-a-threshold class=md-nav__link> 1283. Find the Smallest Divisor Given a Threshold </a> </li> <li class=md-nav__item> <a href=#1231-divide-chocolate class=md-nav__link> 1231. Divide Chocolate </a> </li> <li class=md-nav__item> <a href=#copy-books-lintcode class=md-nav__link> Copy books (lintcode) </a> </li> <li class=md-nav__item> <a href=#183-wood-cut-lintcode class=md-nav__link> 183. Wood cut (lintcode) </a> </li> <li class=md-nav__item> <a href=#774-minimize-max-distance-to-gas-station class=md-nav__link> 774. Minimize Max Distance to Gas Station </a> </li> <li class=md-nav__item> <a href=#644-maximum-average-subarray-ii class=md-nav__link> 644. Maximum Average Subarray II </a> </li> <li class=md-nav__item> <a href=#778-swim-in-rising-water class=md-nav__link> 778. Swim in Rising Water </a> </li> <li class=md-nav__item> <a href=#483-smallest-good-base class=md-nav__link> 483 Smallest Good Base </a> </li> <li class=md-nav__item> <a href=#658-find-k-closest-elements_1 class=md-nav__link> 658. Find K Closest Elements </a> </li> <li class=md-nav__item> <a href=#373-find-k-pairs-with-smallest-sums class=md-nav__link> 373. Find K Pairs with Smallest Sums </a> </li> <li class=md-nav__item> <a href=#378-kth-smallest-element-in-a-sorted-matrix class=md-nav__link> 378. Kth Smallest Element in a Sorted Matrix </a> </li> <li class=md-nav__item> <a href=#668-kth-smallest-number-in-multiplication-table class=md-nav__link> 668. Kth Smallest Number in Multiplication Table </a> </li> <li class=md-nav__item> <a href=#719-find-k-th-smallest-pair-distance class=md-nav__link> 719. Find K-th Smallest Pair Distance </a> </li> <li class=md-nav__item> <a href=#786-k-th-smallest-prime-fraction class=md-nav__link> 786. K-th Smallest Prime Fraction </a> </li> <li class=md-nav__item> <a href=#1631-path-with-minimum-effort class=md-nav__link> 1631. Path With Minimum Effort </a> </li> <li class=md-nav__item> <a href=#1102-path-with-maximum-minimum-value class=md-nav__link> 1102. Path With Maximum Minimum Value </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#category-4-binary-search-as-an-optimization-routine class=md-nav__link> Category 4 Binary search as an optimization routine </a> <nav class=md-nav aria-label="Category 4 Binary search as an optimization routine"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#300-longest-increasing-subsequence class=md-nav__link> 300 Longest Increasing Subsequence </a> </li> <li class=md-nav__item> <a href=#354-russian-doll-envelopes class=md-nav__link> 354. Russian Doll Envelopes </a> </li> <li class=md-nav__item> <a href=#174-dungeon-game class=md-nav__link> 174. Dungeon Game </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=binary-search>Binary Search<a class=headerlink href=#binary-search title="Permanent link">&para;</a></h1> <h2 id=binary-search-problem-characteristics>Binary search problem characteristics<a class=headerlink href=#binary-search-problem-characteristics title="Permanent link">&para;</a></h2> <ol> <li>Ordered binary search. You need to find an index or array element where ordering info is available, either explicitly (sorted array) or implicitly (partially sorted or other special info).</li> <li>monotony pattern. If the ordering info isn't available, but you can exclude "all" the possible cases from left or right by a condition comparing <code>f(mid)</code> to the <code>target</code>.</li> </ol> <h2 id=binary-search-problem-solving-techniques>Binary search problem solving techniques<a class=headerlink href=#binary-search-problem-solving-techniques title="Permanent link">&para;</a></h2> <ol> <li>Clarify that you are trying to find the first one or find the last one.</li> <li>Clarify that you are trying to move the index or move the value (i.e. kth smallest number in a multiplicative table).</li> <li>Use an "ordering abstraction" <code>vless(target, f(mid))</code>. This ordering abstraction will produce a boolean array that indicate the ordering information between the target value and the <code>f(mid)</code>.</li> <li>Decide whether the left or right part the <code>f(mid)</code> should fall into. The principle to determine the predicate is simple: don't rule out the possible result (maintain the loop invariant).</li> <li>Shrink the range accordingly based on the predicate decided in step 3.</li> <li>Test the case that the search range is small, such as only have one or two elements.</li> </ol> <h2 id=binary-search-practical-use-case>Binary search practical use case<a class=headerlink href=#binary-search-practical-use-case title="Permanent link">&para;</a></h2> <ol> <li>Find whether the given target is in the array.</li> <li>Find the position of the first value equal to the given target.</li> <li>Find the insertion position of the given target in the array.</li> <li>Find the position of the last value equal to the given target.</li> <li>Find the total number of x in a sorted array.</li> <li>Find the last element less than the target.</li> <li>Find the first element greater than the target.</li> </ol> <h2 id=binary-search-in-c-stl>Binary search in C++ STL<a class=headerlink href=#binary-search-in-c-stl title="Permanent link">&para;</a></h2> <ol> <li><code>lower_bound</code>: return iterator point to the element <strong>no less</strong> than the target.</li> <li><code>upper_bound</code>: return iterator point to the element <strong>greater</strong> than the target.</li> <li><code>equal_range</code>: return a pair of iterators, the first of which is <code>lower_bound</code>, the second is <code>upper_bound</code>.</li> <li><code>binary_search</code>: return true if an element equivalent to <code>val</code> is found, and false otherwise.</li> </ol> <h2 id=caveat-of-binary-search-implementation>Caveat of binary search implementation<a class=headerlink href=#caveat-of-binary-search-implementation title="Permanent link">&para;</a></h2> <ol> <li>Specify the range: <code>[start, end)</code> or <code>[start, end]</code>? C++ STL used <code>[start, end)</code> to denote a range, which bring in many conveniences. We will stick on this convention.</li> <li>Which while loop condition? <code>start &lt; end</code>? <code>start &lt;= end</code>? <code>start != end</code>? <code>start + 1 &lt; end</code>?</li> <li>The calculation of the <code>mid</code>. <code>mid = start + (end - start) / 2</code> or <code>mid = (start + end) / 2</code>?</li> <li>To proof <code>mid</code> is always in the range <code>[begin, end)</code>.</li> <li>The "bisection": <code>start = mid + 1</code>, <code>start = mid</code>, or <code>end = mid - 1</code> or <code>end = mid</code>?</li> <li>Where is the result? <code>start</code>? <code>end</code>? How to make sure?</li> </ol> <h2 id=a-universal-binary-search-implementation>A "universal" binary search implementation<a class=headerlink href=#a-universal-binary-search-implementation title="Permanent link">&para;</a></h2> <p>Despite the above caveats, just remember that there are two versions of binary search one can write based on the range <code>[begin, end)</code> and <code>[begin, end]</code>. Iterator type in C++ using the former, it have many benefits in reduce the code complexity. Among all the binary search implementation you have seen, the following one is the most powerful version and it equivalent to C++ STL <code>lower_bound</code> algorithm.</p> <div class=highlight><pre><span></span><code><span class=cm>/**</span>
<span class=cm>* return an index to an element no less than x. Be more specifically, if there is</span>
<span class=cm>* an element in the given array equal to x, it returns the index of first such</span>
<span class=cm>* element; if there is no element that is equal to x, it returns the index</span>
<span class=cm>* where x can be inserted into the position without changing the ordering of</span>
<span class=cm>* the elements.</span>
<span class=cm>*</span>
<span class=cm>* All possible return value for calling this function with array.size() == n is</span>
<span class=cm>* [0, 1, ..., n - 1, n]</span>
<span class=cm>*</span>
<span class=cm>*/</span>
<span class=kt>size_t</span> <span class=nf>binary_search</span><span class=p>(</span><span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>array</span><span class=p>,</span> <span class=kt>size_t</span> <span class=n>n</span><span class=p>)</span>
<span class=p>{</span>
    <span class=kt>size_t</span> <span class=n>begin</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
    <span class=k>while</span> <span class=p>(</span><span class=n>begin</span> <span class=o>!=</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>size_t</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>begin</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>begin</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>array</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>x</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>begin</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
            <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>begin</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div> <h3 id=important-observations-about-this-implementation>Important observations about this implementation<a class=headerlink href=#important-observations-about-this-implementation title="Permanent link">&para;</a></h3> <ol> <li> <p><code>mid</code> cannot less than <code>begin</code>, they can be equal. This will ensure <code>begin = mid + 1</code> in the if statement at least reduce the size of [begin, end] by 1.</p> <ul> <li>Informal proof: <code>if (array[mid] &lt; x)</code>, it indicate x can only possible be in array[mid + 1, mid + 2, ... n - 1]. <code>mid + 1</code> is at least 1 greater than begin.</li> </ul> </li> <li> <p><code>mid</code> and <code>end</code> never equal inside the while loop, <code>mid &lt; end</code> is always hold. This will ensure <code>end = mid</code> in the else statement at least reduce the size of <code>[begin, end]</code> by 1.</p> <ul> <li>Informal proof: we have <code>begain &lt; end</code>, so <code>begin + end &lt; 2 * end</code>, thus <code>(begin + end) / 2 &lt; end</code>, because integer divisioin truncate down, <code>mid = (begin + end) / 2</code> always less than end.</li> </ul> </li> <li> <p><code>begin</code> and <code>end</code> never cross.</p> <ul> <li>Informal proof: Inside the while loop, at the begining, we have <code>begin &lt; end</code>. If the current iteration executes the <code>if</code> condition, <code>begin = mid + 1</code> at most advance <code>begin</code> to <code>end</code> but not exceed <code>end</code>. If it execute the <code>else</code> condition, <code>end = mid</code> would at worst case change <code>end</code> point to the minimum value of <code>mid</code>, because we have <code>begin &lt;= mid</code>. Thus, we can conclude that executing the statement <code>end = mid</code> will not change <code>end</code> less than <code>begin</code>, at worst equal to <code>begin</code>.</li> </ul> </li> </ol> <h3 id=claims-regarding-this-binary-search-routine>Claims regarding this binary search routine<a class=headerlink href=#claims-regarding-this-binary-search-routine title="Permanent link">&para;</a></h3> <ol> <li>The range <code>[begin, end)</code> is used, which comply to the convention used in C++ iterator.</li> <li>It is impossible that <code>mid == end</code>. If they are equal, <code>array[n]</code> is invalid memory access.</li> <li>We use the loop condition <code>while (begin != end)</code> to indicate that once the loop terminates, we have <code>begin == end</code>. By checking whether <code>begin</code> is a valid index to the array or not, we can know whether <code>x</code> is greater than all the elements in the array or not. If we want to check whether <code>x</code> is found in the array, we simply check <code>array[begin] == x</code>. However, this condition is based on the assumption that <code>begin &lt; end</code> initially. Considering that, using <code>while (begin &lt; end)</code> is better if you cannot ensure <code>begin &lt; end</code> before the loop.</li> <li>Setting <code>begin = mid + 1</code> reduces the size of the remaining interested sub-array and maintains the invariant, which is if x in the array, x is in <code>[begin, end)</code>.</li> <li>Setting <code>end = mid</code> reduces the size of the remaining interested sub-array (mid never equal to end) and maintains the invariant, which is if x in the array, x is in <code>[begin, end)</code>. This claim is a little hard to absorb. On way to understand is like the following: ~~Because we need keep searching x in the range <code>[begin, mid]</code> if we get in the else statement. In the else case there are two possibilities: 1) <code>array[mid] &gt; x</code>. 2) <code>array[mid] = x</code>. For 1) it indicates <code>x</code> is in <code>[begin, mid)</code>, setting <code>end = mid</code> maintains the loop invariant correctly, which is that <code>x</code> is in the shrinked range. For the 2) it is a little complex. If <code>array[mid]</code> is the only element equal to x, setting <code>end = mid</code> appears violate the loop invariant by exclude x from the range <code>[begin, end)</code>. however, remember <code>array[mid]</code> is the only element equal to x, after the while loop, <code>begin = end</code>, we have the <code>x</code> found by <code>begin</code> even though theoretically <code>[begin, end)</code> is already an empty range since <code>begin = end</code> and <code>array[begin] = array[end] = x</code>. If there are more values are equal to <code>x</code> before and after the element <code>array[mid]</code> the loop will always end up finding the first <code>x</code> value in the array.</li> <li>If we use <code>end = mid + 1</code>. Try test case <code>[1, 3, 5, 7]</code>, with <code>x = 0</code>. deadloop will accur. i.e. <code>begin = 0, mid = 1, end = 2</code>.</li> </ol> <h2 id=category-1-binary-search-on-sorted-arrays>Category 1 Binary search on sorted arrays<a class=headerlink href=#category-1-binary-search-on-sorted-arrays title="Permanent link">&para;</a></h2> <p>To solve this type of binary search problem. You should focus on the following:</p> <ol> <li>Come up test cases to verify your solution.</li> <li>Be able to find which side to drop for each iteration.</li> <li>Be extremly careful "off by 1" bugs. (1. reasoning: is mid value possible to be the solution or not. 2. exercise test cases: especially short ones)</li> </ol> <h3 id=34-search-for-a-range>34. Search for a Range<a class=headerlink href=#34-search-for-a-range title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=1:3><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><label for=__tabbed_1_1>C++ Use STL function</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>searchRange</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>-1</span><span class=p>);</span>
        <span class=kt>int</span> <span class=n>low</span> <span class=o>=</span> <span class=n>lower_bound</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>target</span><span class=p>)</span> <span class=o>-</span> <span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>high</span> <span class=o>=</span> <span class=n>upper_bound</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>target</span><span class=p>)</span> <span class=o>-</span> <span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>low</span> <span class=o>==</span> <span class=n>high</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>res</span><span class=p>;</span>

        <span class=k>return</span> <span class=p>{</span><span class=n>low</span><span class=p>,</span> <span class=n>hight</span> <span class=o>-</span> <span class=mi>1</span><span class=p>};</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_1_2 name=__tabbed_1 type=radio><label for=__tabbed_1_2>C++ Implementation of binary search</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>searchRange</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>-1</span><span class=p>);</span>

        <span class=kt>int</span> <span class=n>low</span> <span class=o>=</span> <span class=n>lower_bound</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>target</span><span class=p>);</span>
        <span class=c1>//int high = lower_bound(nums, target + 1); // also works.</span>
        <span class=kt>int</span> <span class=n>high</span> <span class=o>=</span> <span class=n>upper_bound</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>target</span><span class=p>);</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>low</span> <span class=o>==</span> <span class=n>high</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=p>{</span><span class=n>low</span><span class=p>,</span> <span class=n>high</span> <span class=o>-</span> <span class=mi>1</span><span class=p>};</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>lower_bound</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>upper_bound</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_1_3 name=__tabbed_1 type=radio><label for=__tabbed_1_3>Python solution</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>searchRange</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>,</span> <span class=n>target</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type nums: List[int]</span>
<span class=sd>        :type target: int</span>
<span class=sd>        :rtype: List[int]</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>]</span>

        <span class=n>begin</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>end</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span>

        <span class=k>while</span> <span class=n>begin</span> <span class=o>!=</span> <span class=n>end</span><span class=p>:</span>
            <span class=n>mid</span> <span class=o>=</span> <span class=n>begin</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>begin</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>
            <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>target</span><span class=p>:</span>
                <span class=n>begin</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span>
        <span class=k>if</span> <span class=n>begin</span> <span class=o>==</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>):</span>
            <span class=k>return</span> <span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>]</span>

        <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>begin</span><span class=p>]</span> <span class=o>==</span> <span class=n>target</span><span class=p>:</span>
            <span class=n>lower</span> <span class=o>=</span> <span class=n>begin</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>lower</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span>

        <span class=n>begin</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>end</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span>

        <span class=k>while</span> <span class=n>begin</span> <span class=o>!=</span> <span class=n>end</span><span class=p>:</span>
            <span class=n>mid</span> <span class=o>=</span> <span class=n>begin</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>begin</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>
            <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>target</span><span class=p>:</span>
                <span class=n>begin</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span>

        <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>begin</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=n>target</span><span class=p>:</span>
            <span class=n>upper</span> <span class=o>=</span> <span class=n>begin</span> <span class=o>-</span> <span class=mi>1</span>
        <span class=k>else</span><span class=p>:</span>
            <span class=n>upper</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span>

        <span class=k>return</span> <span class=p>[</span><span class=n>lower</span><span class=p>,</span> <span class=n>upper</span><span class=p>]</span>
</code></pre></div> </div> </div> <h3 id=35-search-insert-position>35. Search Insert Position<a class=headerlink href=#35-search-insert-position title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=2:1><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><label for=__tabbed_2_1>C++ solution lower_bound</label><div class=tabbed-content></div> </div> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>searchInsert</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=33-search-in-rotated-sorted-array>33. Search in Rotated Sorted Array<a class=headerlink href=#33-search-in-rotated-sorted-array title="Permanent link">&para;</a></h3> <p>How to locate the sorted half?</p> <div class=tabbed-set data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><label for=__tabbed_3_1>C++</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=cm>/**</span>
<span class=cm>t = 1       t = 3        t = 5       t = 4       t = -1</span>
<span class=cm>5 1 2 3 4   5 1 2 3 4    5 1 2 3 4   5 1 2 3 4   5 1 2 3 4</span>
<span class=cm>5 1               3 4    5 1               3 4   5 1</span>
<span class=cm>1               3      5                   4     1 &lt;--need check</span>
<span class=cm>*/</span>
<span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>search</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>A</span><span class=p>,</span> <span class=kt>int</span> <span class=n>t</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=k>return</span> <span class=mi>-1</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>==</span> <span class=n>t</span><span class=p>)</span> <span class=k>return</span> <span class=n>m</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>])</span> <span class=p>{</span> <span class=c1>// left is sorted</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>t</span> <span class=o>&amp;&amp;</span> <span class=n>t</span> <span class=o>&lt;</span> <span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>])</span> <span class=p>{</span>
                    <span class=n>r</span> <span class=o>=</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>A</span><span class=p>[</span><span class=n>r</span><span class=p>])</span> <span class=p>{</span> <span class=c1>// right is sorted</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>t</span> <span class=o>&amp;&amp;</span> <span class=n>t</span> <span class=o>&lt;=</span> <span class=n>A</span><span class=p>[</span><span class=n>r</span><span class=p>])</span> <span class=p>{</span>
                    <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>r</span> <span class=o>=</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span> <span class=c1>// if equal, remove one. case: [3, 1], 1</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>==</span> <span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>])</span> <span class=n>l</span><span class=o>++</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>==</span> <span class=n>A</span><span class=p>[</span><span class=n>r</span><span class=p>])</span> <span class=n>r</span><span class=o>--</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>A</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>==</span> <span class=n>t</span> <span class=o>?</span> <span class=nl>l</span> <span class=p>:</span> <span class=mi>-1</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_3_2 name=__tabbed_3 type=radio><label for=__tabbed_3_2>Python</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>search</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>,</span> <span class=n>target</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type nums: List[int]</span>
<span class=sd>        :type target: int</span>
<span class=sd>        :rtype: int</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>

        <span class=n>left</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>right</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span>

        <span class=k>while</span> <span class=n>left</span> <span class=o>&lt;</span> <span class=n>right</span><span class=p>:</span>
            <span class=n>mid</span> <span class=o>=</span> <span class=n>left</span> <span class=o>+</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>

            <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>==</span> <span class=n>target</span><span class=p>:</span>
                <span class=k>return</span> <span class=n>mid</span><span class=p>;</span>

            <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]:</span>
                <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>target</span> <span class=ow>and</span> <span class=n>target</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]:</span>
                    <span class=n>right</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>left</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>

            <span class=k>elif</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>right</span><span class=p>]:</span>
                <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>target</span> <span class=ow>and</span> <span class=n>target</span> <span class=o>&lt;=</span> <span class=n>nums</span><span class=p>[</span><span class=n>right</span><span class=p>]:</span>
                    <span class=n>left</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>right</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span>

            <span class=k>else</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]:</span>
                    <span class=n>left</span> <span class=o>+=</span> <span class=mi>1</span>
                <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>right</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]:</span>
                    <span class=n>right</span> <span class=o>-=</span> <span class=mi>1</span>

        <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span> <span class=o>==</span> <span class=n>target</span><span class=p>:</span>
            <span class=k>return</span> <span class=n>left</span>

        <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>
</code></pre></div> </div> </div> <h3 id=81-search-in-rotated-sorted-array-ii>81. Search in Rotated Sorted Array II<a class=headerlink href=#81-search-in-rotated-sorted-array-ii title="Permanent link">&para;</a></h3> <p>How to locate the sorted half?</p> <div class=tabbed-set data-tabs=4:2><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><label for=__tabbed_4_1>C++</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>bool</span> <span class=n>search</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>A</span><span class=p>,</span> <span class=kt>int</span> <span class=n>t</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span>
            <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>==</span> <span class=n>t</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>])</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>t</span> <span class=o>&amp;&amp;</span> <span class=n>t</span> <span class=o>&lt;</span> <span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>])</span> <span class=p>{</span>
                    <span class=n>r</span> <span class=o>=</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>A</span><span class=p>[</span><span class=n>r</span><span class=p>])</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>t</span> <span class=o>&amp;&amp;</span> <span class=n>t</span> <span class=o>&lt;=</span> <span class=n>A</span><span class=p>[</span><span class=n>r</span><span class=p>])</span> <span class=p>{</span>
                    <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>r</span> <span class=o>=</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>==</span> <span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>])</span> <span class=n>l</span><span class=o>++</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>==</span> <span class=n>A</span><span class=p>[</span><span class=n>r</span><span class=p>])</span> <span class=n>r</span><span class=o>--</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>A</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>==</span> <span class=n>t</span><span class=o>?</span> <span class=nb>true</span> <span class=o>:</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_4_2 name=__tabbed_4 type=radio><label for=__tabbed_4_2>Python</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>search</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>,</span> <span class=n>target</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type nums: List[int]</span>
<span class=sd>        :type target: int</span>
<span class=sd>        :rtype: int</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>False</span>

        <span class=n>left</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>right</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span>

        <span class=k>while</span> <span class=n>left</span> <span class=o>&lt;</span> <span class=n>right</span><span class=p>:</span>
            <span class=n>mid</span> <span class=o>=</span> <span class=n>left</span> <span class=o>+</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>

            <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>==</span> <span class=n>target</span><span class=p>:</span>
                <span class=k>return</span> <span class=kc>True</span>

            <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]:</span>
                <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>target</span> <span class=ow>and</span> <span class=n>target</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]:</span>
                    <span class=n>right</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>left</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>

            <span class=k>elif</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>right</span><span class=p>]:</span>
                <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>target</span> <span class=ow>and</span> <span class=n>target</span> <span class=o>&lt;=</span> <span class=n>nums</span><span class=p>[</span><span class=n>right</span><span class=p>]:</span>
                    <span class=n>left</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>right</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span>

            <span class=k>else</span><span class=p>:</span>
                <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]:</span>
                    <span class=n>left</span> <span class=o>+=</span> <span class=mi>1</span>
                <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>right</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]:</span>
                    <span class=n>right</span> <span class=o>-=</span> <span class=mi>1</span>

        <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span> <span class=o>==</span> <span class=n>target</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>True</span>

        <span class=k>return</span> <span class=kc>False</span>
</code></pre></div> </div> </div> <h3 id=153-find-minimum-in-rotated-sorted-array>153. Find Minimum in Rotated Sorted Array<a class=headerlink href=#153-find-minimum-in-rotated-sorted-array title="Permanent link">&para;</a></h3> <p>Try to locate the valley which contains the min.</p> <ol> <li>Notice when <code>A[0] &lt; A[n - 1]</code>, return <code>A[0]</code>.</li> <li>Draw a monotonic curve and then split the curve into two half, swith the order. This can help you to write the code.</li> </ol> <div class=tabbed-set data-tabs=5:2><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><label for=__tabbed_5_1>C++</label><div class=tabbed-content></div> <input id=__tabbed_5_2 name=__tabbed_5 type=radio><label for=__tabbed_5_2>Python</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>findMin</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type nums: List[int]</span>
<span class=sd>        :rtype: int</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>

        <span class=n>left</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>right</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span>
        <span class=k>while</span> <span class=n>left</span> <span class=o>&lt;</span> <span class=n>right</span><span class=p>:</span>
            <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>right</span><span class=p>]:</span>
                <span class=k>return</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span>

            <span class=n>mid</span> <span class=o>=</span> <span class=n>left</span> <span class=o>+</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>

            <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>right</span><span class=p>]:</span>
                <span class=n>left</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>right</span> <span class=o>=</span> <span class=n>mid</span>

        <span class=k>return</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span>
</code></pre></div> </div> </div> <h3 id=154-find-minimum-in-rotated-sorted-array-ii>154. Find Minimum in Rotated Sorted Array II<a class=headerlink href=#154-find-minimum-in-rotated-sorted-array-ii title="Permanent link">&para;</a></h3> <p>Locate the valley which contains the min.</p> <ol> <li>Since duplicates exist. we cannot use the observation <code>A[l] == A[r]</code>.</li> <li>Here we deal with duplicates using decrease by one step.</li> </ol> <div class=tabbed-set data-tabs=6:2><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><label for=__tabbed_6_1>C++</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findMin</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>A</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>A</span><span class=p>[</span><span class=n>r</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>A</span><span class=p>[</span><span class=n>r</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span><span class=o>--</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>A</span><span class=p>[</span><span class=n>l</span><span class=p>];</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_6_2 name=__tabbed_6 type=radio><label for=__tabbed_6_2>Python</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>findMin</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type nums: List[int]</span>
<span class=sd>        :rtype: int</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
            <span class=k>return</span> <span class=o>-</span><span class=mi>1</span>

        <span class=n>left</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>right</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span>

        <span class=k>while</span> <span class=n>left</span> <span class=o>&lt;</span> <span class=n>right</span><span class=p>:</span>
            <span class=n>mid</span> <span class=o>=</span> <span class=n>left</span> <span class=o>+</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>

            <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>right</span><span class=p>]:</span>
                <span class=n>left</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>
            <span class=k>elif</span> <span class=n>nums</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>right</span><span class=p>]:</span>
                <span class=n>right</span> <span class=o>=</span> <span class=n>mid</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>right</span> <span class=o>-=</span> <span class=mi>1</span>

        <span class=k>return</span> <span class=n>nums</span><span class=p>[</span><span class=n>left</span><span class=p>]</span>
</code></pre></div> </div> </div> <h3 id=162-find-peak-element>162 Find Peak Element<a class=headerlink href=#162-find-peak-element title="Permanent link">&para;</a></h3> <p>Use Binary search</p> <ol> <li>Use the neighboring relation to determin which side a peak value may occur then eliminate the other side.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findPeakElement</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>A</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>A</span><span class=p>[</span><span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>A</span><span class=p>[</span><span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=278-first-bad-version>278. First Bad Version<a class=headerlink href=#278-first-bad-version title="Permanent link">&para;</a></h3> <p>Binary search</p> <ol> <li>Notice how this can be related to the ordering abstraction.</li> </ol> <div class=highlight><pre><span></span><code><span class=c1>// Forward declaration of isBadVersion API.</span>
<span class=kt>bool</span> <span class=nf>isBadVersion</span><span class=p>(</span><span class=kt>int</span> <span class=n>version</span><span class=p>);</span>
<span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>firstBadVersion</span><span class=p>(</span><span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>isBadVersion</span><span class=p>(</span><span class=n>m</span><span class=p>))</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=74-search-a-2d-matrix>74. Search a 2D Matrix<a class=headerlink href=#74-search-a-2d-matrix title="Permanent link">&para;</a></h3> <p>Binary search</p> <ol> <li>We can view the matrix as a big sorted array and then binary search the target.</li> <li>Notice test your finished routine using edge cases. (i.e. the initial value of end)</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>bool</span> <span class=n>searchMatrix</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>?</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>:</span> <span class=mi>0</span><span class=p>;</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>m</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=n>m</span> <span class=o>*</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>/</span> <span class=n>n</span><span class=p>,</span> <span class=n>j</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>%</span> <span class=n>n</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>matrix</span><span class=p>[</span><span class=n>start</span> <span class=o>/</span> <span class=n>n</span><span class=p>][</span><span class=n>start</span> <span class=o>%</span> <span class=n>n</span><span class=p>]</span> <span class=o>==</span> <span class=n>target</span> <span class=o>?</span> <span class=nb>true</span> <span class=o>:</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=240-search-a-2d-matrix-ii>240. Search a 2D Matrix II<a class=headerlink href=#240-search-a-2d-matrix-ii title="Permanent link">&para;</a></h3> <p>Binary search to exclude whole column or whole row</p> <ol> <li>the key is you decide where to start the compare. If you start from left bottom or right top, the solution should be abvious.</li> <li>Notice the idea is from binary search, if ordering info available, we want to exclude as many as impossible values as we can.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>bool</span> <span class=n>searchMatrix</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>?</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>:</span> <span class=mi>0</span><span class=p>;</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>m</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>x</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>]</span> <span class=o>==</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>y</span><span class=o>++</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>x</span><span class=o>--</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=302-smallest-rectangle-enclosing-black-pixels>302. Smallest Rectangle Enclosing Black Pixels<a class=headerlink href=#302-smallest-rectangle-enclosing-black-pixels title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=7:1><input checked=checked id=__tabbed_7_1 name=__tabbed_7 type=radio><label for=__tabbed_7_1>C++ Brute Force</label><div class=tabbed-content></div> </div> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>minArea</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;&amp;</span> <span class=n>image</span><span class=p>,</span> <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=kt>int</span> <span class=n>y</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>image</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>?</span> <span class=n>image</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>top</span> <span class=o>=</span> <span class=n>m</span><span class=p>,</span> <span class=n>bottom</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>left</span> <span class=o>=</span> <span class=n>n</span><span class=p>,</span> <span class=n>right</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>image</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;1&#39;</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>top</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>top</span><span class=p>,</span> <span class=n>i</span><span class=p>);</span>
                    <span class=n>bottom</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>bottom</span><span class=p>,</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
                    <span class=n>left</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>left</span><span class=p>,</span> <span class=n>j</span><span class=p>);</span>
                    <span class=n>right</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>right</span><span class=p>,</span> <span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>bottom</span> <span class=o>-</span> <span class=n>top</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Binary search</p> <ol> <li>Notice the binary search idea is related to the problem Smallest Good Base and Wood Cut.</li> <li>The basic idea is to search each of <code>1</code> from 4 directions. First, make sure you can search one boundary and the others are similar. For example, to search the first row that contains <code>1</code>, we can look at the whole column/row to see whether this col/row have <code>1</code>. Because we are searching the first row that have <code>1</code> top down, bisec based on the count of <code>1</code> on each row we can know whether we ignore the upper half or the lower half.</li> </ol> <div class=tabbed-set data-tabs=8:5><input checked=checked id=__tabbed_8_1 name=__tabbed_8 type=radio><label for=__tabbed_8_1>C++ Binary Search</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>minArea</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;&amp;</span> <span class=n>image</span><span class=p>,</span> <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=kt>int</span> <span class=n>y</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>image</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>?</span> <span class=n>image</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>:</span> <span class=mi>0</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>top</span> <span class=o>=</span> <span class=n>bsearch_byrows</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=nb>true</span><span class=p>);</span> <span class=c1>// search top</span>
        <span class=kt>int</span> <span class=n>bottom</span> <span class=o>=</span> <span class=n>bsearch_byrows</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>m</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=nb>false</span><span class=p>);</span>
        <span class=kt>int</span> <span class=n>left</span> <span class=o>=</span> <span class=n>bsearch_bycols</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>top</span><span class=p>,</span> <span class=n>bottom</span><span class=p>,</span> <span class=nb>true</span><span class=p>);</span>
        <span class=kt>int</span> <span class=n>right</span> <span class=o>=</span> <span class=n>bsearch_bycols</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>y</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>top</span><span class=p>,</span> <span class=n>bottom</span><span class=p>,</span> <span class=nb>false</span><span class=p>);</span>

        <span class=k>return</span> <span class=p>(</span><span class=n>bottom</span> <span class=o>-</span> <span class=n>top</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>bsearch_byrows</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;&amp;</span> <span class=n>image</span><span class=p>,</span> <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=kt>int</span> <span class=n>y</span><span class=p>,</span>
                    <span class=kt>int</span> <span class=n>left</span><span class=p>,</span> <span class=kt>int</span> <span class=n>right</span><span class=p>,</span> <span class=kt>bool</span> <span class=n>white2black</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>x</span> <span class=o>&lt;</span> <span class=n>y</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=n>left</span><span class=p>;</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>k</span> <span class=o>&lt;</span> <span class=n>right</span> <span class=o>&amp;&amp;</span> <span class=n>image</span><span class=p>[</span><span class=n>m</span><span class=p>][</span><span class=n>k</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;0&#39;</span><span class=p>)</span> <span class=n>k</span><span class=o>++</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>k</span> <span class=o>&lt;</span> <span class=n>right</span> <span class=o>==</span> <span class=n>white2black</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// mth row have &#39;1&#39;</span>
                <span class=n>y</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>x</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>x</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>bsearch_bycols</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;&amp;</span> <span class=n>image</span><span class=p>,</span> <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=kt>int</span> <span class=n>y</span><span class=p>,</span>
                    <span class=kt>int</span> <span class=n>top</span><span class=p>,</span> <span class=kt>int</span> <span class=n>bottom</span><span class=p>,</span> <span class=kt>bool</span> <span class=n>white2black</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>x</span> <span class=o>&lt;</span> <span class=n>y</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=n>y</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=n>top</span><span class=p>;</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>k</span> <span class=o>&lt;</span> <span class=n>bottom</span> <span class=o>&amp;&amp;</span> <span class=n>image</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=n>m</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;0&#39;</span><span class=p>)</span> <span class=n>k</span><span class=o>++</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>k</span> <span class=o>&lt;</span> <span class=n>bottom</span> <span class=o>==</span> <span class=n>white2black</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// mth column have &#39;1&#39;</span>
                <span class=n>y</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>x</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>x</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_8_2 name=__tabbed_8 type=radio><label for=__tabbed_8_2>Python Binary Search</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>minArea</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>image</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type image: List[List[str]]</span>
<span class=sd>        :type x: int</span>
<span class=sd>        :type y: int</span>
<span class=sd>        :rtype: int</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>m</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>image</span><span class=p>)</span>
        <span class=n>n</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=k>if</span> <span class=n>m</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
            <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>image</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>

        <span class=n>top</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>bsearch_row</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=kc>True</span><span class=p>)</span>
        <span class=n>bottom</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>bsearch_row</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>m</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>
        <span class=n>left</span> <span class=o>=</span>  <span class=bp>self</span><span class=o>.</span><span class=n>bsearch_col</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>top</span><span class=p>,</span> <span class=n>bottom</span><span class=p>,</span> <span class=kc>True</span><span class=p>)</span>
        <span class=n>right</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>bsearch_col</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>y</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>top</span><span class=p>,</span> <span class=n>bottom</span><span class=p>,</span> <span class=kc>False</span><span class=p>)</span>

        <span class=k>return</span> <span class=p>(</span><span class=n>bottom</span> <span class=o>-</span> <span class=n>top</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>)</span>

    <span class=k>def</span> <span class=nf>bsearch_row</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>image</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>,</span> <span class=n>lower</span><span class=p>,</span> <span class=n>upper</span><span class=p>,</span> <span class=n>white2black</span><span class=p>):</span>
        <span class=k>while</span> <span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>:</span>
            <span class=n>m</span> <span class=o>=</span> <span class=p>(</span><span class=n>start</span> <span class=o>+</span> <span class=n>end</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>
            <span class=n>k</span> <span class=o>=</span> <span class=n>lower</span>

            <span class=k>while</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=n>upper</span> <span class=ow>and</span> <span class=n>image</span><span class=p>[</span><span class=n>m</span><span class=p>][</span><span class=n>k</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;0&#39;</span><span class=p>:</span>
                <span class=n>k</span> <span class=o>+=</span> <span class=mi>1</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>k</span> <span class=o>&lt;</span> <span class=n>upper</span><span class=p>)</span> <span class=o>==</span> <span class=n>white2black</span><span class=p>:</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>m</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>start</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span>

        <span class=k>return</span> <span class=n>start</span>

    <span class=k>def</span> <span class=nf>bsearch_col</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>image</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>,</span> <span class=n>lower</span><span class=p>,</span> <span class=n>upper</span><span class=p>,</span> <span class=n>white2black</span><span class=p>):</span>
        <span class=k>while</span> <span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>:</span>
            <span class=n>m</span> <span class=o>=</span> <span class=p>(</span><span class=n>start</span> <span class=o>+</span> <span class=n>end</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>
            <span class=n>k</span> <span class=o>=</span> <span class=n>lower</span>

            <span class=k>while</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=n>upper</span> <span class=ow>and</span> <span class=n>image</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=n>m</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;0&#39;</span><span class=p>:</span>
                <span class=n>k</span> <span class=o>+=</span> <span class=mi>1</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>k</span> <span class=o>&lt;</span> <span class=n>upper</span><span class=p>)</span> <span class=o>==</span> <span class=n>white2black</span><span class=p>:</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>m</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>start</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span>

        <span class=k>return</span> <span class=n>start</span>
</code></pre></div> </div> <input id=__tabbed_8_3 name=__tabbed_8 type=radio><label for=__tabbed_8_3>C++ BFS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>minArea</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;&amp;</span> <span class=n>image</span><span class=p>,</span> <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=kt>int</span> <span class=n>y</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>image</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>?</span> <span class=n>image</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>:</span> <span class=mi>0</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>top</span> <span class=o>=</span> <span class=n>m</span><span class=p>,</span> <span class=n>bottom</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>left</span> <span class=o>=</span> <span class=n>n</span><span class=p>,</span> <span class=n>right</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>xx</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>-1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>};</span>
        <span class=kt>int</span> <span class=n>yy</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>-1</span><span class=p>};</span>

        <span class=n>queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>q</span><span class=p>;</span>
        <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>});</span>
        <span class=n>image</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>]</span> <span class=o>=</span> <span class=sc>&#39;0&#39;</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span> <span class=n>t</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=n>front</span><span class=p>();</span> <span class=n>q</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>

            <span class=n>top</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>top</span><span class=p>,</span> <span class=n>t</span><span class=p>.</span><span class=n>first</span><span class=p>);</span>
            <span class=n>bottom</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>bottom</span><span class=p>,</span> <span class=n>t</span><span class=p>.</span><span class=n>first</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
            <span class=n>left</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>left</span><span class=p>,</span> <span class=n>t</span><span class=p>.</span><span class=n>second</span><span class=p>);</span>
            <span class=n>right</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>right</span><span class=p>,</span> <span class=n>t</span><span class=p>.</span><span class=n>second</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>

            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=mi>4</span><span class=p>;</span> <span class=o>++</span><span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=n>t</span><span class=p>.</span><span class=n>first</span> <span class=o>+</span> <span class=n>xx</span><span class=p>[</span><span class=n>k</span><span class=p>];</span>
                <span class=kt>int</span> <span class=n>b</span> <span class=o>=</span> <span class=n>t</span><span class=p>.</span><span class=n>second</span> <span class=o>+</span> <span class=n>yy</span><span class=p>[</span><span class=n>k</span><span class=p>];</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>a</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>a</span> <span class=o>&lt;</span> <span class=n>m</span> <span class=o>&amp;&amp;</span> <span class=n>b</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>b</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span> <span class=n>image</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;1&#39;</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>});</span>
                    <span class=n>image</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>=</span> <span class=sc>&#39;0&#39;</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>bottom</span> <span class=o>-</span> <span class=n>top</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_8_4 name=__tabbed_8 type=radio><label for=__tabbed_8_4>Python BFS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>collections</span> <span class=kn>import</span> <span class=n>deque</span>

<span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>minArea</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>image</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type image: List[List[str]]</span>
<span class=sd>        :type x: int</span>
<span class=sd>        :type y: int</span>
<span class=sd>        :rtype: int</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>m</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>image</span><span class=p>)</span>
        <span class=n>n</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=k>if</span> <span class=n>m</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
            <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>image</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>

        <span class=n>xx</span> <span class=o>=</span> <span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>]</span>
        <span class=n>yy</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>]</span>

        <span class=n>top</span> <span class=o>=</span> <span class=n>m</span>
        <span class=n>bottom</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>left</span> <span class=o>=</span> <span class=n>n</span>
        <span class=n>right</span> <span class=o>=</span> <span class=mi>0</span>

        <span class=n>q</span> <span class=o>=</span> <span class=n>deque</span><span class=p>()</span>
        <span class=n>q</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>])</span>
        <span class=n>image</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;0&#39;</span>

        <span class=k>while</span> <span class=nb>len</span><span class=p>(</span><span class=n>q</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>:</span>
            <span class=n>t</span> <span class=o>=</span> <span class=n>q</span><span class=o>.</span><span class=n>popleft</span><span class=p>()</span>

            <span class=n>top</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>top</span><span class=p>,</span> <span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span>
            <span class=n>bottom</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>bottom</span><span class=p>,</span> <span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
            <span class=n>left</span> <span class=o>=</span> <span class=nb>min</span><span class=p>(</span><span class=n>left</span><span class=p>,</span> <span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
            <span class=n>right</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>right</span><span class=p>,</span> <span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>

            <span class=k>for</span> <span class=n>k</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>4</span><span class=p>):</span>
                <span class=n>a</span> <span class=o>=</span> <span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>+</span> <span class=n>xx</span><span class=p>[</span><span class=n>k</span><span class=p>]</span>
                <span class=n>b</span> <span class=o>=</span> <span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>+</span> <span class=n>yy</span><span class=p>[</span><span class=n>k</span><span class=p>]</span>
                <span class=k>if</span> <span class=n>a</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>a</span> <span class=o>&lt;</span> <span class=n>m</span> <span class=ow>and</span> <span class=n>b</span> <span class=o>&gt;=</span> <span class=mi>0</span> <span class=ow>and</span> <span class=n>b</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=ow>and</span> <span class=n>image</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;1&#39;</span><span class=p>:</span>
                    <span class=n>q</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>])</span>
                    <span class=n>image</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;0&#39;</span>

        <span class=k>return</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>bottom</span> <span class=o>-</span> <span class=n>top</span><span class=p>)</span>
</code></pre></div> </div> <input id=__tabbed_8_5 name=__tabbed_8 type=radio><label for=__tabbed_8_5>C++ DFS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>private</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>top</span><span class=p>,</span> <span class=n>bottom</span><span class=p>,</span> <span class=n>left</span><span class=p>,</span> <span class=n>right</span><span class=p>;</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>minArea</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;&amp;</span> <span class=n>image</span><span class=p>,</span> <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=kt>int</span> <span class=n>y</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>m</span> <span class=o>=</span> <span class=n>image</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>?</span> <span class=n>image</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
        <span class=n>top</span> <span class=o>=</span> <span class=n>m</span><span class=p>,</span> <span class=n>bottom</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>left</span> <span class=o>=</span> <span class=n>n</span><span class=p>,</span> <span class=n>right</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=n>dfs_helper</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>);</span>

        <span class=k>return</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=n>bottom</span> <span class=o>-</span> <span class=n>top</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=kt>void</span> <span class=n>dfs_helper</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;&amp;</span> <span class=n>image</span><span class=p>,</span> <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=kt>int</span> <span class=n>y</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>x</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>x</span> <span class=o>&gt;=</span> <span class=n>m</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>y</span> <span class=o>&gt;=</span> <span class=n>n</span> <span class=o>||</span> <span class=n>image</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;0&#39;</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=n>image</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>]</span> <span class=o>=</span> <span class=sc>&#39;0&#39;</span><span class=p>;</span>
        <span class=n>top</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>top</span><span class=p>,</span> <span class=n>x</span><span class=p>);</span>
        <span class=n>bottom</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>bottom</span><span class=p>,</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
        <span class=n>left</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>left</span><span class=p>,</span> <span class=n>y</span><span class=p>);</span>
        <span class=n>right</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>right</span><span class=p>,</span> <span class=n>y</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>

        <span class=n>dfs_helper</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>x</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>y</span><span class=p>);</span>
        <span class=n>dfs_helper</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
        <span class=n>dfs_helper</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>x</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>y</span><span class=p>);</span>
        <span class=n>dfs_helper</span><span class=p>(</span><span class=n>image</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=363-max-sum-of-rectangle-no-larger-than-k>363. Max Sum of Rectangle No Larger Than K<a class=headerlink href=#363-max-sum-of-rectangle-no-larger-than-k title="Permanent link">&para;</a></h3> <p>Iterate the wide of the matrix and using prefix sum and set <code>lower_bound</code>.</p> <ol> <li>From the problem Max Sum of Subarry No Larger Than K, we have to enumerate the width of the sub-matrix and sum up all row elements and get an array of length <code>m</code>, <code>m</code> is the number of rows of the matrix. Then apply the method.</li> </ol> <div class=tabbed-set data-tabs=9:1><input checked=checked id=__tabbed_9_1 name=__tabbed_9 type=radio><label for=__tabbed_9_1>C++ presum</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>maxSumSubmatrix</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>matrix</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>?</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=n>INT_MIN</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>l</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>l</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>sums</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=n>l</span><span class=p>;</span> <span class=n>r</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>r</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>sums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+=</span> <span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>r</span><span class=p>];</span>
                <span class=p>}</span>

                <span class=n>set</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>preSumSet</span><span class=p>;</span>
                <span class=n>preSumSet</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
                <span class=kt>int</span> <span class=n>preSum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>curMax</span> <span class=o>=</span> <span class=n>INT_MIN</span><span class=p>;</span>
                <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=nl>sum</span> <span class=p>:</span> <span class=n>sums</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>preSum</span> <span class=o>+=</span> <span class=n>sum</span><span class=p>;</span>
                    <span class=n>set</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;::</span><span class=n>iterator</span> <span class=n>it</span> <span class=o>=</span> <span class=n>preSumSet</span><span class=p>.</span><span class=n>lower_bound</span><span class=p>(</span><span class=n>preSum</span> <span class=o>-</span> <span class=n>k</span><span class=p>);</span>
                    <span class=k>if</span> <span class=p>(</span><span class=n>it</span> <span class=o>!=</span> <span class=n>preSumSet</span><span class=p>.</span><span class=n>end</span><span class=p>())</span> <span class=p>{</span>
                        <span class=n>curMax</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>curMax</span><span class=p>,</span> <span class=n>preSum</span> <span class=o>-</span> <span class=o>*</span><span class=n>it</span><span class=p>);</span>
                    <span class=p>}</span>
                    <span class=n>preSumSet</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>preSum</span><span class=p>);</span>
                <span class=p>}</span>

                <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>curMax</span><span class=p>);</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <p>merge sort</p> <ol> <li>The idea is similar that solution 1. Instead of calculate <code>preSum</code> on the fly, we finish calculation and pass it to a <code>mergeSort</code> routine.</li> <li>The use <code>mergeSort</code> here is to find the <code>A[j] - A[i] &lt;= k</code> efficiently, <code>O(nlogn)</code>.</li> </ol> <div class=tabbed-set data-tabs=10:1><input checked=checked id=__tabbed_10_1 name=__tabbed_10 type=radio><label for=__tabbed_10_1>C++ Merge Sort</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>maxSumSubmatrix</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>?</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>:</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=n>INT_MIN</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>long</span> <span class=kt>long</span><span class=o>&gt;</span> <span class=n>sums</span><span class=p>(</span><span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>l</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>l</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>vector</span><span class=o>&lt;</span><span class=kt>long</span> <span class=kt>long</span><span class=o>&gt;</span><span class=n>sumInRow</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=n>l</span><span class=p>;</span> <span class=n>r</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>r</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>sumInRow</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+=</span> <span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>r</span><span class=p>];</span>
                    <span class=n>sums</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>sums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>sumInRow</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
                <span class=p>}</span>
                <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>mergeSort</span><span class=p>(</span><span class=n>sums</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>k</span><span class=p>));</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>res</span> <span class=o>==</span> <span class=n>k</span><span class=p>)</span> <span class=k>return</span> <span class=n>k</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>mergeSort</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>long</span> <span class=kt>long</span><span class=o>&gt;&amp;</span> <span class=n>sums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>start</span><span class=p>,</span> <span class=kt>int</span> <span class=n>end</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>end</span> <span class=o>==</span> <span class=n>start</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=n>INT_MIN</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=n>mergeSort</span><span class=p>(</span><span class=n>sums</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>mid</span><span class=p>,</span> <span class=n>k</span><span class=p>);</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>res</span> <span class=o>==</span> <span class=n>k</span><span class=p>)</span> <span class=k>return</span> <span class=n>k</span><span class=p>;</span>

        <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>mergeSort</span><span class=p>(</span><span class=n>sums</span><span class=p>,</span> <span class=n>mid</span><span class=p>,</span> <span class=n>end</span><span class=p>,</span> <span class=n>k</span><span class=p>));</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>res</span> <span class=o>==</span> <span class=n>k</span><span class=p>)</span> <span class=k>return</span> <span class=n>k</span><span class=p>;</span>

        <span class=kt>long</span> <span class=kt>long</span> <span class=n>cache</span><span class=p>[</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>];</span>

        <span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>mid</span><span class=p>,</span> <span class=n>c</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>t</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>start</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>mid</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>j</span> <span class=o>&lt;</span> <span class=n>end</span> <span class=o>&amp;&amp;</span> <span class=n>sums</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>-</span> <span class=n>sums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>k</span><span class=p>)</span> <span class=o>++</span><span class=n>j</span><span class=p>;</span> <span class=c1>// search first time sums[j] - sums[i] &gt; k</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&gt;=</span> <span class=n>mid</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// sums[j - 1] - sums[i] &lt;= k, make sure j - 1 is still in right side</span>
                <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=p>(</span><span class=kt>int</span><span class=p>)(</span><span class=n>sums</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=n>sums</span><span class=p>[</span><span class=n>i</span><span class=p>]));</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>res</span> <span class=o>==</span> <span class=n>k</span><span class=p>)</span> <span class=k>return</span> <span class=n>k</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>t</span> <span class=o>&lt;</span> <span class=n>end</span> <span class=o>&amp;&amp;</span> <span class=n>sums</span><span class=p>[</span><span class=n>t</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>sums</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>cache</span><span class=p>[</span><span class=n>c</span><span class=o>++</span><span class=p>]</span> <span class=o>=</span> <span class=n>sums</span><span class=p>[</span><span class=n>t</span><span class=o>++</span><span class=p>];</span>
            <span class=p>}</span>
            <span class=n>cache</span><span class=p>[</span><span class=n>c</span><span class=o>++</span><span class=p>]</span> <span class=o>=</span> <span class=n>sums</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>start</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>t</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>sums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>cache</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=n>start</span><span class=p>];</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h2 id=category-2-using-ordering-abstraction>Category 2 Using ordering abstraction<a class=headerlink href=#category-2-using-ordering-abstraction title="Permanent link">&para;</a></h2> <h3 id=69-sqrtx>69. Sqrt(x)<a class=headerlink href=#69-sqrtx title="Permanent link">&para;</a></h3> <p>Solution 1 using ordering abstraction definition</p> <p>To find a square root of a integer <code>x</code> using binary search. We need to first determin the range [left, right] that the target value <code>sqrt(x)</code> may in. The potential range we can search is <code>[0, x/2 + 1]</code>.</p> <p>Then we should clarify this binary search is the "find the first one" type or the "find the last one" type. Basically, we want to determine our ordering abstraction <code>f(target, g(i))</code> that is able to produce a boolean array. The boolean array have true part and false part seperated. Here <code>target = sqrt(x)</code> and <code>g(i) = i</code>. We define <code>f(sqrt(x), i) = true</code> when <code>i &lt;= sqrt(x)</code> and <code>f(sqrt(x), i) = false</code> when <code>i &gt; sqrt(x)</code>. This came from the following intuition: We are looking for the "last" integer whose square is less than <code>x</code>. Why not the otherwise? Because if you change to find the "first" integer whose square is greater than the <code>x</code> from right section of the boolean array, it is hard to define our ordering abstraction <code>f</code>. Of cause, we can search the "first" integer whose square is greater than <code>x</code> and find the previous integer next to it as the solution, but this later solution is a bit complex and counter intuitive. We prefer the first definition of ordering abstraction. Although a workable solution following the second ordering abstraction is also given below.</p> <p>For example: to solve the sqrt(8) and sqrt(9) using our definition:</p> <div class=highlight><pre><span></span><code>         k, i =  0  1  2  3  4  5  6  7  8  9  10  n = 11
            A = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
f(sqrt(8), k) = [T  T  T  F  F]
f(sqrt(9), k) = [T  T  T  T  F]
</code></pre></div> <p>The binary search routine will be:</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>mySqrt</span><span class=p>(</span><span class=kt>int</span> <span class=n>x</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>x</span> <span class=o>/</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=c1>// int m = l + (r - l) / 2; // will deadloop for 4, why?</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>r</span> <span class=o>-</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>m</span> <span class=o>&lt;=</span> <span class=n>x</span> <span class=o>/</span> <span class=n>m</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 2 using the alternative ordering abstraction definition</p> <p>Second ordering abstraction (find first value whose square is greater than x)</p> <div class=highlight><pre><span></span><code>         k, i =  0  1  2  3  4  5  6  7  8  9  10  n = 11
            A = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
f(sqrt(8), k) = [F  F  F  T  T]
f(sqrt(9), k) = [F  F  F  F  T]
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>mySqrt</span><span class=p>(</span><span class=kt>int</span> <span class=n>x</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>     <span class=c1>// should handle, but will got division by zero in line 9.</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>x</span> <span class=o>/</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>2</span><span class=p>;</span> <span class=c1>// r = x / 2 + 1 will not working for x = 1, have to have the one past last;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=c1>//int m = r - (r - l) / 2; // will dead loop for 4</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>m</span> <span class=o>&gt;</span> <span class=n>x</span> <span class=o>/</span> <span class=n>m</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=367-valid-perfect-square>367. Valid Perfect Square<a class=headerlink href=#367-valid-perfect-square title="Permanent link">&para;</a></h3> <p>Solution 1 Binary search using ordering abstraction</p> <ol> <li>Notice you have to run tests for cases from 1 to 5.</li> </ol> <div class=tabbed-set data-tabs=11:2><input checked=checked id=__tabbed_11_1 name=__tabbed_11 type=radio><label for=__tabbed_11_1>C++</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>bool</span> <span class=n>isPerfectSquare</span><span class=p>(</span><span class=kt>int</span> <span class=n>num</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>num</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>begin</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=n>num</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>begin</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=c1>//long long mid = begin + (end - begin) / 2; // not working, deadloop for 5</span>
            <span class=kt>long</span> <span class=kt>long</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>end</span> <span class=o>-</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>begin</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>mid</span> <span class=o>*</span> <span class=n>mid</span> <span class=o>==</span> <span class=n>num</span><span class=p>)</span>
                <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>mid</span> <span class=o>*</span> <span class=n>mid</span> <span class=o>&lt;</span> <span class=n>num</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>begin</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_11_2 name=__tabbed_11 type=radio><label for=__tabbed_11_2>Python</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>isPerfectSquare</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>num</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type num: int</span>
<span class=sd>        :rtype: bool</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=k>if</span> <span class=n>num</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
            <span class=k>return</span> <span class=kc>True</span>

        <span class=n>lower</span> <span class=o>=</span> <span class=mi>1</span>
        <span class=n>upper</span> <span class=o>=</span> <span class=n>num</span> <span class=o>/</span> <span class=mi>2</span>

        <span class=k>while</span> <span class=n>lower</span> <span class=o>&lt;</span> <span class=n>upper</span><span class=p>:</span>
            <span class=n>mid</span> <span class=o>=</span> <span class=n>upper</span> <span class=o>-</span> <span class=p>(</span><span class=n>upper</span> <span class=o>-</span> <span class=n>lower</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>
            <span class=k>if</span> <span class=n>mid</span> <span class=o>*</span> <span class=n>mid</span> <span class=o>==</span> <span class=n>num</span><span class=p>:</span>
                <span class=k>return</span> <span class=kc>True</span>

            <span class=k>if</span> <span class=n>mid</span> <span class=o>*</span> <span class=n>mid</span> <span class=o>&lt;</span> <span class=n>num</span><span class=p>:</span>
                <span class=n>lower</span> <span class=o>=</span> <span class=n>mid</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>upper</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span>


        <span class=k>return</span> <span class=kc>False</span>
</code></pre></div> </div> </div> <h3 id=441-arranging-coins>441. Arranging Coins<a class=headerlink href=#441-arranging-coins title="Permanent link">&para;</a></h3> <p>Solution 1 Biinary search</p> <ul> <li>Notice the integer overflow possibility, we use <code>long</code> to deal with it.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>arrangeCoins</span><span class=p>(</span><span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=n>n</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=kt>long</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>long</span> <span class=n>r</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>long</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=kt>long</span> <span class=n>t</span> <span class=o>=</span> <span class=n>m</span> <span class=o>*</span> <span class=p>(</span><span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>t</span> <span class=o>==</span> <span class=n>n</span><span class=p>)</span>
                <span class=k>return</span> <span class=n>m</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>t</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>

        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=633-sum-of-square-numbers>633. Sum of Square Numbers<a class=headerlink href=#633-sum-of-square-numbers title="Permanent link">&para;</a></h3> <p>Solution 1 Binary search</p> <ol> <li>Once you have derived value <code>b</code> from <code>a</code> and <code>c</code>, you can binary search <code>b</code>.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>bool</span> <span class=n>judgeSquareSum</span><span class=p>(</span><span class=kt>int</span> <span class=n>c</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>c</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>long</span> <span class=kt>long</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>a</span> <span class=o>*</span> <span class=n>a</span> <span class=o>&lt;=</span> <span class=n>c</span><span class=p>;</span> <span class=o>++</span><span class=n>a</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>b</span> <span class=o>=</span> <span class=n>c</span> <span class=o>-</span> <span class=p>(</span><span class=kt>int</span><span class=p>)</span> <span class=p>(</span><span class=n>a</span> <span class=o>*</span> <span class=n>a</span><span class=p>);</span>

            <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>b</span> <span class=o>/</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>long</span> <span class=kt>long</span> <span class=n>m</span> <span class=o>=</span> <span class=n>r</span> <span class=o>-</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>m</span> <span class=o>*</span> <span class=n>m</span> <span class=o>==</span> <span class=n>b</span><span class=p>)</span>
                    <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>

                <span class=k>if</span> <span class=p>(</span><span class=n>m</span> <span class=o>*</span> <span class=n>m</span> <span class=o>&lt;</span> <span class=n>b</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>l</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>r</span> <span class=o>=</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 2 Two pointers</p> <ol> <li>Notice this square sum can be found efficiently using two pointers.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>bool</span> <span class=n>judgeSquareSum</span><span class=p>(</span><span class=kt>int</span> <span class=n>c</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=n>sqrt</span><span class=p>(</span><span class=n>c</span><span class=p>);</span>
        <span class=k>while</span><span class=p>(</span><span class=n>a</span> <span class=o>&lt;=</span> <span class=n>b</span><span class=p>){</span>
            <span class=kt>int</span> <span class=n>sum</span> <span class=o>=</span> <span class=n>a</span> <span class=o>*</span> <span class=n>a</span> <span class=o>+</span> <span class=n>b</span> <span class=o>*</span> <span class=n>b</span><span class=p>;</span>
            <span class=k>if</span><span class=p>(</span><span class=n>sum</span> <span class=o>&lt;</span> <span class=n>c</span><span class=p>)</span> <span class=n>a</span><span class=o>++</span><span class=p>;</span>
            <span class=k>else</span> <span class=nf>if</span><span class=p>(</span><span class=n>sum</span> <span class=o>&gt;</span> <span class=n>c</span><span class=p>)</span> <span class=n>b</span><span class=o>--</span><span class=p>;</span>
            <span class=k>else</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 3 Using set</p> <ol> <li>Keep inserting the value into a set, in the meantime also look up the other</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>bool</span> <span class=n>judgeSquareSum</span><span class=p>(</span><span class=kt>int</span> <span class=n>c</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>set</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>sqrt</span><span class=p>(</span><span class=n>c</span><span class=p>);</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>s</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>c</span> <span class=o>-</span> <span class=n>i</span><span class=o>*</span><span class=n>i</span><span class=p>);</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>count</span><span class=p>(</span><span class=n>i</span><span class=o>*</span><span class=n>i</span><span class=p>))</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=658-find-k-closest-elements>658. Find K Closest Elements<a class=headerlink href=#658-find-k-closest-elements title="Permanent link">&para;</a></h3> <p>Solution 1 Binary search</p> <ol> <li>Compare to problem 475. Heaters</li> <li>Our search target is to find the starting index of the subarray of length K.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>findClosestElements</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>arr</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>,</span> <span class=kt>int</span> <span class=n>x</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=n>arr</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=n>k</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=c1>// looking for a &quot;mid&quot; that</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>x</span> <span class=o>-</span> <span class=n>arr</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>arr</span><span class=p>[</span><span class=n>mid</span> <span class=o>+</span> <span class=n>k</span><span class=p>]</span> <span class=o>-</span> <span class=n>x</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>arr</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span> <span class=o>+</span> <span class=n>start</span><span class=p>,</span> <span class=n>arr</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span> <span class=o>+</span> <span class=n>start</span> <span class=o>+</span> <span class=n>k</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 2 Binary search and Two pointers</p> <ul> <li>We first use binary search to locate the x value then expand to left and right looking for the k closest elements</li> <li>Notice the <code>i &lt; 0</code> in the if condition, it is very important to be there. otherwise the array index will be out of bound.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>findClosestElements</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>arr</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>,</span> <span class=kt>int</span> <span class=n>x</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>index</span> <span class=o>=</span> <span class=n>lower_bound</span><span class=p>(</span><span class=n>arr</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>arr</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>x</span><span class=p>)</span> <span class=o>-</span> <span class=n>arr</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>index</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span> <span class=o>=</span> <span class=n>index</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>k</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>arr</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>abs</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>-</span> <span class=n>x</span><span class=p>)</span> <span class=o>&lt;</span> <span class=n>abs</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>x</span><span class=p>))</span> <span class=p>{</span>
                <span class=n>j</span><span class=o>++</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>i</span><span class=o>--</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>arr</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span> <span class=o>+</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>arr</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span> <span class=o>+</span> <span class=n>j</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=611-valid-triangle-number>611. Valid Triangle Number<a class=headerlink href=#611-valid-triangle-number title="Permanent link">&para;</a></h3> <ul> <li>The main idea comes from the triangle lateral property, in which the triple should fullfil: <code>a + b &gt; c</code>, <code>a + c &gt; b</code>, and <code>b + c &gt; a</code>. Once we sort it. We are able to gain some advantages that we don't have to check all these 3 relations. Instead, we should only take care of <code>A[i] + A[j] &gt; A[k]</code>, in which <code>i &lt; j &lt; k</code>.</li> <li>Because we sorted the array, we can also fix the <code>i</code> and <code>j</code>, using binary search to find the <code>k</code> in the ragne of <code>A[j + 1] ~ A[n - 1]</code>. We can use our classic binary search template to achieve the goal.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>triangleNumber</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=n>sort</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>2</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span> <span class=c1>// range of all possible k, notice l start with j + 1</span>
                <span class=kt>int</span> <span class=n>t</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>];</span>

                <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
                    <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
                    <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>t</span><span class=p>)</span> <span class=p>{</span>
                        <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
                    <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                        <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
                    <span class=p>}</span>
                <span class=p>}</span>

                <span class=n>res</span> <span class=o>+=</span> <span class=n>l</span> <span class=o>-</span> <span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=c1>// notice the count start from j + 1 to l - 1.</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h2 id=category-3-using-ordering-abstration-monotonicity>Category 3 Using ordering abstration (monotonicity)<a class=headerlink href=#category-3-using-ordering-abstration-monotonicity title="Permanent link">&para;</a></h2> <h3 id=287-find-the-duplicate-number>287. Find the Duplicate Number<a class=headerlink href=#287-find-the-duplicate-number title="Permanent link">&para;</a></h3> <p>Solution 1 Binary search</p> <ul> <li>The problem asking for better than <code>O(n^2)</code> we could check to see whether binary search will work.</li> <li>If you count how many values <code>&lt;=</code> the mid elements of <code>[1, ..., n-1]</code>, it will give you enough information to discard part of the array.</li> <li>Here you should distinguish what will be split and what will be searched. The answer is the <code>[1, ..., n-1]</code> sequence, not the given array. The simple proof of why it works can be put in this the following way.</li> <li>If the count of elements that <code>&lt;=mid</code> in the array is less than <code>mid</code>, we can learn that the duplicate is in the higher end. If the count is greater, we can know that the duplicate element is in the lower end of the sequence <code>[1, ..., n-1]</code>.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findDuplicate</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>begin</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>begin</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>begin</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>begin</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=nl>a</span> <span class=p>:</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>a</span> <span class=o>&lt;=</span> <span class=n>mid</span><span class=p>)</span> <span class=o>++</span><span class=n>count</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>count</span> <span class=o>&lt;=</span> <span class=n>mid</span><span class=p>)</span> <span class=c1>// &quot;=&quot; for [1,2,2]</span>
                <span class=n>begin</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=k>else</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>begin</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 2 tortoise and hare algorithm</p> <ul> <li>This problem is very similar to the the find circle in linked list. Generally, if you repeate <code>A[A[i]]</code>, the out put will show some periodic patterns. In fact you can imagine a rho shaped sequence.</li> <li>Image there is a function <code>f(i) = A[i]</code>, it mapping from <code>1, 2, 3, ... n</code> to <code>1, 2, 3, ... n</code>. Try to traverse <code>A[i]</code>, you will finally get circle through some same sequence of elements again and again, thus you obtain a rho shaped sequency like a circle in a linked list. The reason of it being a rho shape is becuase at least one element you will not come back to it if you leave it.</li> <li><a href=http://www.keithschwarz.com/interesting/code/find-duplicate/FindDuplicate.python.html>Find Duplicate</a></li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findDuplicate</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>slow</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>fast</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>find</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=k>while</span><span class=p>(</span><span class=n>slow</span> <span class=o>!=</span> <span class=n>fast</span> <span class=o>||</span> <span class=p>(</span><span class=n>slow</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>fast</span> <span class=o>==</span> <span class=mi>0</span><span class=p>))</span> <span class=p>{</span>
            <span class=n>slow</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>slow</span><span class=p>];</span>
            <span class=n>fast</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>nums</span><span class=p>[</span><span class=n>fast</span><span class=p>]];</span>
        <span class=p>}</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>slow</span> <span class=o>!=</span> <span class=n>find</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>slow</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>slow</span><span class=p>];</span>
            <span class=n>find</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>find</span><span class=p>];</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>find</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=360-sort-transformed-array>360. Sort Transformed Array<a class=headerlink href=#360-sort-transformed-array title="Permanent link">&para;</a></h3> <h3 id=374-guess-number-higher-or-lower>374. Guess Number Higher or Lower<a class=headerlink href=#374-guess-number-higher-or-lower title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=12:2><input checked=checked id=__tabbed_12_1 name=__tabbed_12 type=radio><label for=__tabbed_12_1>C++ binary search</label><div class=tabbed-content></div> <input id=__tabbed_12_2 name=__tabbed_12 type=radio><label for=__tabbed_12_2>Python</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=c1># The guess API is already defined for you.</span>
<span class=c1># @param num, your guess</span>
<span class=c1># @return -1 if my number is lower, 1 if my number is higher, otherwise return 0</span>
<span class=c1># def guess(num):</span>

<span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>guessNumber</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type n: int</span>
<span class=sd>        :rtype: int</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>begin</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>end</span> <span class=o>=</span> <span class=n>n</span>

        <span class=k>while</span> <span class=n>begin</span> <span class=o>!=</span> <span class=n>end</span><span class=p>:</span>
            <span class=n>mid</span> <span class=o>=</span> <span class=n>begin</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>begin</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>
            <span class=k>if</span> <span class=n>guess</span><span class=p>(</span><span class=n>mid</span><span class=p>)</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
                <span class=k>return</span> <span class=n>mid</span>

            <span class=k>if</span> <span class=n>guess</span><span class=p>(</span><span class=n>mid</span><span class=p>)</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
                <span class=n>begin</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span>

        <span class=k>return</span> <span class=n>begin</span>
</code></pre></div> </div> </div> <h3 id=475-heaters>475. Heaters<a class=headerlink href=#475-heaters title="Permanent link">&para;</a></h3> <p>Sort then brute force</p> <ol> <li>The solution we are looking for is the max value of the smallest house-heater distance.</li> <li>Think through what is the distance you want to keep, min or max</li> </ol> <div class=tabbed-set data-tabs=13:2><input checked=checked id=__tabbed_13_1 name=__tabbed_13 type=radio><label for=__tabbed_13_1>C++</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findRadius</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>houses</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>heaters</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>houses</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>heaters</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>sort</span><span class=p>(</span><span class=n>houses</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>houses</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=n>sort</span><span class=p>(</span><span class=n>heaters</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>heaters</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>

        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=n>INT_MIN</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>abs</span><span class=p>(</span><span class=n>heaters</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=n>houses</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=o>&lt;=</span> <span class=n>abs</span><span class=p>(</span><span class=n>heaters</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>-</span> <span class=n>houses</span><span class=p>[</span><span class=n>i</span><span class=p>]))</span> <span class=p>{</span>
                <span class=n>j</span><span class=o>++</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>abs</span><span class=p>(</span><span class=n>houses</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>heaters</span><span class=p>[</span><span class=n>j</span><span class=p>]));</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_13_2 name=__tabbed_13 type=radio><label for=__tabbed_13_2>Python</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>findRadius</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>houses</span><span class=p>,</span> <span class=n>heaters</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type houses: List[int]</span>
<span class=sd>        :type heaters: List[int]</span>
<span class=sd>        :rtype: int</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>m</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>houses</span><span class=p>)</span>
        <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>heaters</span><span class=p>)</span>

        <span class=n>houses</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
        <span class=n>heaters</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>

        <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>m</span><span class=p>):</span>
            <span class=k>while</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span> <span class=ow>and</span> <span class=nb>abs</span><span class=p>(</span><span class=n>heaters</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=n>houses</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=o>&lt;=</span> <span class=nb>abs</span><span class=p>(</span><span class=n>heaters</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>-</span>  <span class=n>houses</span><span class=p>[</span><span class=n>i</span><span class=p>]):</span>
                <span class=n>j</span> <span class=o>+=</span> <span class=mi>1</span>

            <span class=n>res</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=nb>abs</span><span class=p>(</span><span class=n>houses</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>heaters</span><span class=p>[</span><span class=n>j</span><span class=p>]))</span>

        <span class=k>return</span> <span class=n>res</span>
</code></pre></div> </div> </div> <p>Binary search the neighboring heaters get max of min</p> <ol> <li>Notice we cannot sort hourses and then search each heater's position. A special cases <code>[1, 2, 3] 2</code>, the result is <code>0</code> whereis it should be <code>1</code>.</li> </ol> <div class=tabbed-set data-tabs=14:2><input checked=checked id=__tabbed_14_1 name=__tabbed_14 type=radio><label for=__tabbed_14_1>C++</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findRadius</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>houses</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>heaters</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>heaters</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>

        <span class=n>sort</span><span class=p>(</span><span class=n>heaters</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>heaters</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>

        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=n>INT_MIN</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=nl>house</span> <span class=p>:</span> <span class=n>houses</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>

            <span class=k>while</span> <span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>heaters</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>house</span><span class=p>)</span>
                    <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
                <span class=k>else</span>
                    <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=kt>int</span> <span class=n>dist1</span> <span class=o>=</span> <span class=p>(</span><span class=n>start</span> <span class=o>==</span> <span class=n>n</span><span class=p>)</span> <span class=o>?</span> <span class=nl>INT_MAX</span> <span class=p>:</span> <span class=n>heaters</span><span class=p>[</span><span class=n>start</span><span class=p>]</span> <span class=o>-</span> <span class=n>house</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>dist2</span> <span class=o>=</span> <span class=p>(</span><span class=n>start</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=o>?</span> <span class=nl>INT_MAX</span> <span class=p>:</span> <span class=n>house</span> <span class=o>-</span> <span class=n>heaters</span><span class=p>[</span><span class=n>start</span> <span class=o>-</span> <span class=mi>1</span><span class=p>];</span>
            <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>min</span><span class=p>(</span><span class=n>dist1</span><span class=p>,</span> <span class=n>dist2</span><span class=p>));</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_14_2 name=__tabbed_14 type=radio><label for=__tabbed_14_2>Python</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>findRadius</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>houses</span><span class=p>,</span> <span class=n>heaters</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type houses: List[int]</span>
<span class=sd>        :type heaters: List[int]</span>
<span class=sd>        :rtype: int</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>m</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>houses</span><span class=p>)</span>
        <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>heaters</span><span class=p>)</span>

        <span class=n>heaters</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>

        <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>res</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;-inf&#39;</span><span class=p>)</span>
        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>m</span><span class=p>):</span>
            <span class=n>start</span> <span class=o>=</span> <span class=mi>0</span>
            <span class=n>end</span> <span class=o>=</span> <span class=n>n</span>
            <span class=k>while</span> <span class=n>start</span> <span class=o>!=</span> <span class=n>end</span><span class=p>:</span>
                <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span>
                <span class=k>if</span> <span class=n>heaters</span><span class=p>[</span><span class=n>mid</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>houses</span><span class=p>[</span><span class=n>i</span><span class=p>]:</span>
                    <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span>

            <span class=n>dist1</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>)</span>
            <span class=n>dist2</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=s1>&#39;inf&#39;</span><span class=p>)</span>
            <span class=k>if</span> <span class=n>start</span> <span class=o>!=</span> <span class=n>n</span><span class=p>:</span>
                <span class=n>dist1</span> <span class=o>=</span> <span class=n>heaters</span><span class=p>[</span><span class=n>start</span><span class=p>]</span> <span class=o>-</span> <span class=n>houses</span><span class=p>[</span><span class=n>i</span><span class=p>]</span>
            <span class=k>if</span> <span class=n>start</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
                <span class=n>dist2</span> <span class=o>=</span> <span class=n>houses</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>heaters</span><span class=p>[</span><span class=n>start</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span>

            <span class=n>res</span> <span class=o>=</span> <span class=nb>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=nb>min</span><span class=p>(</span><span class=n>dist1</span><span class=p>,</span> <span class=n>dist2</span><span class=p>))</span>

        <span class=k>return</span> <span class=n>res</span>
</code></pre></div> </div> </div> <h3 id=410-split-array-largest-sum><a href=../../array/notes/#410-split-array-largest-sum>410. Split Array Largest Sum</a><a class=headerlink href=#410-split-array-largest-sum title="Permanent link">&para;</a></h3> <h3 id=1011-capacity-to-ship-packages-within-d-days>1011. Capacity To Ship Packages Within D Days<a class=headerlink href=#1011-capacity-to-ship-packages-within-d-days title="Permanent link">&para;</a></h3> <p>Binary solution</p> <p>Same as the <a href=../../array/notes/#410-split-array-largest-sum>410. Split Array Largest Sum</a></p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>shipWithinDays</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>weights</span><span class=p>,</span> <span class=kt>int</span> <span class=n>D</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>weights</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>&lt;</span> <span class=n>D</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=o>*</span><span class=n>max_element</span><span class=p>(</span><span class=n>weights</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>weights</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=kt>int</span> <span class=n>h</span> <span class=o>=</span> <span class=n>accumulate</span><span class=p>(</span><span class=n>weights</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>weights</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=mi>0</span><span class=p>);</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>h</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=p>(</span><span class=n>l</span> <span class=o>+</span> <span class=n>h</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>c</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=c1>// need cut D-1 times</span>
            <span class=kt>int</span> <span class=n>sum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=nl>w</span><span class=p>:</span> <span class=n>weights</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>sum</span> <span class=o>+</span> <span class=n>w</span> <span class=o>&gt;</span> <span class=n>m</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>sum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
                    <span class=n>c</span><span class=o>++</span><span class=p>;</span>
                <span class=p>}</span>
                <span class=n>sum</span> <span class=o>+=</span> <span class=n>w</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>c</span> <span class=o>&gt;</span> <span class=n>D</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>h</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=875-koko-eating-bananas>875. Koko Eating Bananas<a class=headerlink href=#875-koko-eating-bananas title="Permanent link">&para;</a></h3> <p>Binary search</p> <p>Using the monotonic guessing approach, notice the trick in counting whether the given guess value is possible.</p> <div class=tabbed-set data-tabs=15:2><input checked=checked id=__tabbed_15_1 name=__tabbed_15 type=radio><label for=__tabbed_15_1>C++ binary search</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>minEatingSpeed</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>piles</span><span class=p>,</span> <span class=kt>int</span> <span class=n>H</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>N</span> <span class=o>=</span> <span class=n>piles</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>N</span> <span class=o>&gt;</span> <span class=n>H</span><span class=p>)</span>
            <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
        <span class=kt>long</span> <span class=n>r</span> <span class=o>=</span> <span class=mf>10e9</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>hour</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=nl>p</span> <span class=p>:</span> <span class=n>piles</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>k</span> <span class=o>&gt;=</span> <span class=n>p</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>hour</span><span class=o>++</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>hour</span> <span class=o>+=</span> <span class=p>(</span><span class=n>p</span> <span class=o>+</span> <span class=n>k</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>/</span> <span class=n>k</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>hour</span> <span class=o>&gt;</span> <span class=n>H</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// K is too large,</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>k</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>k</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_15_2 name=__tabbed_15 type=radio><label for=__tabbed_15_2>C++ binary search simplified</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>minEatingSpeed</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>piles</span><span class=p>,</span> <span class=kt>int</span> <span class=n>H</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>N</span> <span class=o>=</span> <span class=n>piles</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>N</span> <span class=o>&gt;</span> <span class=n>H</span><span class=p>)</span>
            <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
        <span class=kt>long</span> <span class=n>r</span> <span class=o>=</span> <span class=mf>10e9</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>hour</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=nl>p</span> <span class=p>:</span> <span class=n>piles</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>hour</span> <span class=o>+=</span> <span class=p>(</span><span class=n>p</span> <span class=o>+</span> <span class=n>k</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>/</span> <span class=n>k</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>hour</span> <span class=o>&gt;</span> <span class=n>H</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// K is too large,</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>k</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>k</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=1539-kth-missing-positive-number>1539. Kth Missing Positive Number<a class=headerlink href=#1539-kth-missing-positive-number title="Permanent link">&para;</a></h3> <p>Naive Solution</p> <ul> <li>using multiple variables and keep loop invariant.</li> </ul> <p>Binary Search</p> <ul> <li>Observe the relation: total missing positives before <code>A[m]</code> is <code>A[m] - 1 - m</code> because the index <code>m</code> and <code>A[m]</code> is related to the missing positives thus can be used for counting.</li> <li>the bisection condition can be interpreted as a boolean predicate: "whether the number of missing positives before <code>A[m]</code> is <strong>no less</strong> than <code>k</code>?"</li> </ul> <div class=tabbed-set data-tabs=16:2><input checked=checked id=__tabbed_16_1 name=__tabbed_16 type=radio><label for=__tabbed_16_1>Naive Solution</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findKthPositive</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>arr</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>arr</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=k>return</span> <span class=n>k</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>missing_cnt</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>missing_cnt</span> <span class=o>&gt;=</span> <span class=n>k</span><span class=p>)</span> <span class=k>return</span> <span class=n>k</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>prev</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>  <span class=n>i</span> <span class=o>&lt;</span> <span class=n>arr</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span> <span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>prev</span> <span class=o>||</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>prev</span> <span class=o>+</span> <span class=mi>1</span><span class=p>))</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>skip</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>prev</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>missing_cnt</span> <span class=o>+</span> <span class=n>skip</span> <span class=o>&gt;=</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                    <span class=k>return</span> <span class=n>prev</span> <span class=o>+</span> <span class=n>k</span> <span class=o>-</span> <span class=n>missing_cnt</span><span class=p>;</span>
                <span class=p>}</span>
                <span class=n>missing_cnt</span> <span class=o>+=</span><span class=n>skip</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=n>prev</span> <span class=o>=</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=p>(</span><span class=n>prev</span> <span class=o>+</span> <span class=n>k</span> <span class=o>-</span> <span class=n>missing_cnt</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_16_2 name=__tabbed_16 type=radio><label for=__tabbed_16_2>Binary Search</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findKthPositive</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>arr</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>arr</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>arr</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>-</span> <span class=n>m</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span> <span class=o>+</span> <span class=n>k</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=1482-minimum-number-of-days-to-make-m-bouquets>1482. Minimum Number of Days to Make m Bouquets<a class=headerlink href=#1482-minimum-number-of-days-to-make-m-bouquets title="Permanent link">&para;</a></h3> <p>Solution Binary Search</p> <ul> <li>Use a subroutine to compute whether the constrain can be meet or not.</li> <li>The search is looking for the whether m bouquets is possible, meet the binary pattern "no less than". So that we use <code>if(cnt_m &lt; m)</code> and the return values is l.</li> </ul> <div class=tabbed-set data-tabs=17:1><input checked=checked id=__tabbed_17_1 name=__tabbed_17 type=radio><label for=__tabbed_17_1>C++ binary search</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>minDays</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>bloomDay</span><span class=p>,</span> <span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=o>*</span><span class=n>min_element</span><span class=p>(</span><span class=n>bloomDay</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>bloomDay</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=o>*</span><span class=n>max_element</span><span class=p>(</span><span class=n>bloomDay</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>bloomDay</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>bloomDay</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&lt;</span> <span class=n>m</span> <span class=o>*</span> <span class=n>k</span><span class=p>)</span> <span class=k>return</span> <span class=mi>-1</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>cnt_k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>cnt_m</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=nl>d</span><span class=p>:</span> <span class=n>bloomDay</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>d</span> <span class=o>&gt;</span> <span class=n>mid</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>cnt_k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>cnt_k</span><span class=o>++</span><span class=p>;</span>
                    <span class=k>if</span> <span class=p>(</span><span class=n>cnt_k</span> <span class=o>==</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                        <span class=n>cnt_m</span><span class=o>++</span><span class=p>;</span>
                        <span class=n>cnt_k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
                    <span class=p>}</span>
                <span class=p>}</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>cnt_m</span> <span class=o>&lt;</span> <span class=n>m</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=1283-find-the-smallest-divisor-given-a-threshold>1283. Find the Smallest Divisor Given a Threshold<a class=headerlink href=#1283-find-the-smallest-divisor-given-a-threshold title="Permanent link">&para;</a></h3> <p>Solution Binary search</p> <ul> <li>Notice the specific divisor calculation. under this divisor operation, no matter how large the divisor is, the sum is always greater than <code>nums.size()</code>, if not, the solution is not guaranteed. so the threshold cannot smaller than <code>nums.size()</code>. This also indicate that the minimum divisor is less than or eaual to <code>max(nums)</code>.</li> <li>in the bsection predicate, notice this time the condition becomes <code>if (res &gt; target)</code> essentially, the <code>if (f(mid) &lt; target)</code> in the binary search templates is saying <code>mid</code> and <code>f(mid)</code> are positive correlation. here the <code>mid</code> and <code>res</code> are negative correlation.</li> </ul> <div class=tabbed-set data-tabs=18:1><input checked=checked id=__tabbed_18_1 name=__tabbed_18 type=radio><label for=__tabbed_18_1>C++ binary search</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>smallestDivisor</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>threshold</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=o>*</span><span class=n>max_element</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=nl>num</span><span class=p>:</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>res</span> <span class=o>+=</span> <span class=p>(</span><span class=n>num</span> <span class=o>+</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>/</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>
<span class=hll>            <span class=k>if</span> <span class=p>(</span><span class=n>res</span> <span class=o>&gt;</span> <span class=n>threshold</span><span class=p>)</span> <span class=p>{</span>
</span>                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>l</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=1231-divide-chocolate>1231. Divide Chocolate<a class=headerlink href=#1231-divide-chocolate title="Permanent link">&para;</a></h3> <p>Solution Binary search</p> <ol> <li>The key difference between this problem and <a href=../../array/notes/#410-split-array-largest-sum>410. Split Array Largest Sum</a> is this problem asks for maximizing the smallest sweetness of the pieces, whereas the <a href=../../array/notes/#410-split-array-largest-sum>410. Split Array Largest Sum</a> asks minimizing the largest piece. Support <code>k</code> cuts generate <code>m</code> outcomes <span><span class=MathJax_Preview>S = \{s_1^{|k|}, s_2^{|k|}, \cdots, s_m^{|k|}\}</span><script type=math/tex>S = \{s_1^{|k|}, s_2^{|k|}, \cdots, s_m^{|k|}\}</script></span>, this problem is to find the value of <span><span class=MathJax_Preview>\operatorname*{argmax}_m (\operatorname*{argmax}_k (S))</span><script type=math/tex>\operatorname*{argmax}_m (\operatorname*{argmax}_k (S))</script></span>.</li> <li>Imagine you guessed a value <code>m</code>, which is the maximum sweetness you can get from the smallest sweetness piece of all cuts. How to test whether the value <code>m</code> is possible? If possible, we will increase it to maximize it; if not, we will still keep it a candidate.</li> </ol> <p>Same problem as <a href=./#183-wood-cut-lintcode>183. Wood cut</a>.</p> <div class=tabbed-set data-tabs=19:1><input checked=checked id=__tabbed_19_1 name=__tabbed_19 type=radio><label for=__tabbed_19_1>Binary Search</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>maximizeSweetness</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>sweetness</span><span class=p>,</span> <span class=kt>int</span> <span class=n>K</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=o>*</span><span class=n>min_element</span><span class=p>(</span><span class=n>sweetness</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>sweetness</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=kt>int</span> <span class=n>end</span> <span class=o>=</span> <span class=n>accumulate</span><span class=p>(</span><span class=n>sweetness</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>sweetness</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=mi>0</span><span class=p>);</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
<span class=hll>            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=p>(</span><span class=n>start</span> <span class=o>+</span> <span class=n>end</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
</span>            <span class=kt>int</span> <span class=n>sum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>cuts</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=nl>s</span><span class=p>:</span> <span class=n>sweetness</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>((</span><span class=n>sum</span> <span class=o>+=</span> <span class=n>s</span><span class=p>)</span> <span class=o>&gt;=</span> <span class=n>mid</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>sum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
                    <span class=k>if</span> <span class=p>(</span><span class=o>++</span><span class=n>cuts</span> <span class=o>&gt;</span> <span class=n>K</span><span class=p>)</span>
                        <span class=k>break</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span>

<span class=hll>            <span class=k>if</span> <span class=p>(</span><span class=n>cuts</span> <span class=o>&gt;</span> <span class=n>K</span><span class=p>)</span> <span class=p>{</span>
</span><span class=hll>                <span class=c1>// because &gt;= mid above guarentee the &quot;no less than&quot; the guess.</span>
</span><span class=hll>                <span class=c1>// if cuts &gt; K, mid could be the right answer and should be returned.</span>
</span><span class=hll>                <span class=c1>// Remember the binary search invariance requies not miss any</span>
</span><span class=hll>                <span class=c1>// answer in each iteration.</span>
</span>                <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>start</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Compare the binary search solution of problem of <a href=#1231-divide-chocolate>1231. Divide Chocolate</a> and <a href=../../array/notes/#410-split-array-largest-sum>410. Split Array Largest Sum</a>. Notice how different in checking the number of cuts. It exceeds the limit <code>K</code>, for max and min case, it indicate a very trivial difference in meaning.</p> </div> <h3 id=copy-books-lintcode><a href=../../array/notes/#copy-books-lintcode>Copy books (lintcode)</a><a class=headerlink href=#copy-books-lintcode title="Permanent link">&para;</a></h3> <h3 id=183-wood-cut-lintcode>183. Wood cut (lintcode)<a class=headerlink href=#183-wood-cut-lintcode title="Permanent link">&para;</a></h3> <p>Description</p> <p>Given n pieces of wood with length <code>L[i]</code> (integer array). Cut them into small pieces to guarantee you could have equal or more than k pieces with the same length. What is the longest length you can get from the n pieces of wood? Given L &amp; k, return the maximum length of the small pieces. You couldn't cut wood into float length. If you couldn't get &gt;= k pieces, return 0.</p> <p>Solution 1 Binary search</p> <ul> <li>It requires getting equal or more than <code>k</code> pieces of wood with the same length. So you have to cut the wood to fulfill the requirement. However, you need to promise that each of the <code>k</code> wood is the longest that is possible.</li> <li>Imagine that you are given a bunch of wood to cut. How would you do it? You probably want to try to make one cut and see whether you can make it or not. If not, you may want to make two cuts, and so on. But how could you program such a solution? It is very hard.</li> <li>Start thinking about the length seems a good option. Suppose you know your final maximum length. You would be able to make the cut accordingly. Now given a length out of guessing, can you verify whether it going to work or not? Yes, you can! That's the core idea of this solution.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>woodCut</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>L</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span><span class=p>(</span><span class=n>L</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>maxlen</span> <span class=o>=</span> <span class=o>*</span><span class=n>max_element</span><span class=p>(</span><span class=n>L</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>L</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=k>if</span><span class=p>(</span><span class=n>k</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=n>maxlen</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=n>maxlen</span><span class=o>/</span><span class=n>k</span><span class=p>),</span> <span class=n>end</span> <span class=o>=</span> <span class=n>maxlen</span><span class=p>;</span>

        <span class=k>while</span><span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=nl>len</span> <span class=p>:</span> <span class=n>L</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>count</span> <span class=o>+=</span> <span class=n>len</span> <span class=o>/</span> <span class=p>(</span><span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
            <span class=p>}</span>

            <span class=k>if</span><span class=p>(</span><span class=n>count</span> <span class=o>&gt;=</span> <span class=n>k</span><span class=p>)</span>
                <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=k>else</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=nl>len</span> <span class=p>:</span> <span class=n>L</span><span class=p>)</span> <span class=n>count</span> <span class=o>+=</span> <span class=n>len</span><span class=o>/</span><span class=n>start</span><span class=p>;</span>
        <span class=k>return</span> <span class=n>count</span> <span class=o>&gt;=</span> <span class=n>k</span> <span class=o>?</span> <span class=nl>start</span> <span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=774-minimize-max-distance-to-gas-station>774. Minimize Max Distance to Gas Station<a class=headerlink href=#774-minimize-max-distance-to-gas-station title="Permanent link">&para;</a></h3> <p>Solution 1 Binary search</p> <ul> <li>It is very similar to the problem <a href=#183-wood-cut-lintcode>Wood cut</a>. You just need to take care of the accuracy of the results, namely also the int/double casts. It is also the hard part of the problem.</li> <li>Notice the <code>count</code> variable is int type, you should test your solution expecially for the line <code>count += dist[i] / mid</code>;</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>double</span> <span class=n>minmaxGasDist</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>stations</span><span class=p>,</span> <span class=kt>int</span> <span class=n>K</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>stations</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>dist</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span> <span class=c1>// dist[0] = null;</span>
        <span class=kt>int</span> <span class=n>d</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>dist</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>stations</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>stations</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>];</span>
            <span class=n>d</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>d</span><span class=p>,</span> <span class=n>dist</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
        <span class=p>}</span>

        <span class=kt>double</span> <span class=n>low</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>high</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>low</span> <span class=o>+</span> <span class=mf>0.000001</span> <span class=o>&lt;</span> <span class=n>high</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>double</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>low</span> <span class=o>+</span> <span class=p>(</span><span class=n>high</span> <span class=o>-</span> <span class=n>low</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>count</span> <span class=o>+=</span> <span class=n>dist</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>/</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>count</span> <span class=o>&gt;</span> <span class=n>K</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// mid is too small</span>
                <span class=n>low</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>high</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>low</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=644-maximum-average-subarray-ii>644. Maximum Average Subarray II<a class=headerlink href=#644-maximum-average-subarray-ii title="Permanent link">&para;</a></h3> <ul> <li>First try to understand why the constrain is "greater than or equal than k". You find that this constrain will ensure the solution exists and the problem is interesting.</li> <li>Notice the monotonicity of the "average sum" values, namely for a given value, if it doesn't fulfill the constrain (length &gt;= k &amp; max(avg)), you can eliminate half of the values from the solution space.</li> <li>Your binary search predicate will be to test whether there exists a subarray with length greater than <code>k</code> and an average value is larger than the <code>mid</code>.</li> <li>We use a trick to verify the constrains. The tricky thing is that the two constrains are not checked separately, they need to be work together in order to achieve better complexity. The length constrain is ensured partly by the "skip" indexing (<code>i - k</code>), partly by keeping the smallest average before the current considered subarray.</li> </ul> <div class="admonition note"> <p class=admonition-title>Key Math Insight</p> <div> <div class=MathJax_Preview>\begin{align*} \mu_k = \frac{a_i + a_{i+1} + \cdots, + a_j}{j-i+1} &amp; &gt;= Mid \\ a_i + a_{i+1} + \cdots, + a_j &amp; &gt;= Mid \times (j-i+1) \\ (a_i - Mid) + (a_{i+1} - Mid) + \cdots, + (a_j - Mid) &amp; &gt;= 0 \end{align*}</div> <script type="math/tex; mode=display">\begin{align*}
\mu_k = \frac{a_i + a_{i+1} + \cdots, + a_j}{j-i+1} & >= Mid \\
a_i + a_{i+1} + \cdots, + a_j & >= Mid \times (j-i+1) \\
(a_i - Mid) + (a_{i+1} - Mid) + \cdots, + (a_j - Mid) & >= 0
\end{align*}</script> </div> </div> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>double</span> <span class=n>findMaxAverage</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>double</span> <span class=n>start</span> <span class=o>=</span> <span class=o>*</span><span class=n>min_element</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=kt>double</span> <span class=n>end</span> <span class=o>=</span> <span class=o>*</span><span class=n>max_element</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>lower</span> <span class=o>+</span> <span class=mf>0.00001</span> <span class=o>&lt;</span> <span class=n>upper</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>double</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>lower</span> <span class=o>+</span> <span class=p>(</span><span class=n>upper</span> <span class=o>-</span> <span class=n>lower</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>isLarger</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>mid</span><span class=p>,</span> <span class=n>k</span><span class=p>))</span> <span class=p>{</span> <span class=c1>// is average value &gt;= mid?</span>
                <span class=n>lower</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>upper</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>lower</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=cm>/* return true if a greater average value is possible */</span>
    <span class=kt>bool</span> <span class=n>isLarger</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>double</span> <span class=n>mid</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>double</span> <span class=n>sums</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>prev</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>prev_min</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>sums</span> <span class=o>+=</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>mid</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=c1>// we keep looking for whether a subarray sum of length &gt;= k in array</span>
        <span class=c1>// &quot;sums&quot; is possible to be greater than zero. If such a subarray exist,</span>
        <span class=c1>// it means that the target average value is greater than the &quot;mid&quot; value.</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>sums</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=c1>// we look at the front part of sums that at least k element apart from i.</span>
        <span class=c1>// If we can find the minimum of the sums[0], sums[1], ..., sums[i - k]</span>
        <span class=c1>// and check if sums[i] - min(sums[0], sums[1], ..., sums[i - k]) &gt;= 0.</span>
        <span class=c1>// If this is the case, it indicate, there exist a subarray of length &gt;= k</span>
        <span class=c1>// with sum greater than 0 in sums. we can return ture.</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>k</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>sums</span> <span class=o>+=</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>mid</span><span class=p>;</span>
            <span class=n>prev</span> <span class=o>+=</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=n>k</span><span class=p>]</span> <span class=o>-</span> <span class=n>mid</span><span class=p>;</span>
            <span class=n>prev_min</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>prev_min</span><span class=p>,</span> <span class=n>prev</span><span class=p>);</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>sums</span> <span class=o>&gt;=</span> <span class=n>prev_min</span><span class=p>)</span>
                <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=778-swim-in-rising-water>778. Swim in Rising Water<a class=headerlink href=#778-swim-in-rising-water title="Permanent link">&para;</a></h3> <ul> <li>In This problem we are trying to find a path, in which the maximum element in the path among all paths is minimum. Meaning we look for a target value in the grid, such that there exist a path from <code>grid[0][0]</code> to <code>grid[n-1][n-1]</code> which includes this value and it is the maximum value in the path.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
    <span class=kt>int</span> <span class=n>x</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>-1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>};</span>
    <span class=kt>int</span> <span class=n>y</span><span class=p>[</span><span class=mi>4</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>-1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>};</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>swimInWater</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>grid</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>grid</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>begin</span> <span class=o>=</span> <span class=n>grid</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>],</span> <span class=n>end</span> <span class=o>=</span> <span class=n>n</span> <span class=o>*</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
        <span class=c1>// binary search find a path with mini elevation</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>begin</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>begin</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>begin</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>pathExist</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span> <span class=n>mid</span><span class=p>))</span> <span class=p>{</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>begin</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>begin</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>bool</span> <span class=n>pathExist</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=o>&amp;</span> <span class=n>grid</span><span class=p>,</span> <span class=kt>int</span> <span class=n>mid</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>grid</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>visited</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>));</span>
        <span class=k>return</span> <span class=nf>dfs_helper</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span> <span class=n>visited</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>mid</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=kt>bool</span> <span class=n>dfs_helper</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=o>&amp;</span> <span class=n>grid</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>visited</span><span class=p>,</span>
                    <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>mid</span><span class=p>,</span> <span class=kt>int</span> <span class=n>i</span><span class=p>,</span> <span class=kt>int</span> <span class=n>j</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>visited</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=mi>4</span><span class=p>;</span> <span class=o>++</span><span class=n>k</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=n>x</span><span class=p>[</span><span class=n>k</span><span class=p>];</span>
            <span class=kt>int</span> <span class=n>b</span> <span class=o>=</span> <span class=n>j</span> <span class=o>+</span> <span class=n>y</span><span class=p>[</span><span class=n>k</span><span class=p>];</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>a</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>a</span> <span class=o>&gt;=</span> <span class=n>n</span> <span class=o>||</span> <span class=n>b</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>b</span> <span class=o>&gt;=</span> <span class=n>n</span> <span class=o>||</span> <span class=n>visited</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>==</span> <span class=mi>1</span> <span class=o>||</span> <span class=n>grid</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>mid</span><span class=p>)</span> <span class=k>continue</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>a</span> <span class=o>==</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>b</span> <span class=o>==</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>dfs_helper</span><span class=p>(</span><span class=n>grid</span><span class=p>,</span> <span class=n>visited</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>mid</span><span class=p>,</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>))</span> <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=483-smallest-good-base>483 Smallest Good Base<a class=headerlink href=#483-smallest-good-base title="Permanent link">&para;</a></h3> <p>Solution 1 Binary search</p> <ol> <li>This problem requires a bit reasoning to achieve the solution.</li> <li>The starting point is realy mean what's asking by the problem. Here it is asking a minimum base that represent the given number <code>n</code> in a representation like binary representation. For example: <code>13 = 3^0 + 3^1 + 3^2</code> so <code>13</code> can be representd as <code>111</code>(base 3).</li> <li>First of all, there is a special case that such a base may not exist. (precisely, we should seperate the special case when <code>n = (n-1)^0 + (n-1)^1</code>; With this special case in mind, we can use binary search to iterate through each <code>m</code> from largest to smallest and check whether the corresponding <code>k</code> is a good base of the given value <code>n</code>. Because when <code>m</code> is the largest, <code>k</code> is the smallest, so if the bianry search find one it must be the smallest <code>k</code> we are looking for. If binary search found nothing, we simpley return the special case <code>n-1</code>.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>string</span> <span class=n>smallestGoodBase</span><span class=p>(</span><span class=n>string</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>long</span> <span class=kt>long</span> <span class=n>num</span> <span class=o>=</span> <span class=n>stoll</span><span class=p>(</span><span class=n>n</span><span class=p>);</span>
        <span class=cm>/* for each lenght of the potentional representation,</span>
<span class=cm>         * n = 1 + k + ... + k^{i-1} = (k^i-1)/(k-1), lower bound k is 2,</span>
<span class=cm>         * we have 2^i-1 = n ==&gt; upper bound i = log2(n+1). */</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>log2</span><span class=p>(</span><span class=n>num</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>2</span><span class=p>;</span> <span class=o>--</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=cm>/* upper bound is obtained by n = 1 + k + k^2 ... + k^(i-1) &gt; k^(i-1),</span>
<span class=cm>             * n &gt; k^(i-1) ==&gt; k &lt; n^(1/(i-1)); */</span>
            <span class=kt>long</span> <span class=kt>long</span> <span class=n>left</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span> <span class=n>right</span> <span class=o>=</span> <span class=n>pow</span><span class=p>(</span><span class=n>num</span><span class=p>,</span> <span class=mf>1.0</span> <span class=o>/</span> <span class=p>(</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>))</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>left</span> <span class=o>&lt;</span> <span class=n>right</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>long</span> <span class=kt>long</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>left</span> <span class=o>+</span> <span class=p>(</span><span class=n>right</span> <span class=o>-</span> <span class=n>left</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
                <span class=kt>long</span> <span class=kt>long</span> <span class=n>sum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

                <span class=cm>/* calculate i digits value with base &quot;mid&quot; */</span>
                <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>i</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>sum</span> <span class=o>=</span> <span class=n>sum</span> <span class=o>*</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span>

                <span class=cm>/* binary search for the mid (good base) */</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>sum</span> <span class=o>==</span> <span class=n>num</span><span class=p>)</span>
                    <span class=k>return</span> <span class=n>to_string</span><span class=p>(</span><span class=n>mid</span><span class=p>);</span>

                <span class=k>if</span> <span class=p>(</span><span class=n>sum</span> <span class=o>&lt;</span> <span class=n>num</span><span class=p>)</span>
                    <span class=n>left</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
                <span class=k>else</span>
                    <span class=n>right</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>to_string</span><span class=p>(</span><span class=n>num</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=658-find-k-closest-elements_1>658. <a href=#find-k-closest-elements>Find K Closest Elements</a><a class=headerlink href=#658-find-k-closest-elements_1 title="Permanent link">&para;</a></h3> <h3 id=373-find-k-pairs-with-smallest-sums>373. Find K Pairs with Smallest Sums<a class=headerlink href=#373-find-k-pairs-with-smallest-sums title="Permanent link">&para;</a></h3> <h3 id=378-kth-smallest-element-in-a-sorted-matrix>378. Kth Smallest Element in a Sorted Matrix<a class=headerlink href=#378-kth-smallest-element-in-a-sorted-matrix title="Permanent link">&para;</a></h3> <p>Solution 1 Binary Search</p> <ol> <li>The idea of using binary search for this problem my not be straightforward. But the method is very important. The idea is very similar to the problem Search in a rotated sorted array.</li> <li>Because the matrix is sorted row wise and column wise, there are some ordering information we can make use of.</li> <li>Notice we are not try to search using the matrix index, we are searching the matrix element value. Compare to the problem 287. Find the Duplicate Number.</li> <li>The comparison <code>if (count &lt; k)</code> isn't include mid explicitly. but the <code>count</code> is some function <code>f(mid)</code>, with the current <code>mid</code>, the count value is unique and can be use to test a condition that decide which <code>side</code> we can go to shrink the range the target value is possible in.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>kthSmallest</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>?</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>()</span> <span class=o>:</span> <span class=mi>0</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>],</span> <span class=n>end</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>[</span><span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>][</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>];</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>count</span> <span class=o>+=</span> <span class=n>upper_bound</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>begin</span><span class=p>(),</span> <span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>end</span><span class=p>(),</span> <span class=n>mid</span><span class=p>)</span> <span class=o>-</span> <span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>begin</span><span class=p>();</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>count</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// notice no mid here, but count is a function of mid.</span>
                <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>start</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 2 Priority Queue</p> <ol> <li>Notice when the <code>k &lt;= n^2</code>, index <code>j &lt; matrix.size()</code> will also make it work.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>kthSmallest</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>pq</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]);</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>pq</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&gt;</span> <span class=n>k</span><span class=p>)</span>
                    <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=668-kth-smallest-number-in-multiplication-table>668. Kth Smallest Number in Multiplication Table<a class=headerlink href=#668-kth-smallest-number-in-multiplication-table title="Permanent link">&para;</a></h3> <p>Solution 1 Binary search</p> <ol> <li>While this problem looks simple. But it really isn't unless you observed the following.</li> <li>The condition used for binary search is "whether there are k smaller elements in the range [start, mid]". You are looking for the smallest number that has k elements less than or equal to it. Like in the problem Kth Smallest Element in a Sorted Matrix, we will move the number not the index.</li> <li>We move the <code>start</code> or <code>end</code> appropriately based on this condition, if there are more than k, we shrink the range by reduce end: <code>end = mid</code>. If there are less than k numbers, we increase <code>begin</code> hopefully to make <code>mid</code> larger so as to have close to k numbers in the range of <code>[1, mid]</code>.</li> <li>When <code>being == end</code>, we've located the kth number desired. In case <code>k &gt; m*n</code>, we will got <code>begin == end &lt; k</code>, which is not a solution.</li> <li>In counting how many elements less than mid, you have to be clever a bit by using the feature that this matrix is a multiplicative table. That is for row <code>i</code>, you can at most have <code>x/i</code> number smaller than <code>x</code>, why?</li> <li>Follow up: Does the kth element will be in the range of <code>[1, m*n]</code>?</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findKthNumber</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>begin</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=n>m</span> <span class=o>*</span> <span class=n>n</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>begin</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>begin</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>begin</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>m</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>count</span> <span class=o>+=</span> <span class=n>min</span><span class=p>(</span><span class=n>mid</span> <span class=o>/</span> <span class=n>i</span><span class=p>,</span> <span class=n>n</span><span class=p>);</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>count</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>)</span>
                <span class=n>begin</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=k>else</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>begin</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=719-find-k-th-smallest-pair-distance>719. Find K-th Smallest Pair Distance<a class=headerlink href=#719-find-k-th-smallest-pair-distance title="Permanent link">&para;</a></h3> <p>Solution 1 Priority Queue TLE</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>smallestDistancePair</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>pq</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>dist</span> <span class=o>=</span> <span class=n>abs</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]);</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>pq</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>dist</span><span class=p>);</span>
                <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>dist</span> <span class=o>&lt;</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>())</span> <span class=p>{</span>
                    <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>dist</span><span class=p>),</span> <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 2 Binary search</p> <ul> <li>Similar to Problem <a href=#668-kth-smallest-number-in-multiplication-table>668. Kth Smallest Number in Multiplication Table</a>.</li> <li>The problem is complicated at the first glance. A brute force solution generates all the absolute distances and then sort to find the kth smallest one.</li> <li>We found it is potentially a searchable scenario if we sort the elements. We have range <code>[min_distance, max_distance]</code>. We search a distance in this range such that there are exactly k pairs distance including itself. If the count of pair distance less than k, we try to increase it buy <code>start = mid + 1</code>, vice versa.</li> <li>When the binary search loop stops, if the result exist, <code>start</code> point to the distance we are searching. Since this problem guarrantee solution exist, we return <code>start</code>.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>smallestDistancePair</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>

        <span class=n>sort</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>

        <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>start</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>start</span><span class=p>,</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]);</span>
        <span class=p>}</span>

        <span class=kt>int</span> <span class=n>end</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>back</span><span class=p>()</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=c1>// count how many absolute differences that &lt;= mid;</span>
            <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
                <span class=k>while</span> <span class=p>(</span><span class=n>j</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>mid</span><span class=p>)</span> <span class=n>j</span><span class=o>++</span><span class=p>;</span>
                <span class=n>count</span> <span class=o>+=</span> <span class=n>j</span> <span class=o>-</span> <span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>count</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>start</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 3 Using binary search to optimize the counting</p> <ol> <li>You can also write your own binary search routine <code>upper_bound</code>.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>smallestDistancePair</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>

        <span class=n>sort</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>

        <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>start</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>start</span><span class=p>,</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]);</span>
        <span class=p>}</span>

        <span class=kt>int</span> <span class=n>end</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>back</span><span class=p>()</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=c1>// count how many absolute differences that &lt;= mid;</span>
            <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=cm>/*</span>
<span class=cm>            for (int i = 0; i &lt; nums.size(); ++i) {</span>
<span class=cm>                int j = i;</span>
<span class=cm>                while (j &lt; nums.size() &amp;&amp; nums[j] - nums[i] &lt;= mid) j++;</span>
<span class=cm>                count += j - i - 1;</span>
<span class=cm>            }</span>
<span class=cm>            */</span>
            <span class=c1>// optimize the counting use binary search (nested binary search)</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>auto</span> <span class=n>iter</span> <span class=o>=</span> <span class=n>upper_bound</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span> <span class=o>+</span> <span class=n>i</span><span class=p>,</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=n>mid</span><span class=p>);</span>
                <span class=n>count</span> <span class=o>+=</span> <span class=n>iter</span> <span class=o>-</span> <span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>()</span> <span class=o>+</span> <span class=n>i</span><span class=p>)</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>count</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>start</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=786-k-th-smallest-prime-fraction>786. K-th Smallest Prime Fraction<a class=headerlink href=#786-k-th-smallest-prime-fraction title="Permanent link">&para;</a></h3> <ul> <li>You should find seek to find the monotonic pattern of the fraction and think how to search it effectively. To use binary search you need to draw an imaginary matrix to consider how can you search effectively.</li> </ul> <div class=tabbed-set data-tabs=20:1><input checked=checked id=__tabbed_20_1 name=__tabbed_20 type=radio><label for=__tabbed_20_1>Binary search O(nlog(max_frac))</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>kthSmallestPrimeFraction</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>A</span><span class=p>,</span> <span class=kt>int</span> <span class=n>K</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>double</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=mf>1.0</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>double</span> <span class=n>m</span> <span class=o>=</span> <span class=p>(</span><span class=n>l</span> <span class=o>+</span> <span class=n>r</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=c1>// calculate how many smaller on the right</span>
            <span class=kt>int</span> <span class=n>cnt</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=kt>double</span> <span class=n>mx</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>p</span><span class=p>,</span> <span class=n>q</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>while</span> <span class=p>(</span><span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span> <span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>A</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>*</span> <span class=n>m</span><span class=p>)</span> <span class=o>++</span><span class=n>j</span><span class=p>;</span>
                <span class=c1>// int j = upper_bound(A.begin() + i, A.end(), A[i] / m) - A.begin();</span>
                <span class=n>cnt</span> <span class=o>+=</span> <span class=p>(</span><span class=n>n</span> <span class=o>-</span> <span class=n>j</span><span class=p>);</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=n>j</span><span class=p>)</span> <span class=k>break</span><span class=p>;</span>
                <span class=kt>double</span> <span class=n>fraction</span> <span class=o>=</span> <span class=p>(</span><span class=kt>double</span><span class=p>)</span> <span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>/</span> <span class=p>(</span><span class=kt>double</span><span class=p>)</span> <span class=n>A</span><span class=p>[</span><span class=n>j</span><span class=p>];</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>fraction</span> <span class=o>&gt;</span> <span class=n>mx</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>p</span> <span class=o>=</span> <span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
                    <span class=n>q</span> <span class=o>=</span> <span class=n>A</span><span class=p>[</span><span class=n>j</span><span class=p>];</span>
                    <span class=n>mx</span> <span class=o>=</span> <span class=n>fraction</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>cnt</span> <span class=o>==</span> <span class=n>K</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>return</span> <span class=p>{</span><span class=n>p</span><span class=p>,</span> <span class=n>q</span><span class=p>};</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>cnt</span> <span class=o>&gt;</span> <span class=n>K</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>cnt</span> <span class=o>&lt;</span> <span class=n>K</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>l</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=p>{};</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=1631-path-with-minimum-effort>1631. Path With Minimum Effort<a class=headerlink href=#1631-path-with-minimum-effort title="Permanent link">&para;</a></h3> <p>Solution 1 Binary search + BFS</p> <ul> <li>Because we are searching for the smallest effort of all paths. If the <strong>proposed</strong> solution is not possible, namely, all paths have effort greater than the proposed solution (the proposed value is too small). We need to increase the <code>start</code> in binary search. We are looking for the no-less-than x in the binary search.</li> </ul> <p>Solution 2 Dijkstra</p> <ul> <li>If you can change the problem into searching a weighted graph with edge weights, which are the absolute differences (effort). Since the weights are all positives, using Dijkstra algorithm can find the shortest path in the measure of effort.</li> </ul> <div class=tabbed-set data-tabs=21:4><input checked=checked id=__tabbed_21_1 name=__tabbed_21 type=radio><label for=__tabbed_21_1>C++ Binary search + BFS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>dx</span><span class=o>=</span><span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>-1</span><span class=p>};</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>dy</span><span class=o>=</span><span class=p>{</span><span class=mi>-1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>};</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>minimumEffortPath</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>heights</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>heights</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>?</span> <span class=mi>0</span> <span class=o>:</span> <span class=n>heights</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span>

        <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=mf>10e6</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=p>(</span><span class=n>start</span> <span class=o>+</span> <span class=n>end</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>pathPossible</span><span class=p>(</span><span class=n>heights</span><span class=p>,</span> <span class=n>mid</span><span class=p>))</span> <span class=p>{</span>
                <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>start</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>bool</span> <span class=n>pathPossible</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>heights</span><span class=p>,</span> <span class=kt>int</span> <span class=n>val</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>heights</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>?</span> <span class=mi>0</span> <span class=o>:</span> <span class=n>heights</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span>

        <span class=n>queue</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>q</span><span class=p>;</span>
        <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>});</span>
        <span class=n>set</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>visited</span><span class=p>;</span>
        <span class=n>visited</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>

        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>t</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=n>front</span><span class=p>();</span>
            <span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>t</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
            <span class=kt>int</span> <span class=n>y</span> <span class=o>=</span> <span class=n>t</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
            <span class=n>q</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>==</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
                <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>

            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=mi>4</span><span class=p>;</span> <span class=n>k</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>dx</span><span class=p>[</span><span class=n>k</span><span class=p>];</span>
                <span class=kt>int</span> <span class=n>b</span> <span class=o>=</span> <span class=n>y</span> <span class=o>+</span> <span class=n>dy</span><span class=p>[</span><span class=n>k</span><span class=p>];</span>

                <span class=k>if</span> <span class=p>(</span><span class=n>a</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>a</span> <span class=o>&gt;=</span> <span class=n>m</span> <span class=o>||</span> <span class=n>b</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>b</span> <span class=o>&gt;=</span> <span class=n>n</span><span class=p>)</span> <span class=k>continue</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>val</span> <span class=o>&lt;</span> <span class=n>abs</span><span class=p>(</span><span class=n>heights</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>-</span> <span class=n>heights</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>]))</span> <span class=k>continue</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>visited</span><span class=p>.</span><span class=n>count</span><span class=p>(</span><span class=n>a</span> <span class=o>*</span> <span class=n>n</span> <span class=o>+</span> <span class=n>b</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=k>continue</span><span class=p>;</span>

                <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>});</span>
                <span class=n>visited</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>a</span> <span class=o>*</span> <span class=n>n</span> <span class=o>+</span> <span class=n>b</span><span class=p>);</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_21_2 name=__tabbed_21 type=radio><label for=__tabbed_21_2>Java Binary search + BFS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>class</span> <span class=nc>Solution</span> <span class=p>{</span>
    <span class=kd>private</span> <span class=kt>int</span><span class=o>[]</span> <span class=n>d</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>};</span>

    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>minimumEffortPath</span><span class=p>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>heights</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>lo</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>hi</span> <span class=o>=</span> <span class=mi>1_000_000</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>lo</span> <span class=o>&lt;</span> <span class=n>hi</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>effort</span> <span class=o>=</span> <span class=n>lo</span> <span class=o>+</span> <span class=p>(</span><span class=n>hi</span> <span class=o>-</span> <span class=n>lo</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>isPath</span><span class=p>(</span><span class=n>heights</span><span class=p>,</span> <span class=n>effort</span><span class=p>))</span> <span class=p>{</span>
                <span class=n>hi</span> <span class=o>=</span> <span class=n>effort</span><span class=p>;</span>
            <span class=p>}</span><span class=k>else</span> <span class=p>{</span>
                <span class=n>lo</span> <span class=o>=</span> <span class=n>effort</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=n>lo</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>private</span> <span class=kt>boolean</span> <span class=nf>isPath</span><span class=p>(</span><span class=kt>int</span><span class=o>[][]</span> <span class=n>h</span><span class=p>,</span> <span class=kt>int</span> <span class=n>effort</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>h</span><span class=p>.</span><span class=na>length</span><span class=p>,</span> <span class=n>n</span> <span class=o>=</span> <span class=n>h</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span><span class=p>.</span><span class=na>length</span><span class=p>;</span>
        <span class=n>Queue</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>[]&gt;</span> <span class=n>q</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LinkedList</span><span class=o>&lt;&gt;</span><span class=p>();</span>
        <span class=n>q</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=k>new</span> <span class=kt>int</span><span class=o>[</span><span class=mi>2</span><span class=o>]</span><span class=p>);</span>
        <span class=n>Set</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>seen</span> <span class=o>=</span> <span class=k>new</span> <span class=n>HashSet</span><span class=o>&lt;&gt;</span><span class=p>();</span>
        <span class=n>seen</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>())</span> <span class=p>{</span>
            <span class=kt>int</span><span class=o>[]</span> <span class=n>cur</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=na>poll</span><span class=p>();</span>
            <span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>cur</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=n>cur</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>==</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>return</span> <span class=kc>true</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=mi>4</span><span class=p>;</span> <span class=o>++</span><span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=n>k</span><span class=o>]</span><span class=p>,</span> <span class=n>c</span> <span class=o>=</span> <span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=o>[</span><span class=n>k</span> <span class=o>+</span> <span class=mi>1</span><span class=o>]</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>r</span> <span class=o>&amp;&amp;</span> <span class=n>r</span> <span class=o>&lt;</span> <span class=n>m</span> <span class=o>&amp;&amp;</span> <span class=mi>0</span> <span class=o>&lt;=</span> <span class=n>c</span> <span class=o>&amp;&amp;</span> <span class=n>c</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>&amp;&amp;</span>
                    <span class=n>effort</span> <span class=o>&gt;=</span> <span class=n>Math</span><span class=p>.</span><span class=na>abs</span><span class=p>(</span><span class=n>h</span><span class=o>[</span><span class=n>r</span><span class=o>][</span><span class=n>c</span><span class=o>]</span> <span class=o>-</span> <span class=n>h</span><span class=o>[</span><span class=n>x</span><span class=o>][</span><span class=n>y</span><span class=o>]</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=n>seen</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=n>r</span> <span class=o>*</span> <span class=n>n</span> <span class=o>+</span> <span class=n>c</span><span class=p>))</span> <span class=p>{</span>
                    <span class=n>q</span><span class=p>.</span><span class=na>offer</span><span class=p>(</span><span class=k>new</span> <span class=kt>int</span><span class=o>[]</span><span class=p>{</span><span class=n>r</span><span class=p>,</span> <span class=n>c</span><span class=p>});</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=kc>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> </div> <input id=__tabbed_21_3 name=__tabbed_21 type=radio><label for=__tabbed_21_3>C++ Dijkstra</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>minimumEffortPath</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>heights</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>heights</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>heights</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span>

        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>dist</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>INT_MAX</span><span class=p>));</span> <span class=c1>// min distance found so far.</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span><span class=p>,</span> <span class=n>greater</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;&gt;</span> <span class=n>pq</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>d</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>-1</span><span class=p>,</span> <span class=mi>0</span><span class=p>};</span>

        <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>});</span> <span class=c1>// first: min effort, second: encoded (x, y) (=x * n + y);</span>

        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>pq</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span> <span class=n>t</span> <span class=o>=</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>(),</span> <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=kt>int</span> <span class=n>effort</span> <span class=o>=</span> <span class=n>t</span><span class=p>.</span><span class=n>first</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>t</span><span class=p>.</span><span class=n>second</span> <span class=o>/</span> <span class=n>n</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>y</span> <span class=o>=</span> <span class=n>t</span><span class=p>.</span><span class=n>second</span> <span class=o>%</span> <span class=n>n</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>==</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
                <span class=k>return</span> <span class=n>effort</span><span class=p>;</span>

            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=mi>4</span><span class=p>;</span> <span class=o>++</span><span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=p>[</span><span class=n>k</span><span class=p>];</span>
                <span class=kt>int</span> <span class=n>b</span> <span class=o>=</span> <span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=p>[</span><span class=n>k</span> <span class=o>+</span> <span class=mi>1</span>

                <span class=k>if</span> <span class=p>(</span><span class=n>a</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>a</span> <span class=o>&gt;=</span> <span class=n>m</span> <span class=o>||</span> <span class=n>b</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>b</span> <span class=o>&gt;=</span> <span class=n>n</span><span class=p>)</span> <span class=k>continue</span><span class=p>;</span>
                <span class=c1>// update neighboring node, effort=min effort before visit node(a,b)</span>
                <span class=kt>int</span> <span class=n>currEffort</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>effort</span><span class=p>,</span> <span class=n>abs</span><span class=p>(</span><span class=n>heights</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>-</span> <span class=n>heights</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>]));</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>dist</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>currEffort</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>dist</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>=</span> <span class=n>currEffort</span><span class=p>;</span>
                    <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>currEffort</span><span class=p>,</span> <span class=n>a</span> <span class=o>*</span> <span class=n>n</span> <span class=o>+</span> <span class=n>b</span><span class=p>});</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=mi>-1</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_21_4 name=__tabbed_21 type=radio><label for=__tabbed_21_4>Python Dijkastra</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=o>:</span>
    <span class=n>def</span> <span class=n>minimumEffortPath</span><span class=p>(</span><span class=n>self</span><span class=p>,</span> <span class=nl>heights</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=kt>int</span><span class=p>]])</span> <span class=o>-&gt;</span> <span class=kt>int</span><span class=o>:</span>
        <span class=n>m</span><span class=p>,</span> <span class=n>n</span> <span class=o>=</span> <span class=n>map</span><span class=p>(</span><span class=n>len</span><span class=p>,</span> <span class=p>[</span><span class=n>heights</span><span class=p>,</span> <span class=n>heights</span><span class=p>[</span><span class=mi>0</span><span class=p>]])</span>
        <span class=n>efforts</span> <span class=o>=</span> <span class=p>[[</span><span class=n>math</span><span class=p>.</span><span class=n>inf</span><span class=p>]</span> <span class=o>*</span> <span class=n>n</span> <span class=k>for</span> <span class=n>_</span> <span class=n>in</span> <span class=n>range</span><span class=p>(</span><span class=n>m</span><span class=p>)]</span>
        <span class=n>efforts</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
        <span class=n>heap</span> <span class=o>=</span> <span class=p>[(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>)]</span>

        <span class=k>while</span> <span class=nl>heap</span><span class=p>:</span>
            <span class=n>effort</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=n>heapq</span><span class=p>.</span><span class=n>heappop</span><span class=p>(</span><span class=n>heap</span><span class=p>);</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>==</span> <span class=p>(</span><span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span><span class=o>:</span>
                <span class=k>return</span> <span class=n>effort</span>

            <span class=k>for</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span> <span class=n>in</span> <span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span> <span class=o>+</span> <span class=mi>1</span><span class=p>),</span> <span class=p>(</span><span class=n>x</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>y</span><span class=p>),</span> <span class=p>(</span><span class=n>x</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span><span class=o>:</span>
                <span class=k>if</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=n>or</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=n>m</span> <span class=n>or</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=n>or</span> <span class=n>j</span> <span class=o>&gt;=</span> <span class=nl>n</span><span class=p>:</span>
                    <span class=k>continue</span>

                <span class=n>currEffort</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>effort</span><span class=p>,</span> <span class=n>abs</span><span class=p>(</span><span class=n>heights</span><span class=p>[</span><span class=n>x</span><span class=p>][</span><span class=n>y</span><span class=p>]</span> <span class=o>-</span> <span class=n>heights</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]))</span>
                <span class=k>if</span> <span class=n>efforts</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>&gt;</span> <span class=nl>currEffort</span><span class=p>:</span>
                    <span class=n>efforts</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>currEffort</span>
                    <span class=n>heapq</span><span class=p>.</span><span class=n>heappush</span><span class=p>(</span><span class=n>heap</span><span class=p>,</span> <span class=p>(</span><span class=n>currEffort</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>j</span><span class=p>))</span>
</code></pre></div> </div> </div> <h3 id=1102-path-with-maximum-minimum-value>1102. Path With Maximum Minimum Value<a class=headerlink href=#1102-path-with-maximum-minimum-value title="Permanent link">&para;</a></h3> <p>Solution 1 Binary Search + BFS</p> <ul> <li>Again, propose a possible value and use a <code>isValid</code> function to check the validity of the proposed solution.</li> </ul> <p>Solution 2 BFS + PQ</p> <ul> <li>This solution can be thought as a variant of Dijkastra, but not the same.</li> </ul> <p>Solution 3 Union Find</p> <ul> <li>We need to sort all the vertices by their values in descending order, then choose element from the vertices and use Union-Find to check connectivity of <code>A[0][0]</code> and <code>A[m - 1][n - 1]</code>.</li> </ul> <div class=tabbed-set data-tabs=22:3><input checked=checked id=__tabbed_22_1 name=__tabbed_22 type=radio><label for=__tabbed_22_1>C++ Binary Search + BFS</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>maximumMinimumPath</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>A</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>A</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span>

        <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>end</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>],</span> <span class=n>A</span><span class=p>[</span><span class=n>m</span> <span class=o>-</span> <span class=mi>1</span><span class=p>][</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]);</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>mid</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>start</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>mid</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>pathPossible</span><span class=p>(</span><span class=n>A</span><span class=p>,</span> <span class=n>mid</span><span class=p>))</span> <span class=p>{</span>
                <span class=n>start</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>mid</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>start</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>bool</span> <span class=n>pathPossible</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>A</span><span class=p>,</span> <span class=kt>int</span> <span class=n>mid</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>A</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span>

        <span class=n>queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>q</span><span class=p>;</span>
        <span class=n>q</span><span class=p>.</span><span class=n>emplace</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>v</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>));</span>
        <span class=n>v</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>d</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>-1</span><span class=p>,</span> <span class=mi>0</span><span class=p>};</span>

        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=n>front</span><span class=p>().</span><span class=n>first</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>y</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=n>front</span><span class=p>().</span><span class=n>second</span><span class=p>;</span>
            <span class=n>q</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>==</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
                <span class=k>return</span> <span class=nb>true</span><span class=p>;</span>

            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=mi>4</span><span class=p>;</span> <span class=o>++</span><span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=p>[</span><span class=n>k</span><span class=p>];</span>
                <span class=kt>int</span> <span class=n>b</span> <span class=o>=</span> <span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=p>[</span><span class=n>k</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>

                <span class=k>if</span> <span class=p>(</span><span class=n>a</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>a</span> <span class=o>&gt;=</span> <span class=n>m</span> <span class=o>||</span> <span class=n>b</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>b</span> <span class=o>&gt;=</span> <span class=n>n</span> <span class=o>||</span> <span class=n>v</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>==</span> <span class=mi>1</span><span class=p>)</span> <span class=k>continue</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>mid</span> <span class=o>&gt;</span> <span class=n>A</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>])</span> <span class=k>continue</span><span class=p>;</span>

                <span class=n>q</span><span class=p>.</span><span class=n>emplace</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>);</span>
                <span class=n>v</span><span class=p>[</span><span class=n>a</span><span class=p>][</span><span class=n>b</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>

            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=nb>false</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_22_2 name=__tabbed_22 type=radio><label for=__tabbed_22_2>C++ BFS + PQ</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>maximumMinimumPath</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>A</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>A</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span>

        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=n>INT_MAX</span><span class=p>;</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;&gt;</span> <span class=n>pq</span><span class=p>;</span> <span class=c1>// max heap.</span>
        <span class=n>pq</span><span class=p>.</span><span class=n>emplace</span><span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>],</span> <span class=mi>0</span><span class=p>);</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>visited</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>));</span>
        <span class=n>visited</span><span class=p>[</span><span class=mi>0</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>-1</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>d</span><span class=p>[</span><span class=mi>5</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>-1</span><span class=p>,</span> <span class=mi>0</span><span class=p>};</span>

        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>pq</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span> <span class=n>t</span> <span class=o>=</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>();</span> <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=kt>int</span> <span class=n>cost</span> <span class=o>=</span> <span class=n>t</span><span class=p>.</span><span class=n>first</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>t</span><span class=p>.</span><span class=n>second</span> <span class=o>/</span> <span class=n>n</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>y</span> <span class=o>=</span> <span class=n>t</span><span class=p>.</span><span class=n>second</span> <span class=o>%</span> <span class=n>n</span><span class=p>;</span>

            <span class=n>res</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>cost</span><span class=p>);</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>x</span> <span class=o>==</span> <span class=n>m</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>y</span> <span class=o>==</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span>
                <span class=k>break</span><span class=p>;</span>

            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=mi>4</span><span class=p>;</span> <span class=n>k</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=n>x</span> <span class=o>+</span> <span class=n>d</span><span class=p>[</span><span class=n>k</span><span class=p>];</span>
                <span class=kt>int</span> <span class=n>c</span> <span class=o>=</span> <span class=n>y</span> <span class=o>+</span> <span class=n>d</span><span class=p>[</span><span class=n>k</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>

                <span class=k>if</span> <span class=p>(</span><span class=n>r</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>r</span> <span class=o>&gt;=</span> <span class=n>m</span> <span class=o>||</span> <span class=n>c</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>c</span> <span class=o>&gt;=</span> <span class=n>n</span> <span class=o>||</span> <span class=n>visited</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>)</span> <span class=k>continue</span><span class=p>;</span>

                <span class=n>pq</span><span class=p>.</span><span class=n>emplace</span><span class=p>(</span><span class=n>A</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>],</span> <span class=n>r</span> <span class=o>*</span> <span class=n>n</span> <span class=o>+</span> <span class=n>c</span><span class=p>);</span>
                <span class=n>visited</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span> <span class=o>=</span> <span class=mi>-1</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_22_3 name=__tabbed_22 type=radio><label for=__tabbed_22_3>C++ Union-Find</label><div class=tabbed-content> <div class=highlight><pre><span></span><code>
</code></pre></div> </div> </div> <h2 id=category-4-binary-search-as-an-optimization-routine>Category 4 Binary search as an optimization routine<a class=headerlink href=#category-4-binary-search-as-an-optimization-routine title="Permanent link">&para;</a></h2> <h3 id=300-longest-increasing-subsequence>300 Longest Increasing Subsequence<a class=headerlink href=#300-longest-increasing-subsequence title="Permanent link">&para;</a></h3> <p>Solution 1 DP</p> <ol> <li>The base case is single char. <code>f[i]</code> is the length of LIS from the begining.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>lengthOfLIS</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>())</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>f</span><span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>};</span>

        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>f</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>j</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>&amp;&amp;</span> <span class=n>f</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>&gt;</span> <span class=n>f</span><span class=p>[</span><span class=n>j</span><span class=p>])</span>
                    <span class=n>f</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>f</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>f</span><span class=p>[</span><span class=n>j</span><span class=p>]);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 2 Using binary search</p> <ol> <li>The DP solution is <code>O(n^2)</code>. Using binary search could reduce to <code>O(nlogn)</code>.</li> <li>Binary search solution analysis. For each <code>i</code>, we are looking for the largest <code>f</code> value that has smallest <code>A</code> value. For example, <code>A[0] = 5</code> could be ignored because of its <code>f</code> value is same as <code>A[1] = 1</code>, which is smaller. In searching for the LIS, we prefer a small ending value when the length is the same.</li> <li> <p>The following solution using a vector <code>b</code> to record the minimum <code>A</code> value for each length of LIS (<code>f</code> value), we use binary search to find the last value in <code>b</code> that smaller that current value <code>A[i]</code>. If we found such a value in <code>b</code>, we use <code>A[i]</code> to replace the value next to the found value in <code>b</code>).</p> <div class=highlight><pre><span></span><code>i  0 1 2 3 4 5 6  7
A  5 1 3 7 6 4 2 10
f  1 1 2 3 3 3 2  4
f[1] = 1, a[1] = 1
f[6] = 2, a[6] = 2
f[5] = 3, a[5] = 4
f[7] = 4, a[7] = 10
</code></pre></div> </li> </ol> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>lengthOfLIS</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>b</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>r</span> <span class=o>=</span> <span class=n>b</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>l</span> <span class=o>&lt;</span> <span class=n>r</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>l</span> <span class=o>+</span> <span class=p>(</span><span class=n>r</span> <span class=o>-</span> <span class=n>l</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>b</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span> <span class=c1>// nums[i] is the target</span>
                    <span class=n>l</span> <span class=o>=</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>r</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>l</span> <span class=o>==</span> <span class=n>b</span><span class=p>.</span><span class=n>size</span><span class=p>())</span> <span class=c1>// nums[i] greater than all element in b</span>
                <span class=n>b</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
            <span class=k>else</span> <span class=c1>// begin point to next element no less than the target nums[i].</span>
                <span class=n>b</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>b</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Alternatively, we could use <code>lower_bound</code>.</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>lengthOfLIS</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>b</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=n>lower_bound</span><span class=p>(</span><span class=n>b</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>b</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=o>-</span> <span class=n>b</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>l</span> <span class=o>==</span> <span class=n>b</span><span class=p>.</span><span class=n>size</span><span class=p>())</span> <span class=c1>// nums[i] greater than all element in b</span>
                <span class=n>b</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
            <span class=k>else</span> <span class=c1>// begin point to next element no less than the target nums[i].</span>
                <span class=n>b</span><span class=p>[</span><span class=n>l</span><span class=p>]</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>b</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=354-russian-doll-envelopes>354. Russian Doll Envelopes<a class=headerlink href=#354-russian-doll-envelopes title="Permanent link">&para;</a></h3> <h3 id=174-dungeon-game>174. Dungeon Game<a class=headerlink href=#174-dungeon-game title="Permanent link">&para;</a></h3> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../../backtracking/notes/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Backtracking </div> </div> </a> <a href=../../breadth-first-search/notes/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Breadth-First Search (BFS) </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 Rui Han </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.77e55a48.min.js></script> <script src=../../../assets/javascripts/bundle.9554a270.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>