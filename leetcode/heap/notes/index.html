<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://ruihan.org/leetcode/heap/notes/ rel=canonical><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.5"><title>Heap - RUIHAN.ORG</title><link rel=stylesheet href=../../../assets/stylesheets/main.15aa0b43.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.75751829.min.css><meta name=theme-color content=#000000><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=black> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#heap class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://ruihan.org title=RUIHAN.ORG class="md-header-nav__button md-logo" aria-label=RUIHAN.ORG> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> RUIHAN.ORG </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> Heap </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/iurnah/ruihan.org title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> iurnah/ruihan.org </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../books/ class=md-tabs__link> Books </a> </li> <li class=md-tabs__item> <a href=../../../courses/ class=md-tabs__link> Courses </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> Leetcode </a> </li> <li class=md-tabs__item> <a href=../../../research/ class=md-tabs__link> Research </a> </li> <li class=md-tabs__item> <a href=../../../seedlabs/ class=md-tabs__link> SEED Labs </a> </li> <li class=md-tabs__item> <a href=../../../system-design/ class=md-tabs__link> System Design </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://ruihan.org title=RUIHAN.ORG class="md-nav__button md-logo" aria-label=RUIHAN.ORG> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> RUIHAN.ORG </label> <div class=md-nav__source> <a href=https://github.com/iurnah/ruihan.org title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> iurnah/ruihan.org </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Books <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Books data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Books </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../books/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../books/accelerated-cpp/notes/ class=md-nav__link> Accelerated C++ </a> </li> <li class=md-nav__item> <a href=../../../books/mining-massive-datasets/notes/ class=md-nav__link> Mining Massive Datasets </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Courses <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Courses data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> Courses </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../courses/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../courses/machine-learning-coursera/notes/ class=md-nav__link> Machine Learning (Coursera) </a> </li> <li class=md-nav__item> <a href=../../../courses/cs224n/lec-notes/ class=md-nav__link> CS224N Lecture Notes </a> </li> <li class=md-nav__item> <a href=../../../courses/cs224n/write-up/ class=md-nav__link> CS224N Write-up </a> </li> <li class=md-nav__item> <a href=../../../courses/coursera-dl4-cnn/notes/ class=md-nav__link> Convolutional Neural Networks </a> </li> <li class=md-nav__item> <a href=../../../courses/mining-massive-datasets/notes/ class=md-nav__link> Mining Massive Data Sets </a> </li> <li class=md-nav__item> <a href=../../../courses/6.431-probability/notes/ class=md-nav__link> 6.431 Probability </a> </li> <li class=md-nav__item> <a href=../../../courses/learning-from-data/notes.md class=md-nav__link> Learning From Data </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-algorithms/notes/ class=md-nav__link> Nine Chapter Algorithms </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-system-design/notes/ class=md-nav__link> Nine Chapter System Design </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-dynamic-prog/notes/ class=md-nav__link> Nine Chapter Dynamic Programming </a> </li> <li class=md-nav__item> <a href=../../../courses/func-prog-in-scala/notes/ class=md-nav__link> Functional Programming Principles in Scala </a> </li> <li class=md-nav__item> <a href=../../../courses/applied-scrum-for-agile/notes/ class=md-nav__link> Applied Scrum for Agile Project Management </a> </li> <li class=md-nav__item> <a href=../../../courses/concurrent-prog-java/notes/ class=md-nav__link> Concurrent Programming in Java </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4 checked> <label class=md-nav__link for=nav-4> Leetcode <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Leetcode data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> Leetcode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../favorite/notes/ class=md-nav__link> Favorite </a> </li> <li class=md-nav__item> <a href=../../array/notes/ class=md-nav__link> Array </a> </li> <li class=md-nav__item> <a href=../../backtracking/notes/ class=md-nav__link> Backtracking </a> </li> <li class=md-nav__item> <a href=../../binary-search/notes/ class=md-nav__link> Binary Search </a> </li> <li class=md-nav__item> <a href=../../binary-indexed-tree/notes/ class=md-nav__link> Binary Indexed Tree </a> </li> <li class=md-nav__item> <a href=../../breadth-first-search/notes/ class=md-nav__link> Breadth-First Search (BFS) </a> </li> <li class=md-nav__item> <a href=../../depth-first-search/notes/ class=md-nav__link> Depth-First Search (DFS) </a> </li> <li class=md-nav__item> <a href=../../dynamic-programming/notes/ class=md-nav__link> Dynamic Programming </a> </li> <li class=md-nav__item> <a href=../../graph/notes/ class=md-nav__link> Graph </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Heap <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Heap </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#binary-heap-properties class=md-nav__link> Binary heap properties </a> </li> <li class=md-nav__item> <a href=#heap-sort class=md-nav__link> Heap sort </a> <nav class=md-nav aria-label="Heap sort"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#heap-implementation-using-an-array class=md-nav__link> Heap implementation using an array </a> </li> <li class=md-nav__item> <a href=#heap-implementation-using-heapnode class=md-nav__link> Heap implementation using HeapNode </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#priority-queue-operations class=md-nav__link> Priority queue operations </a> <nav class=md-nav aria-label="Priority queue operations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-operations class=md-nav__link> Supported operations </a> </li> <li class=md-nav__item> <a href=#c-stl-priority-queue class=md-nav__link> C++ STL priority queue </a> </li> <li class=md-nav__item> <a href=#java-priority-queue class=md-nav__link> Java Priority Queue </a> </li> <li class=md-nav__item> <a href=#python-heapq-package class=md-nav__link> Python heapq package </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#priority-queue class=md-nav__link> Priority Queue </a> <nav class=md-nav aria-label="Priority Queue"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#merge-k-sorted-lists class=md-nav__link> Merge k Sorted Lists </a> </li> <li class=md-nav__item> <a href=#minimum-unique-word-abbreviation class=md-nav__link> Minimum Unique Word Abbreviation </a> </li> <li class=md-nav__item> <a href=#smallest-range-covering-elements-from-k-lists class=md-nav__link> Smallest Range Covering Elements from K Lists </a> </li> <li class=md-nav__item> <a href=#kth-largest-element-in-an-array class=md-nav__link> Kth Largest Element in an Array </a> </li> <li class=md-nav__item> <a href=#the-skyline-problem class=md-nav__link> The Skyline Problem </a> <nav class=md-nav aria-label="The Skyline Problem"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sliding-window-median class=md-nav__link> Sliding Window Median </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#373-find-k-pairs-with-smallest-sums class=md-nav__link> 373. Find K Pairs with Smallest Sums </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#use-priority-queue-to-rearrange-tasks-characters-string-etc class=md-nav__link> Use priority queue to rearrange tasks (characters, string, etc.) </a> <nav class=md-nav aria-label="Use priority queue to rearrange tasks (characters, string, etc.)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rearrange-string-k-distance-apart class=md-nav__link> Rearrange String k Distance Apart </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#task-scheduler class=md-nav__link> Task Scheduler </a> <nav class=md-nav aria-label="Task Scheduler"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#reorganize-string class=md-nav__link> Reorganize String </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../interval/notes/ class=md-nav__link> Interval </a> </li> <li class=md-nav__item> <a href=../../linked-list/notes/ class=md-nav__link> Linked List </a> </li> <li class=md-nav__item> <a href=../../math/notes/ class=md-nav__link> Math </a> </li> <li class=md-nav__item> <a href=../../reservoir-sampling/notes/ class=md-nav__link> Reservoir Sampling </a> </li> <li class=md-nav__item> <a href=../../stack/notes/ class=md-nav__link> Stack </a> </li> <li class=md-nav__item> <a href=../../string/notes/ class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href=../../sliding-window/notes/ class=md-nav__link> Sliding Window </a> </li> <li class=md-nav__item> <a href=../../topological-sort/notes/ class=md-nav__link> Topological Sort </a> </li> <li class=md-nav__item> <a href=../../two-pointers/notes/ class=md-nav__link> Two Pointers </a> </li> <li class=md-nav__item> <a href=../../tree/notes/ class=md-nav__link> Tree </a> </li> <li class=md-nav__item> <a href=../../trie/notes/ class=md-nav__link> Trie </a> </li> <li class=md-nav__item> <a href=../../union-find/notes/ class=md-nav__link> Union Find </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Research <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Research data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"></span> Research </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../research/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../research/paper-reading/notes/ class=md-nav__link> Paper Reading </a> </li> <li class=md-nav__item> <a href=../../../research/coalition-game/notes/ class=md-nav__link> Coalition Game </a> </li> <li class=md-nav__item> <a href=../../../research/contextual-bandit/notes/ class=md-nav__link> Contextual Multi-Armed Bandit </a> </li> <li class=md-nav__item> <a href=../../../research/tfidf-score/notes/ class=md-nav__link> TF-IDF for Information Retrieval </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> SEED Labs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="SEED Labs" data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"></span> SEED Labs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../seedlabs/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../seedlabs/applied-crypto/notes/ class=md-nav__link> Applied Cryptograph Notes </a> </li> <li class=md-nav__item> <a href=../../../seedlabs/public-key-cryptography-and-pki/notes/ class=md-nav__link> Public Key Cryptography and PKI </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> System Design <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="System Design" data-md-level=1> <label class=md-nav__title for=nav-7> <span class="md-nav__icon md-icon"></span> System Design </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../system-design/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../system-design/browser/notes.md class=md-nav__link> How Browser Works </a> </li> <li class=md-nav__item> <a href=../../../system-design/concurrency/notes/ class=md-nav__link> Concurrency and Synchronization </a> </li> <li class=md-nav__item> <a href=../../../system-design/concepts/notes/ class=md-nav__link> Distributed System Concepts </a> </li> <li class=md-nav__item> <a href=../../../system-design/patterns/notes/ class=md-nav__link> Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/crawler/notes/ class=md-nav__link> Design Crawler </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/tinyurl/notes/ class=md-nav__link> Design TinyUrl </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/twitter/notes/ class=md-nav__link> Design Twitter </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/scheduler/notes/ class=md-nav__link> Deisgn Scheduler </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/ticketmaster/notes/ class=md-nav__link> Design Ticketmaster </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/messager/notes/ class=md-nav__link> Design Messager </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#binary-heap-properties class=md-nav__link> Binary heap properties </a> </li> <li class=md-nav__item> <a href=#heap-sort class=md-nav__link> Heap sort </a> <nav class=md-nav aria-label="Heap sort"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#heap-implementation-using-an-array class=md-nav__link> Heap implementation using an array </a> </li> <li class=md-nav__item> <a href=#heap-implementation-using-heapnode class=md-nav__link> Heap implementation using HeapNode </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#priority-queue-operations class=md-nav__link> Priority queue operations </a> <nav class=md-nav aria-label="Priority queue operations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#supported-operations class=md-nav__link> Supported operations </a> </li> <li class=md-nav__item> <a href=#c-stl-priority-queue class=md-nav__link> C++ STL priority queue </a> </li> <li class=md-nav__item> <a href=#java-priority-queue class=md-nav__link> Java Priority Queue </a> </li> <li class=md-nav__item> <a href=#python-heapq-package class=md-nav__link> Python heapq package </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#priority-queue class=md-nav__link> Priority Queue </a> <nav class=md-nav aria-label="Priority Queue"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#merge-k-sorted-lists class=md-nav__link> Merge k Sorted Lists </a> </li> <li class=md-nav__item> <a href=#minimum-unique-word-abbreviation class=md-nav__link> Minimum Unique Word Abbreviation </a> </li> <li class=md-nav__item> <a href=#smallest-range-covering-elements-from-k-lists class=md-nav__link> Smallest Range Covering Elements from K Lists </a> </li> <li class=md-nav__item> <a href=#kth-largest-element-in-an-array class=md-nav__link> Kth Largest Element in an Array </a> </li> <li class=md-nav__item> <a href=#the-skyline-problem class=md-nav__link> The Skyline Problem </a> <nav class=md-nav aria-label="The Skyline Problem"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sliding-window-median class=md-nav__link> Sliding Window Median </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#373-find-k-pairs-with-smallest-sums class=md-nav__link> 373. Find K Pairs with Smallest Sums </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#use-priority-queue-to-rearrange-tasks-characters-string-etc class=md-nav__link> Use priority queue to rearrange tasks (characters, string, etc.) </a> <nav class=md-nav aria-label="Use priority queue to rearrange tasks (characters, string, etc.)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#rearrange-string-k-distance-apart class=md-nav__link> Rearrange String k Distance Apart </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#task-scheduler class=md-nav__link> Task Scheduler </a> <nav class=md-nav aria-label="Task Scheduler"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#reorganize-string class=md-nav__link> Reorganize String </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=heap>Heap<a class=headerlink href=#heap title="Permanent link">&para;</a></h1> <h2 id=binary-heap-properties>Binary heap properties<a class=headerlink href=#binary-heap-properties title="Permanent link">&para;</a></h2> <p><img alt="Binary Heap" src=../fig/binary-heap.png></p> <ul> <li>Usually implemented using an array of elements but visualized as a complete binary tree (not a full binary tree).</li> <li>From the array index, we can compute the parent index from child's index and vice versa. The element values are partially ordered, briefly, they are ordered level by level. There is no ordering information of element values in the same level.</li> <li>The minimum number of elements in a binary heap with height <span><span class=MathJax_Preview>h</span><script type=math/tex>h</script></span> is <span><span class=MathJax_Preview>2^h</span><script type=math/tex>2^h</script></span>, the maximum elements in it is <span><span class=MathJax_Preview>2^{h + 1} - 1</span><script type=math/tex>2^{h + 1} - 1</script></span></li> <li>The height of a binary heap is the floor of <span><span class=MathJax_Preview>\log n</span><script type=math/tex>\log n</script></span>. <span><span class=MathJax_Preview>n</span><script type=math/tex>n</script></span> is the total number of elements.</li> <li>The minimum element of a maximum heap is in the leaf nodes.</li> <li>With the array representation for storing an n-element heap, the leaves are the nodes indexed by <span><span class=MathJax_Preview>\lfloor n/2 \rfloor + 1, \lfloor n/2 \rfloor + 2, \dots, n</span><script type=math/tex>\lfloor n/2 \rfloor + 1, \lfloor n/2 \rfloor + 2, \dots, n</script></span>.</li> </ul> <h2 id=heap-sort>Heap sort<a class=headerlink href=#heap-sort title="Permanent link">&para;</a></h2> <h3 id=heap-implementation-using-an-array>Heap implementation using an array<a class=headerlink href=#heap-implementation-using-an-array title="Permanent link">&para;</a></h3> <h3 id=heap-implementation-using-heapnode>Heap implementation using HeapNode<a class=headerlink href=#heap-implementation-using-heapnode title="Permanent link">&para;</a></h3> <h2 id=priority-queue-operations>Priority queue operations<a class=headerlink href=#priority-queue-operations title="Permanent link">&para;</a></h2> <h3 id=supported-operations>Supported operations<a class=headerlink href=#supported-operations title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>#</th> <th>Operation</th> <th>complexity</th> <th>comment</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>buildMaxHeap(A)</td> <td><span><span class=MathJax_Preview>O(n)</span><script type=math/tex>O(n)</script></span></td> <td>Build a priority queue routine iteratively call <code>maxHeapify()</code> <span><span class=MathJax_Preview>n/2</span><script type=math/tex>n/2</script></span> times. The complexity is <span><span class=MathJax_Preview>O(n)</span><script type=math/tex>O(n)</script></span> instead of <span><span class=MathJax_Preview>O(n \log n)</span><script type=math/tex>O(n \log n)</script></span></td> </tr> <tr> <td>2</td> <td>maxHeapify(A, i)</td> <td><span><span class=MathJax_Preview>O(\log n)</span><script type=math/tex>O(\log n)</script></span></td> <td>Maintains the heap properties (by bubble up/down) for subtree rooted at <code>i</code>. Assumes the subtrees of <code>i</code> are max heap before calling this routine.</td> </tr> <tr> <td>3</td> <td>insert()</td> <td><span><span class=MathJax_Preview>O(\log n)</span><script type=math/tex>O(\log n)</script></span></td> <td>Insert a element to the heap.</td> </tr> <tr> <td>4</td> <td>peekMaximum()</td> <td><span><span class=MathJax_Preview>O(1)</span><script type=math/tex>O(1)</script></span></td> <td>Return the max element without remove it from the max-heap.</td> </tr> <tr> <td>5</td> <td>popMaximum()</td> <td><span><span class=MathJax_Preview>O(\log n)</span><script type=math/tex>O(\log n)</script></span></td> <td>Remove the max element from the max-heap.</td> </tr> <tr> <td>6</td> <td>increaseKey()</td> <td><span><span class=MathJax_Preview>O(\log n)</span><script type=math/tex>O(\log n)</script></span></td> <td>Update the element's key. This essentially changed the priority of an element.</td> </tr> <tr> <td>7</td> <td>delete()</td> <td></td> <td>Not supported by the binary heap implementation, but can be achieved by introduce more complex data structures.</td> </tr> </tbody> </table> <h3 id=c-stl-priority-queue>C++ STL priority queue<a class=headerlink href=#c-stl-priority-queue title="Permanent link">&para;</a></h3> <ul> <li> <p>Notice if the elements in the queue is some complex container or object, you have to declare <code>priority_queue</code> with its underline container type, and the binary predicate <code>std::greater</code> if necessary. Here is an example in the solution of the problem <a href=#minimum-unique-word-abbreviation>Minimum Unique Word Abbreviation</a></p> <div class=highlight><pre><span></span><code><span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=n>string</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=n>string</span><span class=o>&gt;&gt;</span><span class=p>,</span> <span class=n>greater</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=n>string</span><span class=o>&gt;&gt;&gt;</span> <span class=n>pq</span><span class=p>;</span>
</code></pre></div> </li> <li> <p>This line of code declared a priority queue <code>pq</code>, whose element is <code>piar&lt;int, string&gt;</code>, with the minimum element on the top. But minimum what? How the priority queue sort a <code>pair&lt;int, string&gt;</code> element? In this case it implicitly sort the <code>pair&lt;int, string&gt;</code> element base on the first int value. How can we sort the priority queue element based on the second value of the <code>pair&lt;int, string&gt;</code>. To achieve that, we cannot use the building function object greater we have write a customized function object and pass to the declaration of the <code>pq</code> like this,</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>mycomparison</span>
<span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>mycomparison</span><span class=p>()</span> <span class=p>{}</span>
    <span class=kt>bool</span> <span class=k>operator</span><span class=p>()</span> <span class=p>(</span><span class=k>const</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=n>string</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>,</span>
                     <span class=k>const</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=n>string</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>b</span><span class=p>)</span> <span class=k>const</span>
    <span class=p>{</span>
        <span class=k>return</span> <span class=n>a</span><span class=p>.</span><span class=n>second</span><span class=p>.</span><span class=n>compare</span><span class=p>(</span><span class=n>b</span><span class=p>.</span><span class=n>second</span><span class=p>);</span>
    <span class=p>}</span>
<span class=p>};</span>
<span class=p>...</span>
<span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=n>string</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=n>string</span><span class=o>&gt;&gt;</span><span class=p>,</span> <span class=n>mycomparison</span><span class=o>&gt;</span> <span class=n>pq</span><span class=p>;</span>
<span class=p>...</span>
</code></pre></div> </li> <li> <p>We may need to write a customized binary predicate function in order to implement the <code>min-heap</code> or <code>max-heap</code>. The binary predicate function depends on the underline container and also the type of the container element.</p> </li> </ul> <h3 id=java-priority-queue>Java Priority Queue<a class=headerlink href=#java-priority-queue title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=1:4><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><label for=__tabbed_1_1>Primitive types</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>pq</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;&gt;</span><span class=p>();</span> <span class=c1>// default is min heap</span>
<span class=n>pq</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
<span class=n>pq</span><span class=p>.</span><span class=na>add</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span>
<span class=n>pq</span><span class=p>.</span><span class=na>poll</span><span class=p>();</span>   <span class=c1>// return the min value;</span>
</code></pre></div> </div> <input id=__tabbed_1_2 name=__tabbed_1 type=radio><label for=__tabbed_1_2>Use with objects</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>public</span> <span class=kd>class</span> <span class=nc>CustomerOrder</span> <span class=kd>implements</span> <span class=n>Comparable</span><span class=o>&lt;</span><span class=n>CustomerOrder</span><span class=o>&gt;</span> <span class=p>{</span>
    <span class=kd>private</span> <span class=kt>int</span> <span class=n>orderId</span><span class=p>;</span>
    <span class=kd>private</span> <span class=kt>double</span> <span class=n>orderAmount</span><span class=p>;</span>
    <span class=kd>private</span> <span class=n>String</span> <span class=n>customerName</span><span class=p>;</span>

    <span class=kd>public</span> <span class=nf>CustomerOrder</span><span class=p>(</span><span class=kt>int</span> <span class=n>orderId</span><span class=p>,</span> <span class=kt>double</span> <span class=n>orderAmount</span><span class=p>,</span> <span class=n>String</span> <span class=n>customerName</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>this</span><span class=p>.</span><span class=na>orderId</span> <span class=o>=</span> <span class=n>orderId</span><span class=p>;</span>
        <span class=k>this</span><span class=p>.</span><span class=na>orderAmount</span> <span class=o>=</span> <span class=n>orderAmount</span><span class=p>;</span>
        <span class=k>this</span><span class=p>.</span><span class=na>customerName</span> <span class=o>=</span> <span class=n>customerName</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>compareTo</span><span class=p>(</span><span class=n>CustomerOrder</span> <span class=n>o</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>o</span><span class=p>.</span><span class=na>orderId</span> <span class=o>&gt;</span> <span class=k>this</span><span class=p>.</span><span class=na>orderId</span> <span class=o>?</span> <span class=mi>1</span> <span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=n>String</span> <span class=nf>toString</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=s>&quot;orderId:&quot;</span> <span class=o>+</span> <span class=k>this</span><span class=p>.</span><span class=na>orderId</span> <span class=o>+</span> <span class=s>&quot;, orderAmount:&quot;</span> <span class=o>+</span> <span class=k>this</span><span class=p>.</span><span class=na>orderAmount</span> <span class=o>+</span> <span class=s>&quot;, customerName:&quot;</span> <span class=o>+</span> <span class=n>customerName</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kd>public</span> <span class=kt>double</span> <span class=nf>getOrderAmount</span><span class=p>()</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>orderAmount</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=n>Queue</span><span class=o>&lt;</span><span class=n>CustomerOrder</span><span class=o>&gt;</span> <span class=n>pq</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;&gt;</span><span class=p>(</span><span class=k>new</span> <span class=n>CustomIntegerComparator</span><span class=p>());</span>

<span class=c1>// to overwrite the compareTo comparator</span>
<span class=kd>static</span> <span class=kd>class</span> <span class=nc>CustomerOrderComparator</span> <span class=kd>implements</span> <span class=n>Comparator</span><span class=o>&lt;</span><span class=n>CustomerOrder</span><span class=o>&gt;</span> <span class=p>{</span>

    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>compare</span><span class=p>(</span><span class=n>CustomerOrder</span> <span class=n>o1</span><span class=p>,</span> <span class=n>CustomerOrder</span> <span class=n>o2</span><span class=p>)</span>
    <span class=p>{</span>
        <span class=k>return</span> <span class=n>o1</span><span class=p>.</span><span class=na>getOrderAmount</span><span class=p>()</span> <span class=o>&lt;</span> <span class=n>o2</span><span class=p>.</span><span class=na>getOrderAmount</span><span class=p>()</span> <span class=o>?</span> <span class=mi>1</span> <span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=n>Queue</span><span class=o>&lt;</span><span class=n>CustomerOrder</span><span class=o>&gt;</span> <span class=n>pq</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;&gt;</span><span class=p>(</span><span class=k>new</span> <span class=n>CustomOrderComparator</span><span class=p>());</span>
</code></pre></div> </div> <input id=__tabbed_1_3 name=__tabbed_1 type=radio><label for=__tabbed_1_3>Custom Ordering</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>static</span> <span class=kd>class</span> <span class=nc>CustomIntegerComparator</span> <span class=kd>implements</span> <span class=n>Comparator</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=p>{</span>
    <span class=nd>@Override</span>
    <span class=kd>public</span> <span class=kt>int</span> <span class=nf>compare</span><span class=p>(</span><span class=n>Integer</span> <span class=n>o1</span><span class=p>,</span> <span class=n>Integer</span> <span class=n>o2</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>o1</span> <span class=o>&lt;</span> <span class=n>o2</span> <span class=o>?</span> <span class=mi>1</span> <span class=p>:</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span> <span class=c1>// reverse ordering</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=n>Queue</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>pq</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;&gt;</span><span class=p>(</span><span class=k>new</span> <span class=n>CustomIntegerComparator</span><span class=p>());</span>
</code></pre></div> </div> <input id=__tabbed_1_4 name=__tabbed_1 type=radio><label for=__tabbed_1_4>Lambda comparator Java 8</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=n>Queue</span><span class=o>&lt;</span><span class=kt>int</span> <span class=o>[]&gt;</span> <span class=n>pq</span> <span class=o>=</span> <span class=k>new</span> <span class=n>PriorityQueue</span><span class=o>&lt;&gt;</span><span class=p>(</span><span class=n>Comparator</span><span class=p>.</span><span class=na>comparingInt</span><span class=p>(</span><span class=n>a</span> <span class=o>-&gt;</span> <span class=n>a</span><span class=o>[</span><span class=mi>0</span><span class=o>]</span><span class=p>));</span>
</code></pre></div> </div> </div> <h3 id=python-heapq-package>Python heapq package<a class=headerlink href=#python-heapq-package title="Permanent link">&para;</a></h3> <p>Python <a href=https://docs.python.org/3.8/library/heapq.html><code>heapq</code> package</a> provides a library of build heap data structure and heap related operations. It supports the following methods,</p> <ol> <li><code>heapq.heappush(heap, item)</code></li> <li><code>heapq.heappop(heap)</code></li> <li><code>heapq.heappushpop(heap, item)</code></li> <li><code>heapq.heapify(list)</code></li> <li><code>heapreplace(heap, item)</code> equivalent to heappoppush (not exists).</li> <li><code>heapq.merge(*iterable, key=None, reverse=False)</code></li> <li><code>heapq.nlargest(n, iterable, key=None)</code></li> <li><code>heapq.nsmallest(n, iterable, key=None)</code></li> </ol> <h2 id=priority-queue>Priority Queue<a class=headerlink href=#priority-queue title="Permanent link">&para;</a></h2> <h3 id=merge-k-sorted-lists>Merge k Sorted Lists<a class=headerlink href=#merge-k-sorted-lists title="Permanent link">&para;</a></h3> <p>Solution 1 Priority queue</p> <ul> <li>Use a min priority queue to store all the list, iteratively pop the "min list", take the head node to the final list and push back to the priority queue if the "min list" still have node.</li> <li>Priority queue solution is <span><span class=MathJax_Preview>O(N \log k)</span><script type=math/tex>O(N \log k)</script></span></li> </ul> <div class=highlight><pre><span></span><code><span class=cm>/**</span>
<span class=cm> * Definition for singly-linked list.</span>
<span class=cm> * struct ListNode {</span>
<span class=cm> *     int val;</span>
<span class=cm> *     ListNode *next;</span>
<span class=cm> *     ListNode(int x) : val(x), next(NULL) {}</span>
<span class=cm> * };</span>
<span class=cm> */</span>
<span class=k>class</span> <span class=nc>listComparison</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>listComparison</span><span class=p>()</span> <span class=p>{}</span>
    <span class=kt>bool</span> <span class=k>operator</span><span class=p>(</span><span class=k>const</span> <span class=n>ListNode</span><span class=o>*</span> <span class=n>a</span><span class=p>,</span> <span class=k>const</span> <span class=n>ListNode</span><span class=o>*</span> <span class=n>b</span><span class=p>)</span> <span class=k>const</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>a</span><span class=o>-&gt;</span><span class=n>val</span> <span class=o>&gt;</span> <span class=n>b</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>

<span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>ListNode</span><span class=o>*</span> <span class=n>mergeKLists</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>ListNode</span><span class=o>*&gt;&amp;</span> <span class=n>lists</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>ListNode</span><span class=o>*</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>ListNode</span><span class=o>*&gt;</span><span class=p>,</span> <span class=n>listComparison</span><span class=o>&gt;</span> <span class=n>q</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=k>auto</span> <span class=nl>list</span> <span class=p>:</span> <span class=n>lists</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>list</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>list</span><span class=p>);</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=n>ListNode</span> <span class=n>dummy</span><span class=p>(</span><span class=n>INT_MIN</span><span class=p>);</span>
        <span class=n>ListNode</span> <span class=o>*</span><span class=n>curr</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>dummy</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=n>curr</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=n>top</span><span class=p>();</span> <span class=n>q</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=n>curr</span> <span class=o>=</span> <span class=n>curr</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>curr</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>curr</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>);</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>dummy</span><span class=p>.</span><span class=n>next</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>Solution 2 Divide and conquer merge</p> <ul> <li>Use the divide and conquer idea to reduce the problem to a smaller problem and then solve the smallest problem, combined together with the solution of small problems, we will arrived at the final solution.</li> <li>Compare the following solution to merge sort algorithm.</li> <li>The complexity is <span><span class=MathJax_Preview>O(N \log k)</span><script type=math/tex>O(N \log k)</script></span> . Because merge two list will take <span><span class=MathJax_Preview>O(N)</span><script type=math/tex>O(N)</script></span>, and we will do <span><span class=MathJax_Preview>O(\log k)</span><script type=math/tex>O(\log k)</script></span> time of merging.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>ListNode</span><span class=o>*</span> <span class=n>mergeKLists</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>ListNode</span><span class=o>*&gt;&amp;</span> <span class=n>lists</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=nf>mergeKListsHelper</span><span class=p>(</span><span class=n>lists</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>lists</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=n>ListNode</span><span class=o>*</span> <span class=n>mergeKListsHelper</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>ListNode</span><span class=o>*&gt;&amp;</span> <span class=n>lists</span><span class=p>,</span> <span class=kt>int</span> <span class=n>s</span><span class=p>,</span> <span class=kt>int</span> <span class=n>e</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>s</span> <span class=o>&gt;</span> <span class=n>e</span><span class=p>)</span> <span class=k>return</span> <span class=k>nullptr</span><span class=p>;</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>s</span> <span class=o>==</span> <span class=n>e</span><span class=p>)</span> <span class=k>return</span> <span class=n>lists</span><span class=p>[</span><span class=n>s</span><span class=p>];</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>s</span> <span class=o>&lt;</span> <span class=n>e</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>s</span> <span class=o>+</span> <span class=p>(</span><span class=n>e</span> <span class=o>-</span> <span class=n>s</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
            <span class=n>ListNode</span><span class=o>*</span> <span class=n>l1</span> <span class=o>=</span> <span class=n>mergeKListsHelper</span><span class=p>(</span><span class=n>lists</span><span class=p>,</span> <span class=n>s</span><span class=p>,</span> <span class=n>m</span><span class=p>);</span>
            <span class=n>ListNode</span><span class=o>*</span> <span class=n>l2</span> <span class=o>=</span> <span class=n>mergeKListsHelper</span><span class=p>(</span><span class=n>lists</span><span class=p>,</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>e</span><span class=p>);</span>
            <span class=k>return</span> <span class=nf>merge</span><span class=p>(</span><span class=n>l1</span><span class=p>,</span> <span class=n>l2</span><span class=p>);</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=n>ListNode</span><span class=o>*</span> <span class=n>merge</span><span class=p>(</span><span class=n>ListNode</span><span class=o>*</span> <span class=n>l1</span><span class=p>,</span> <span class=n>ListNode</span><span class=o>*</span> <span class=n>l2</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>ListNode</span> <span class=nf>dummy</span><span class=p>(</span><span class=n>INT_MIN</span><span class=p>);</span>
        <span class=n>ListNode</span> <span class=o>*</span><span class=n>curr</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>dummy</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>l1</span> <span class=o>&amp;&amp;</span> <span class=n>l2</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>l1</span><span class=o>-&gt;</span><span class=n>val</span> <span class=o>&lt;</span> <span class=n>l2</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>curr</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>l1</span><span class=p>;</span>
                <span class=n>l1</span> <span class=o>=</span> <span class=n>l1</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>curr</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>l2</span><span class=p>;</span>
                <span class=n>l2</span> <span class=o>=</span> <span class=n>l2</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=n>curr</span> <span class=o>=</span> <span class=n>curr</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=n>curr</span><span class=o>-&gt;</span><span class=n>next</span> <span class=o>=</span> <span class=n>l1</span> <span class=o>?</span> <span class=nl>l1</span> <span class=p>:</span> <span class=n>l2</span><span class=p>;</span>

        <span class=k>return</span> <span class=n>dummy</span><span class=p>.</span><span class=n>next</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=minimum-unique-word-abbreviation>Minimum Unique Word Abbreviation<a class=headerlink href=#minimum-unique-word-abbreviation title="Permanent link">&para;</a></h3> <h3 id=smallest-range-covering-elements-from-k-lists>Smallest Range Covering Elements from K Lists<a class=headerlink href=#smallest-range-covering-elements-from-k-lists title="Permanent link">&para;</a></h3> <p>Solution 1 Priority queue</p> <ul> <li>Notice this solution pushed some meta data to the priority queue.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=k>struct</span> <span class=nc>mycompare</span> <span class=p>{</span>
        <span class=kt>bool</span> <span class=nf>operator</span> <span class=p>()</span> <span class=p>(</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>a</span><span class=p>,</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>b</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=n>a</span><span class=p>.</span><span class=n>first</span> <span class=o>&gt;</span> <span class=n>b</span><span class=p>.</span><span class=n>first</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>};</span>

    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>smallestRange</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span><span class=p>,</span> <span class=n>mycompare</span><span class=o>&gt;</span> <span class=n>pq</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>end</span> <span class=o>=</span> <span class=n>INT_MIN</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>end</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>end</span><span class=p>,</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>]);</span>
            <span class=c1>// push the first element of kth vector and k to the pq</span>
            <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>],</span> <span class=n>i</span><span class=p>});</span>
        <span class=p>}</span>

        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>idx</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span> <span class=c1>// keep tracking the index to the k arrays.</span>

        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span> <span class=o>=</span> <span class=p>{</span><span class=mi>-100000</span><span class=p>,</span> <span class=mi>100000</span><span class=p>};</span> <span class=c1>// the range is given.</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>pq</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>start</span> <span class=o>=</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>first</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>second</span><span class=p>;</span>
            <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span> <span class=o>&lt;</span> <span class=n>res</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=n>res</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>res</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>start</span><span class=p>;</span>
                <span class=n>res</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>end</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=c1>// if nums[k] have more element, we push next to the queue.</span>
            <span class=k>if</span> <span class=p>(</span><span class=o>++</span><span class=n>idx</span><span class=p>[</span><span class=n>k</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>k</span><span class=p>].</span><span class=n>size</span><span class=p>())</span> <span class=p>{</span>
                <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>nums</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=n>idx</span><span class=p>[</span><span class=n>k</span><span class=p>]],</span> <span class=n>k</span><span class=p>});</span>
                <span class=n>end</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>end</span><span class=p>,</span> <span class=n>nums</span><span class=p>[</span><span class=n>k</span><span class=p>][</span><span class=n>idx</span><span class=p>[</span><span class=n>k</span><span class=p>]]);</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=kth-largest-element-in-an-array>Kth Largest Element in an Array<a class=headerlink href=#kth-largest-element-in-an-array title="Permanent link">&para;</a></h3> <p>Solution 1 priority queue</p> <ul> <li>Build a heap takes <code>O(n)</code>.</li> <li>max-heap <code>O(n) + O(klogk)</code>.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findKthLargest</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>pq</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=n>k</span><span class=o>--</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>k</span><span class=o>--</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 2 priority queue min-heap <code>O(n*logk)</code>.</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findKthLargest</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>greater</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>pq</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=nl>n</span> <span class=p>:</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>n</span><span class=p>);</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>pq</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&gt;</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 3 quickselect algorithm</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>findKthLargest</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>

        <span class=k>return</span> <span class=nf>orderStats</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>k</span><span class=p>);</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>orderStats</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>start</span><span class=p>,</span> <span class=kt>int</span> <span class=n>end</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>start</span> <span class=o>==</span> <span class=n>end</span><span class=p>)</span> <span class=k>return</span> <span class=n>nums</span><span class=p>[</span><span class=n>start</span><span class=p>];</span>

        <span class=kt>int</span> <span class=n>p</span> <span class=o>=</span> <span class=n>partition</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>end</span><span class=p>);</span>
        <span class=kt>int</span> <span class=n>order</span> <span class=o>=</span> <span class=n>p</span> <span class=o>-</span> <span class=n>start</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>order</span> <span class=o>==</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=n>nums</span><span class=p>[</span><span class=n>p</span><span class=p>];</span>
        <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>order</span> <span class=o>&gt;</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=nf>orderStats</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>start</span><span class=p>,</span> <span class=n>p</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>k</span><span class=p>);</span>
        <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
            <span class=k>return</span> <span class=nf>orderStats</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>p</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>end</span><span class=p>,</span> <span class=n>k</span> <span class=o>-</span> <span class=n>order</span><span class=p>);</span>
        <span class=p>}</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>partition</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>start</span><span class=p>,</span> <span class=kt>int</span> <span class=n>end</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>start</span> <span class=o>==</span> <span class=n>end</span><span class=p>)</span> <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>p</span> <span class=o>=</span> <span class=n>start</span> <span class=o>+</span> <span class=n>floor</span><span class=p>(</span><span class=n>rand</span><span class=p>()</span> <span class=o>%</span> <span class=p>(</span><span class=n>end</span> <span class=o>-</span> <span class=n>start</span> <span class=o>+</span> <span class=mi>1</span><span class=p>));</span>
        <span class=n>swap</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>p</span><span class=p>],</span> <span class=n>nums</span><span class=p>[</span><span class=n>end</span><span class=p>]);</span>

        <span class=kt>int</span> <span class=n>pivot</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>end</span><span class=p>];</span>
        <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>start</span> <span class=o>-</span> <span class=mi>1</span><span class=p>,</span> <span class=n>j</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=n>j</span> <span class=o>=</span> <span class=n>start</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>end</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>pivot</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>swap</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=o>++</span><span class=n>i</span><span class=p>],</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]);</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=n>swap</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>end</span><span class=p>],</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>]);</span>
        <span class=k>return</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=the-skyline-problem>The Skyline Problem<a class=headerlink href=#the-skyline-problem title="Permanent link">&para;</a></h3> <p>Solution 1 priority queue maximum heap</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>getSkyline</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>buildings</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>res</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>x</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>h</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>len</span> <span class=o>=</span> <span class=n>buildings</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>q</span><span class=p>;</span> <span class=c1>// max heap store &lt;height, end&gt;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>len</span> <span class=o>||</span> <span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=c1>// building i start before the end of current tallest building</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>q</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>||</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>len</span> <span class=o>&amp;&amp;</span> <span class=n>buildings</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>q</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>second</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>x</span> <span class=o>=</span> <span class=n>buildings</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>];</span> <span class=c1>// current start</span>
                <span class=c1>// overlapped start of multiple buildings (compare to if)</span>
                <span class=k>while</span> <span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>len</span> <span class=o>&amp;&amp;</span> <span class=n>buildings</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=n>x</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>q</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>buildings</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>2</span><span class=p>],</span> <span class=n>buildings</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>1</span><span class=p>]});</span>
                    <span class=n>i</span><span class=o>++</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span> <span class=c1>// building i start after the end of current tallest building</span>
                <span class=n>x</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>second</span><span class=p>;</span> <span class=c1>// current end</span>
                <span class=c1>// pop all buildings that end &lt;= currently tallest buildings</span>
                <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>q</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>q</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>second</span> <span class=o>&lt;=</span> <span class=n>x</span><span class=p>)</span>
                    <span class=n>q</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>

            <span class=n>h</span> <span class=o>=</span> <span class=n>q</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=mi>0</span> <span class=o>:</span> <span class=n>q</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>first</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>||</span> <span class=n>res</span><span class=p>.</span><span class=n>back</span><span class=p>().</span><span class=n>second</span> <span class=o>!=</span> <span class=n>h</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>({</span><span class=n>x</span><span class=p>,</span> <span class=n>h</span><span class=p>});</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <p>Solution 2 multiset + scanline solution</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>private</span><span class=o>:</span>
    <span class=k>static</span> <span class=kt>bool</span> <span class=n>cmp</span><span class=p>(</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>p1</span><span class=p>,</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>p2</span><span class=p>){</span>
        <span class=k>if</span><span class=p>(</span><span class=n>p1</span><span class=p>.</span><span class=n>first</span> <span class=o>!=</span> <span class=n>p2</span><span class=p>.</span><span class=n>first</span><span class=p>)</span> <span class=k>return</span> <span class=n>p1</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;</span> <span class=n>p2</span><span class=p>.</span><span class=n>first</span><span class=p>;</span>
        <span class=k>return</span> <span class=n>p1</span><span class=p>.</span><span class=n>second</span> <span class=o>&gt;</span> <span class=n>p2</span><span class=p>.</span><span class=n>second</span><span class=p>;</span> <span class=c1>// if x duplicate, tallest building first</span>
    <span class=p>}</span>

<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>getSkyline</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>buildings</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>h</span><span class=p>;</span> <span class=c1>// store the start and end.</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>res</span><span class=p>;</span>
        <span class=n>multiset</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=n>greater</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>s</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>prev</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>curr</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=c1>// scanline technique to obtain the starting point and end point</span>
        <span class=k>for</span> <span class=p>(</span><span class=k>auto</span> <span class=o>&amp;</span><span class=nl>a</span> <span class=p>:</span> <span class=n>buildings</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>h</span><span class=p>.</span><span class=n>push_back</span><span class=p>({</span><span class=n>a</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span> <span class=n>a</span><span class=p>[</span><span class=mi>2</span><span class=p>]});</span>
            <span class=n>h</span><span class=p>.</span><span class=n>push_back</span><span class=p>({</span><span class=n>a</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span> <span class=o>-</span><span class=n>a</span><span class=p>[</span><span class=mi>2</span><span class=p>]});</span> <span class=c1>// use &quot;-&quot; mark the end point</span>
        <span class=p>}</span>

        <span class=n>sort</span><span class=p>(</span><span class=n>h</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>h</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>cmp</span><span class=p>);</span>
        <span class=n>s</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span> <span class=c1>// edge case, consider a.second == 0</span>
        <span class=k>for</span> <span class=p>(</span><span class=k>auto</span> <span class=o>&amp;</span><span class=nl>a</span> <span class=p>:</span> <span class=n>h</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>a</span><span class=p>.</span><span class=n>second</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=n>s</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>a</span><span class=p>.</span><span class=n>second</span><span class=p>);</span> <span class=c1>// if it is a start, insert to the set</span>
            <span class=k>else</span> <span class=n>s</span><span class=p>.</span><span class=n>erase</span><span class=p>(</span><span class=n>s</span><span class=p>.</span><span class=n>find</span><span class=p>(</span><span class=o>-</span><span class=n>a</span><span class=p>.</span><span class=n>second</span><span class=p>));</span> <span class=c1>// if it is a end, erase the inserted start</span>
            <span class=n>curr</span> <span class=o>=</span> <span class=o>*</span><span class=n>s</span><span class=p>.</span><span class=n>begin</span><span class=p>();</span> <span class=c1>// take the maximum from the set</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>curr</span> <span class=o>!=</span> <span class=n>prev</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// remove duplicate</span>
                <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>({</span><span class=n>a</span><span class=p>.</span><span class=n>first</span><span class=p>,</span> <span class=n>curr</span><span class=p>});</span>
                <span class=n>prev</span> <span class=o>=</span> <span class=n>curr</span><span class=p>;</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h4 id=sliding-window-median>Sliding Window Median<a class=headerlink href=#sliding-window-median title="Permanent link">&para;</a></h4> <p>Solution 1 heap + hash (simulated)</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span> <span class=n>medianSlidingWindow</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>;</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>lo</span><span class=p>;</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>greater</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>hi</span><span class=p>;</span>
        <span class=n>unordered_map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span> <span class=n>hash_heap</span><span class=p>;</span>

        <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>k</span><span class=p>)</span> <span class=n>lo</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=o>++</span><span class=p>]);</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>k</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>hi</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>lo</span><span class=p>.</span><span class=n>top</span><span class=p>());</span>
            <span class=n>lo</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
        <span class=p>}</span>

        <span class=k>while</span> <span class=p>(</span><span class=nb>true</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>k</span> <span class=o>&amp;</span> <span class=mi>1</span> <span class=o>?</span> <span class=n>lo</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>:</span> <span class=p>((</span><span class=kt>double</span><span class=p>)</span> <span class=n>lo</span><span class=p>.</span><span class=n>top</span><span class=p>()</span>  <span class=o>+</span> <span class=p>(</span><span class=kt>double</span><span class=p>)</span> <span class=n>hi</span><span class=p>.</span><span class=n>top</span><span class=p>())</span> <span class=o>*</span> <span class=mf>0.5</span><span class=p>);</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&gt;=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>())</span> <span class=k>break</span><span class=p>;</span>

            <span class=kt>int</span> <span class=n>out_num</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=n>k</span><span class=p>];</span> <span class=c1>// first element in the window</span>
            <span class=kt>int</span> <span class=n>in_num</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=o>++</span><span class=p>];</span> <span class=c1>// new element entering window</span>
            <span class=kt>int</span> <span class=n>balance</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=c1>// -1, when out_num in lo, +1 when out_num in hi.</span>
            <span class=c1>// balance is the count of element diff in lo and hi.</span>
            <span class=c1>// lo.size() == hi.size() -&gt; balance = 0</span>
            <span class=c1>// lo.size() &gt; hi.size() --&gt; balance &gt; 0</span>
            <span class=c1>// lo.size() &lt; hi.size() --&gt; balance &lt; 0</span>
            <span class=n>balance</span> <span class=o>+=</span> <span class=p>(</span><span class=n>out_num</span> <span class=o>&lt;=</span> <span class=n>lo</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>?</span> <span class=mi>-1</span> <span class=o>:</span> <span class=mi>1</span><span class=p>);</span>
            <span class=n>hash_heap</span><span class=p>[</span><span class=n>out_num</span><span class=p>]</span><span class=o>++</span><span class=p>;</span> <span class=c1>// count of the invalid element, will remove when it on the top.</span>

            <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>lo</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>in_num</span> <span class=o>&lt;=</span> <span class=n>lo</span><span class=p>.</span><span class=n>top</span><span class=p>())</span> <span class=p>{</span>
                <span class=n>balance</span><span class=o>++</span><span class=p>;</span>
                <span class=n>lo</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>in_num</span><span class=p>);</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>balance</span><span class=o>--</span><span class=p>;</span>
                <span class=n>hi</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>in_num</span><span class=p>);</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>balance</span> <span class=o>&lt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// lo lack of element.</span>
                <span class=n>lo</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>hi</span><span class=p>.</span><span class=n>top</span><span class=p>());</span>
                <span class=n>hi</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
                <span class=n>balance</span><span class=o>++</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>balance</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// hi lack of element</span>
                <span class=n>hi</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>lo</span><span class=p>.</span><span class=n>top</span><span class=p>());</span>
                <span class=n>lo</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
                <span class=n>balance</span><span class=o>--</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=c1>// lazy remove of elements previous removed, mimic hashheap of java.</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>lo</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>hash_heap</span><span class=p>[</span><span class=n>lo</span><span class=p>.</span><span class=n>top</span><span class=p>()])</span> <span class=p>{</span>
                <span class=n>hash_heap</span><span class=p>[</span><span class=n>lo</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span><span class=o>--</span><span class=p>;</span>
                <span class=n>lo</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>

            <span class=c1>// lazy remove of elements previous removed, mimic hashheap of java.</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>hi</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>hash_heap</span><span class=p>[</span><span class=n>hi</span><span class=p>.</span><span class=n>top</span><span class=p>()])</span> <span class=p>{</span>
                <span class=n>hash_heap</span><span class=p>[</span><span class=n>hi</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span><span class=o>--</span><span class=p>;</span>
                <span class=n>hi</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=373-find-k-pairs-with-smallest-sums>373. Find K Pairs with Smallest Sums<a class=headerlink href=#373-find-k-pairs-with-smallest-sums title="Permanent link">&para;</a></h3> <ul> <li>use the following visual add when writing your code. The best solution choose the smallest K pairs <strong>layer by layer</strong> from top left to bottom right.</li> <li>From the visualization, you can see that this problem is equivalent to the problem <a href=#kth-smallest-element-in-a-sorted-matrix>Kth Smallest Element in a Sorted Matrix</a></li> </ul> <div class=highlight><pre><span></span><code>      2   4   6
   +------------
 1 |  3   5   7
 7 |  9  11  13
11 | 13  15  17
</code></pre></div> <div class=tabbed-set data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><label for=__tabbed_2_1>Python heapq and generator</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>def</span> <span class=nf>kSmallestPairs</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums1</span><span class=p>,</span> <span class=n>nums2</span><span class=p>,</span> <span class=n>k</span><span class=p>):</span>
    <span class=n>streams</span> <span class=o>=</span> <span class=nb>map</span><span class=p>(</span><span class=k>lambda</span> <span class=n>u</span><span class=p>:</span> <span class=p>([</span><span class=n>u</span><span class=o>+</span><span class=n>v</span><span class=p>,</span> <span class=n>u</span><span class=p>,</span> <span class=n>v</span><span class=p>]</span> <span class=k>for</span> <span class=n>v</span> <span class=ow>in</span> <span class=n>nums2</span><span class=p>),</span> <span class=n>nums1</span><span class=p>)</span>
    <span class=n>stream</span> <span class=o>=</span> <span class=n>heapq</span><span class=o>.</span><span class=n>merge</span><span class=p>(</span><span class=o>*</span><span class=n>streams</span><span class=p>)</span>  <span class=c1># streams is iterables</span>
    <span class=k>return</span> <span class=p>[</span><span class=n>suv</span><span class=p>[</span><span class=mi>1</span><span class=p>:]</span> <span class=k>for</span> <span class=n>suv</span> <span class=ow>in</span> <span class=n>itertools</span><span class=o>.</span><span class=n>islice</span><span class=p>(</span><span class=n>stream</span><span class=p>,</span> <span class=n>k</span><span class=p>)]</span>
</code></pre></div> </div> <input id=__tabbed_2_2 name=__tabbed_2 type=radio><label for=__tabbed_2_2>Java O(KlogK)</label><div class=tabbed-content></div> </div> <div class=highlight><pre><span></span><code>https://leetcode.com/problems/find-k-pairs-with-smallest-sums/discuss/84551/simple-Java-O(KlogK)-solution-with-explanation
</code></pre></div> <div class=tabbed-set data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><label for=__tabbed_3_1>C++ Priority Queue</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>cmp</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>bool</span> <span class=k>operator</span><span class=p>()</span> <span class=p>(</span><span class=k>const</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>a</span><span class=p>,</span> <span class=k>const</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>b</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>return</span> <span class=n>a</span><span class=p>.</span><span class=n>first</span> <span class=o>+</span> <span class=n>a</span><span class=p>.</span><span class=n>second</span> <span class=o>&lt;</span> <span class=n>b</span><span class=p>.</span><span class=n>first</span> <span class=o>+</span> <span class=n>b</span><span class=p>.</span><span class=n>second</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>

<span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>kSmallestPairs</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums1</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums2</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>res</span><span class=p>;</span>
        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span><span class=p>,</span> <span class=n>cmp</span><span class=o>&gt;</span> <span class=n>pq</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>min</span><span class=p>((</span><span class=kt>int</span><span class=p>)</span><span class=n>nums1</span><span class=p>.</span><span class=n>size</span><span class=p>(),</span> <span class=n>k</span><span class=p>);</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>min</span><span class=p>((</span><span class=kt>int</span><span class=p>)</span><span class=n>nums2</span><span class=p>.</span><span class=n>size</span><span class=p>(),</span> <span class=n>k</span><span class=p>);</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>nums1</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>nums2</span><span class=p>[</span><span class=n>j</span><span class=p>]});</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>pq</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&gt;</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>pq</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>());</span> <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
        <span class=p>}</span>
        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_3_2 name=__tabbed_3 type=radio><label for=__tabbed_3_2>C++ priority queue optimized (scheduler model)</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>kSmallestPairs</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums1</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums2</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=c1>// Base cases</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>nums1</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>nums2</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>k</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=p>{</span> <span class=p>};</span>
        <span class=p>}</span>

        <span class=c1>// Result pairs</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span>  <span class=n>result</span><span class=p>;</span>

        <span class=c1>// Prioritized scheduling based on sum (consider it as edge weight in graph)</span>
        <span class=c1>// Similar to Prim&#39;s algorithm</span>

        <span class=c1>// Min sum pq storing pair indices of nums1 index and nums2 index</span>
        <span class=k>auto</span> <span class=n>pqCmp</span> <span class=o>=</span> <span class=p>[</span><span class=o>&amp;</span><span class=n>nums1</span><span class=p>,</span> <span class=o>&amp;</span><span class=n>nums2</span><span class=p>](</span><span class=k>const</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>p1</span><span class=p>,</span> <span class=k>const</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>p2</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=n>nums1</span><span class=p>[</span><span class=n>p1</span><span class=p>.</span><span class=n>first</span><span class=p>]</span> <span class=o>+</span> <span class=n>nums2</span><span class=p>[</span><span class=n>p1</span><span class=p>.</span><span class=n>second</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>nums1</span><span class=p>[</span><span class=n>p2</span><span class=p>.</span><span class=n>first</span><span class=p>]</span> <span class=o>+</span> <span class=n>nums2</span><span class=p>[</span><span class=n>p2</span><span class=p>.</span><span class=n>second</span><span class=p>];</span>
        <span class=p>};</span>

        <span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span><span class=p>,</span> <span class=k>decltype</span><span class=p>(</span><span class=n>pqCmp</span><span class=p>)</span><span class=o>&gt;</span> <span class=n>pq</span><span class=p>(</span><span class=n>pqCmp</span><span class=p>);</span>

        <span class=c1>// Visited is required to avoid duplicate scheduling</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;&gt;</span> <span class=n>visited</span><span class=p>(</span><span class=n>nums1</span><span class=p>.</span><span class=n>size</span><span class=p>(),</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;</span><span class=p>(</span><span class=n>nums2</span><span class=p>.</span><span class=n>size</span><span class=p>(),</span> <span class=nb>false</span><span class=p>));</span>

        <span class=c1>// Push 0, 0 as the seed for scheduling</span>
        <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>make_pair</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>));</span>

        <span class=c1>// Find k smallest sum pairs</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>k</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>pq</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=c1>// Current min sum index pair is at pq top</span>
            <span class=k>auto</span> <span class=n>top</span> <span class=o>=</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>

            <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=n>result</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>make_pair</span><span class=p>(</span><span class=n>nums1</span><span class=p>[</span><span class=n>top</span><span class=p>.</span><span class=n>first</span><span class=p>],</span> <span class=n>nums2</span><span class=p>[</span><span class=n>top</span><span class=p>.</span><span class=n>second</span><span class=p>]));</span>

            <span class=c1>// Advance num1 index and schedule</span>
            <span class=o>++</span><span class=n>top</span><span class=p>.</span><span class=n>first</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>top</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;</span> <span class=n>nums1</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>visited</span><span class=p>[</span><span class=n>top</span><span class=p>.</span><span class=n>first</span><span class=p>][</span><span class=n>top</span><span class=p>.</span><span class=n>second</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>top</span><span class=p>);</span>
                <span class=n>visited</span><span class=p>[</span><span class=n>top</span><span class=p>.</span><span class=n>first</span><span class=p>][</span><span class=n>top</span><span class=p>.</span><span class=n>second</span><span class=p>]</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=o>--</span><span class=n>top</span><span class=p>.</span><span class=n>first</span><span class=p>;</span>

            <span class=c1>// Advance num2 index and schedule</span>
            <span class=o>++</span><span class=n>top</span><span class=p>.</span><span class=n>second</span><span class=p>;</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>top</span><span class=p>.</span><span class=n>second</span> <span class=o>&lt;</span> <span class=n>nums2</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>visited</span><span class=p>[</span><span class=n>top</span><span class=p>.</span><span class=n>first</span><span class=p>][</span><span class=n>top</span><span class=p>.</span><span class=n>second</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>top</span><span class=p>);</span>
                <span class=n>visited</span><span class=p>[</span><span class=n>top</span><span class=p>.</span><span class=n>first</span><span class=p>][</span><span class=n>top</span><span class=p>.</span><span class=n>second</span><span class=p>]</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=o>--</span><span class=n>top</span><span class=p>.</span><span class=n>second</span><span class=p>;</span>
            <span class=o>--</span><span class=n>k</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>result</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h2 id=use-priority-queue-to-rearrange-tasks-characters-string-etc>Use priority queue to rearrange tasks (characters, string, etc.)<a class=headerlink href=#use-priority-queue-to-rearrange-tasks-characters-string-etc title="Permanent link">&para;</a></h2> <h3 id=rearrange-string-k-distance-apart>Rearrange String k Distance Apart<a class=headerlink href=#rearrange-string-k-distance-apart title="Permanent link">&para;</a></h3> <p>Solution 1 Greedy + Priority Queue</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
  <span class=n>string</span> <span class=n>rearrangeString</span><span class=p>(</span><span class=n>string</span> <span class=n>s</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=n>k</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=k>return</span> <span class=n>s</span><span class=p>;</span>

    <span class=n>unordered_map</span><span class=o>&lt;</span><span class=kt>char</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span> <span class=n>mp</span><span class=p>;</span>
    <span class=k>for</span> <span class=p>(</span><span class=k>auto</span><span class=o>&amp;</span> <span class=nl>c</span> <span class=p>:</span> <span class=n>s</span><span class=p>)</span>
      <span class=n>mp</span><span class=p>[</span><span class=n>c</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>

    <span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;&gt;</span><span class=p>,</span> <span class=n>std</span><span class=o>::</span><span class=n>less</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;&gt;&gt;</span> <span class=n>pq</span><span class=p>;</span> <span class=c1>// max heap;</span>

    <span class=k>for</span> <span class=p>(</span><span class=k>auto</span><span class=o>&amp;</span> <span class=nl>p</span> <span class=p>:</span> <span class=n>mp</span><span class=p>)</span> <span class=p>{</span>
      <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>p</span><span class=p>.</span><span class=n>second</span><span class=p>,</span> <span class=n>p</span><span class=p>.</span><span class=n>first</span><span class=p>});</span>
    <span class=p>}</span>

    <span class=n>string</span> <span class=n>res</span><span class=p>;</span>
    <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>pq</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
      <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;&gt;</span> <span class=n>used</span><span class=p>;</span>
      <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
      <span class=k>while</span> <span class=p>(</span><span class=n>i</span> <span class=o>&lt;</span> <span class=n>k</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>pq</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
        <span class=k>auto</span> <span class=n>t</span> <span class=o>=</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>();</span> <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
        <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>t</span><span class=p>.</span><span class=n>second</span><span class=p>);</span>
        <span class=n>i</span><span class=o>++</span><span class=p>;</span>

        <span class=k>if</span> <span class=p>(</span><span class=o>--</span><span class=n>t</span><span class=p>.</span><span class=n>first</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
          <span class=n>used</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>t</span><span class=p>);</span>
        <span class=p>}</span>
      <span class=p>}</span>

      <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>!=</span> <span class=n>k</span> <span class=o>&amp;&amp;</span> <span class=n>used</span><span class=p>.</span><span class=n>size</span><span class=p>())</span>
        <span class=k>return</span> <span class=s>&quot;&quot;</span><span class=p>;</span>

      <span class=k>for</span> <span class=p>(</span><span class=k>auto</span><span class=o>&amp;</span> <span class=nl>p</span> <span class=p>:</span> <span class=n>used</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>p</span><span class=p>);</span>
      <span class=p>}</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
  <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h2 id=task-scheduler>Task Scheduler<a class=headerlink href=#task-scheduler title="Permanent link">&para;</a></h2> <p>Solution 1 Greedy + Priority Queue</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
  <span class=k>class</span> <span class=nc>cmp</span> <span class=p>{</span>
  <span class=k>public</span><span class=o>:</span>
    <span class=n>cmp</span> <span class=p>()</span> <span class=p>{}</span>
    <span class=kt>bool</span> <span class=k>operator</span><span class=p>()(</span><span class=k>const</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;&amp;</span> <span class=n>a</span><span class=p>,</span> <span class=k>const</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;&amp;</span> <span class=n>b</span><span class=p>){</span>
      <span class=k>return</span> <span class=n>a</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;</span> <span class=n>b</span><span class=p>.</span><span class=n>first</span><span class=p>;</span>
    <span class=p>}</span>
  <span class=p>};</span>

  <span class=kt>int</span> <span class=nf>leastInterval</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&amp;</span> <span class=n>tasks</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
    <span class=kt>int</span> <span class=n>chmap</span><span class=p>[</span><span class=mi>26</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>};</span>
    <span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;&gt;</span><span class=p>,</span> <span class=n>cmp</span><span class=o>&gt;</span> <span class=n>pq</span><span class=p>;</span>
    <span class=k>for</span> <span class=p>(</span><span class=kt>char</span> <span class=nl>c</span> <span class=p>:</span> <span class=n>tasks</span><span class=p>)</span> <span class=p>{</span>
      <span class=n>chmap</span><span class=p>[</span><span class=n>c</span> <span class=o>-</span> <span class=sc>&#39;A&#39;</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>26</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>if</span> <span class=p>(</span><span class=n>chmap</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
        <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>chmap</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>i</span> <span class=o>+</span> <span class=sc>&#39;A&#39;</span><span class=p>});</span>
      <span class=p>}</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>cycle</span> <span class=o>=</span> <span class=n>n</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
    <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
    <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>pq</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
      <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;&gt;</span> <span class=n>used</span><span class=p>;</span>
      <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>cycle</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// pick total of n + 1 in freq order</span>
        <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>pq</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
          <span class=n>used</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>());</span> <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
        <span class=p>}</span>
      <span class=p>}</span>

      <span class=k>for</span> <span class=p>(</span><span class=k>auto</span> <span class=nl>p</span> <span class=p>:</span> <span class=n>used</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=o>--</span><span class=n>p</span><span class=p>.</span><span class=n>first</span><span class=p>)</span> <span class=p>{</span>
          <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>p</span><span class=p>);</span>  <span class=c1>// put back used chars if extra char exist after the useage.</span>
        <span class=p>}</span>
      <span class=p>}</span>

      <span class=c1>// handled partial cycle and full cycle</span>
      <span class=n>res</span> <span class=o>+=</span> <span class=o>!</span><span class=n>pq</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=nl>cycle</span> <span class=p>:</span> <span class=n>used</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
  <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=reorganize-string>Reorganize String<a class=headerlink href=#reorganize-string title="Permanent link">&para;</a></h3> <p>Solution 1 Greedy + Priority Queue</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
  <span class=k>class</span> <span class=nc>cmp</span> <span class=p>{</span>
  <span class=k>public</span><span class=o>:</span>
    <span class=n>cmp</span> <span class=p>()</span> <span class=p>{}</span>
    <span class=kt>bool</span> <span class=k>operator</span><span class=p>()(</span><span class=k>const</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;&amp;</span> <span class=n>a</span><span class=p>,</span><span class=k>const</span> <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;&amp;</span> <span class=n>b</span><span class=p>){</span>
      <span class=k>return</span> <span class=n>a</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;</span> <span class=n>b</span><span class=p>.</span><span class=n>first</span><span class=p>;</span>
    <span class=p>}</span>
  <span class=p>};</span>

  <span class=n>string</span> <span class=nf>reorganizeString</span><span class=p>(</span><span class=n>string</span> <span class=n>S</span><span class=p>)</span> <span class=p>{</span>
    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>S</span><span class=p>.</span><span class=n>length</span><span class=p>();</span>
    <span class=kt>int</span> <span class=n>chmap</span><span class=p>[</span><span class=mi>26</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=mi>0</span><span class=p>};</span>

    <span class=c1>// max heap</span>
    <span class=n>priority_queue</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;&gt;</span><span class=p>,</span> <span class=n>cmp</span><span class=o>&gt;</span> <span class=n>pq</span><span class=p>;</span>
    <span class=k>for</span> <span class=p>(</span><span class=k>auto</span><span class=o>&amp;</span> <span class=nl>c</span> <span class=p>:</span> <span class=n>S</span><span class=p>)</span> <span class=p>{</span> <span class=c1>//store to map</span>
      <span class=n>chmap</span><span class=p>[</span><span class=n>c</span> <span class=o>-</span> <span class=sc>&#39;a&#39;</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=c1>// push to priority queue</span>
    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>26</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>if</span> <span class=p>(</span><span class=n>chmap</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
        <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>chmap</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>i</span> <span class=o>+</span> <span class=sc>&#39;a&#39;</span><span class=p>});</span>
      <span class=p>}</span>
    <span class=p>}</span>

    <span class=k>if</span> <span class=p>(</span><span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>first</span> <span class=o>&gt;</span> <span class=p>(</span><span class=n>n</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>/</span> <span class=mi>2</span><span class=p>)</span> <span class=k>return</span> <span class=s>&quot;&quot;</span><span class=p>;</span>

    <span class=n>string</span> <span class=n>res</span> <span class=o>=</span> <span class=s>&quot;&quot;</span><span class=p>;</span>
    <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>pq</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
      <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;</span> <span class=n>p</span> <span class=o>=</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>();</span> <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
      <span class=k>if</span> <span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>||</span> <span class=n>res</span><span class=p>.</span><span class=n>back</span><span class=p>()</span> <span class=o>!=</span> <span class=n>p</span><span class=p>.</span><span class=n>second</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>p</span><span class=p>.</span><span class=n>second</span><span class=p>);</span>
        <span class=k>if</span> <span class=p>(</span><span class=o>--</span><span class=n>p</span><span class=p>.</span><span class=n>first</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// use one char</span>
          <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>p</span><span class=p>);</span>
        <span class=p>}</span>
      <span class=p>}</span> <span class=k>else</span> <span class=p>{</span> <span class=c1>// cannot use duplicate char, take another</span>
        <span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=o>&gt;</span> <span class=n>q</span> <span class=o>=</span> <span class=n>pq</span><span class=p>.</span><span class=n>top</span><span class=p>();</span> <span class=n>pq</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
        <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>q</span><span class=p>.</span><span class=n>second</span><span class=p>);</span>
        <span class=k>if</span> <span class=p>(</span><span class=o>--</span><span class=n>q</span><span class=p>.</span><span class=n>first</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// use another char</span>
          <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>q</span><span class=p>);</span>
        <span class=p>}</span>
        <span class=c1>// remember put p back to the pq</span>
        <span class=n>pq</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>p</span><span class=p>);</span>
      <span class=p>}</span>
    <span class=p>}</span>

    <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
  <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../../graph/notes/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Graph </div> </div> </a> <a href=../../interval/notes/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Interval </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 Rui Han </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.93c04032.min.js></script> <script src=../../../assets/javascripts/bundle.83e5331e.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>