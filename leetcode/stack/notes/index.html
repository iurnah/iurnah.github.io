<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://ruihan.org/leetcode/stack/notes/ rel=canonical><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.0.2"><title>Stack - RUIHAN.ORG</title><link rel=stylesheet href=../../../assets/stylesheets/main.38780c08.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.3f72e892.min.css><meta name=theme-color content=#000000><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=black> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#stack class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://ruihan.org title=RUIHAN.ORG class="md-header-nav__button md-logo" aria-label=RUIHAN.ORG> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> RUIHAN.ORG </span> <span class="md-header-nav__topic md-ellipsis"> Stack </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/iurnah/ruihan.org title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> iurnah/ruihan.org </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../books/ class=md-tabs__link> Books </a> </li> <li class=md-tabs__item> <a href=../../../courses/ class=md-tabs__link> Courses </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> Leetcode </a> </li> <li class=md-tabs__item> <a href=../../../research/ class=md-tabs__link> Research </a> </li> <li class=md-tabs__item> <a href=../../../seedlabs/ class=md-tabs__link> SEED Labs </a> </li> <li class=md-tabs__item> <a href=../../../system-design/ class=md-tabs__link> System Design </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://ruihan.org title=RUIHAN.ORG class="md-nav__button md-logo" aria-label=RUIHAN.ORG> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> RUIHAN.ORG </label> <div class=md-nav__source> <a href=https://github.com/iurnah/ruihan.org title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> iurnah/ruihan.org </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Books <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Books data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"></span> Books </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../books/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../books/accelerated-cpp/notes/ class=md-nav__link> Accelerated C++ </a> </li> <li class=md-nav__item> <a href=../../../books/mining-massive-datasets/notes/ class=md-nav__link> Mining Massive Datasets </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Courses <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Courses data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Courses </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../courses/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../courses/machine-learning-coursera/notes/ class=md-nav__link> Machine Learning (Coursera) </a> </li> <li class=md-nav__item> <a href=../../../courses/cs224n/lec-notes/ class=md-nav__link> CS224N Lecture Notes </a> </li> <li class=md-nav__item> <a href=../../../courses/cs224n/write-up/ class=md-nav__link> CS224N Write-up </a> </li> <li class=md-nav__item> <a href=../../../courses/coursera-dl4-cnn/notes/ class=md-nav__link> Convolutional Neural Networks </a> </li> <li class=md-nav__item> <a href=../../../courses/mining-massive-datasets/notes/ class=md-nav__link> Mining Massive Data Sets </a> </li> <li class=md-nav__item> <a href=../../../courses/6.431-probability/notes/ class=md-nav__link> 6.431 Probability </a> </li> <li class=md-nav__item> <a href=../../../courses/learning-from-data/notes.md class=md-nav__link> Learning From Data </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-algorithms/notes/ class=md-nav__link> Nine Chapter Algorithms </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-system-design/notes/ class=md-nav__link> Nine Chapter System Design </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-dynamic-prog/notes/ class=md-nav__link> Nine Chapter Dynamic Programming </a> </li> <li class=md-nav__item> <a href=../../../courses/func-prog-in-scala/notes/ class=md-nav__link> Functional Programming Principles in Scala </a> </li> <li class=md-nav__item> <a href=../../../courses/applied-scrum-for-agile/notes/ class=md-nav__link> Applied Scrum for Agile Project Management </a> </li> <li class=md-nav__item> <a href=../../../courses/concurrent-prog-java/notes/ class=md-nav__link> Concurrent Programming in Java </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Leetcode <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Leetcode data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> Leetcode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../favorite/notes/ class=md-nav__link> Favorite </a> </li> <li class=md-nav__item> <a href=../../array/notes/ class=md-nav__link> Array </a> </li> <li class=md-nav__item> <a href=../../backtracking/notes/ class=md-nav__link> Backtracking </a> </li> <li class=md-nav__item> <a href=../../binary-search/notes/ class=md-nav__link> Binary Search </a> </li> <li class=md-nav__item> <a href=../../binary-indexed-tree/notes/ class=md-nav__link> Binary Indexed Tree </a> </li> <li class=md-nav__item> <a href=../../breadth-first-search/notes/ class=md-nav__link> Breadth-First Search (BFS) </a> </li> <li class=md-nav__item> <a href=../../depth-first-search/notes/ class=md-nav__link> Depth-First Search (DFS) </a> </li> <li class=md-nav__item> <a href=../../dynamic-programming/notes/ class=md-nav__link> Dynamic Programming </a> </li> <li class=md-nav__item> <a href=../../graph/notes/ class=md-nav__link> Graph </a> </li> <li class=md-nav__item> <a href=../../heap/notes/ class=md-nav__link> Heap </a> </li> <li class=md-nav__item> <a href=../../interval/notes/ class=md-nav__link> Interval </a> </li> <li class=md-nav__item> <a href=../../linked-list/notes/ class=md-nav__link> Linked List </a> </li> <li class=md-nav__item> <a href=../../math/notes/ class=md-nav__link> Math </a> </li> <li class=md-nav__item> <a href=../../reservoir-sampling/notes/ class=md-nav__link> Reservoir Sampling </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Stack <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Stack </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#key-problem-types class=md-nav__link> Key problem types </a> <nav class=md-nav aria-label="Key problem types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#monotonic-stack class=md-nav__link> monotonic stack </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#problems class=md-nav__link> Problems </a> <nav class=md-nav aria-label=Problems> <ul class=md-nav__list> <li class=md-nav__item> <a href=#42-trapping-rain-water class=md-nav__link> 42. Trapping Rain Water </a> </li> <li class=md-nav__item> <a href=#84-largest-rectangle-in-histogram class=md-nav__link> 84. Largest Rectangle in Histogram </a> </li> <li class=md-nav__item> <a href=#85-maximal-rectangle class=md-nav__link> 85. Maximal Rectangle </a> </li> <li class=md-nav__item> <a href=#221-maximal-square class=md-nav__link> 221. Maximal Square </a> </li> <li class=md-nav__item> <a href=#496-next-greater-element-i class=md-nav__link> 496. Next Greater Element I </a> </li> <li class=md-nav__item> <a href=#503-next-greater-element-ii class=md-nav__link> 503. Next Greater Element II </a> </li> <li class=md-nav__item> <a href=#739-daily-temperatures class=md-nav__link> 739. Daily Temperatures </a> </li> <li class=md-nav__item> <a href=#907-sum-of-subarray-minimums class=md-nav__link> 907. Sum of Subarray Minimums </a> </li> <li class=md-nav__item> <a href=#1019-next-greater-node-in-linked-list class=md-nav__link> 1019. Next Greater Node In Linked List </a> </li> <li class=md-nav__item> <a href=#402-remove-k-digits class=md-nav__link> 402. Remove K Digits </a> </li> <li class=md-nav__item> <a href=#1776-car-fleet-ii class=md-nav__link> 1776. Car Fleet II </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../string/notes/ class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href=../../tree/notes/ class=md-nav__link> Tree </a> </li> <li class=md-nav__item> <a href=../../trie/notes/ class=md-nav__link> Trie </a> </li> <li class=md-nav__item> <a href=../../union-find/notes/ class=md-nav__link> Union Find </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Research <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Research data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> Research </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../research/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../research/paper-reading/notes/ class=md-nav__link> Paper Reading </a> </li> <li class=md-nav__item> <a href=../../../research/coalition-game/notes/ class=md-nav__link> Coalition Game </a> </li> <li class=md-nav__item> <a href=../../../research/contextual-bandit/notes/ class=md-nav__link> Contextual Multi-Armed Bandit </a> </li> <li class=md-nav__item> <a href=../../../research/tfidf-score/notes/ class=md-nav__link> TF-IDF for Information Retrieval </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> SEED Labs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="SEED Labs" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"></span> SEED Labs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../seedlabs/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../seedlabs/applied-crypto/notes/ class=md-nav__link> Applied Cryptograph Notes </a> </li> <li class=md-nav__item> <a href=../../../seedlabs/public-key-cryptography-and-pki/notes/ class=md-nav__link> Public Key Cryptography and PKI </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> System Design <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="System Design" data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"></span> System Design </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../system-design/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../system-design/browser/notes.md class=md-nav__link> How Browser Works </a> </li> <li class=md-nav__item> <a href=../../../system-design/concurrency/notes/ class=md-nav__link> Concurrency and Synchronization </a> </li> <li class=md-nav__item> <a href=../../../system-design/concepts/notes/ class=md-nav__link> Distributed System Concepts </a> </li> <li class=md-nav__item> <a href=../../../system-design/patterns/notes/ class=md-nav__link> Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/crawler/notes/ class=md-nav__link> How to Design Crawler </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/tinyurl/notes/ class=md-nav__link> How to Design TinyUrl </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/twitter/notes/ class=md-nav__link> How to Design Twitter </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/scheduler/notes/ class=md-nav__link> How to Deisgn Scheduler </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/ticketmaster/notes/ class=md-nav__link> How to Design Ticketmaster </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#key-problem-types class=md-nav__link> Key problem types </a> <nav class=md-nav aria-label="Key problem types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#monotonic-stack class=md-nav__link> monotonic stack </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#problems class=md-nav__link> Problems </a> <nav class=md-nav aria-label=Problems> <ul class=md-nav__list> <li class=md-nav__item> <a href=#42-trapping-rain-water class=md-nav__link> 42. Trapping Rain Water </a> </li> <li class=md-nav__item> <a href=#84-largest-rectangle-in-histogram class=md-nav__link> 84. Largest Rectangle in Histogram </a> </li> <li class=md-nav__item> <a href=#85-maximal-rectangle class=md-nav__link> 85. Maximal Rectangle </a> </li> <li class=md-nav__item> <a href=#221-maximal-square class=md-nav__link> 221. Maximal Square </a> </li> <li class=md-nav__item> <a href=#496-next-greater-element-i class=md-nav__link> 496. Next Greater Element I </a> </li> <li class=md-nav__item> <a href=#503-next-greater-element-ii class=md-nav__link> 503. Next Greater Element II </a> </li> <li class=md-nav__item> <a href=#739-daily-temperatures class=md-nav__link> 739. Daily Temperatures </a> </li> <li class=md-nav__item> <a href=#907-sum-of-subarray-minimums class=md-nav__link> 907. Sum of Subarray Minimums </a> </li> <li class=md-nav__item> <a href=#1019-next-greater-node-in-linked-list class=md-nav__link> 1019. Next Greater Node In Linked List </a> </li> <li class=md-nav__item> <a href=#402-remove-k-digits class=md-nav__link> 402. Remove K Digits </a> </li> <li class=md-nav__item> <a href=#1776-car-fleet-ii class=md-nav__link> 1776. Car Fleet II </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=stack>Stack<a class=headerlink href=#stack title="Permanent link">&para;</a></h1> <h2 id=key-problem-types>Key problem types<a class=headerlink href=#key-problem-types title="Permanent link">&para;</a></h2> <h3 id=monotonic-stack>monotonic stack<a class=headerlink href=#monotonic-stack title="Permanent link">&para;</a></h3> <ul> <li>It can be monotonic <strong>increase</strong> or <strong>decreasing</strong> based on application.</li> <li>The data structure is used to trade off space for time (to achieve O(N) complexity).</li> <li>The iteration can be forward and backward, there is no essential diference, but can change the way to think of the problem.</li> <li>The core is to maintain the invariant and do the work at the right <strong>moment</strong>.<ul> <li>The invariant is to keep the element ordered in the stack in strict increasing/descreasing order.</li> <li>The work is done at either during the element is popped or after popped.</li> <li>From the [Next Greater Element I] and [Next Greater Element II], we can see that no matter the forward or backword iteration, the stack values are strictly decreasing.</li> <li><strong>check whether you need to push the index or the value.</strong> You can put both if needed.</li> </ul> </li> <li>To simplify the code, we can use sentinel values to eliminate redundent codes.</li> </ul> <h2 id=problems>Problems<a class=headerlink href=#problems title="Permanent link">&para;</a></h2> <h3 id=42-trapping-rain-water>42. Trapping Rain Water<a class=headerlink href=#42-trapping-rain-water title="Permanent link">&para;</a></h3> <p>Solution 1 monotonic Stack Solution 2 scan the tallest from left and tallest from right, then canculate.</p> <div class=tabbed-set data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><label for=__tabbed_1_1>C++ monotonic stack</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>trap</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>height</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>height</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>height</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>&lt;</span> <span class=n>height</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>curr</span> <span class=o>=</span> <span class=n>height</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()];</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>

                <span class=kt>int</span> <span class=n>prev</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=mi>0</span> <span class=o>:</span> <span class=n>height</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()];</span>

                <span class=kt>int</span> <span class=n>h</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>prev</span><span class=p>,</span> <span class=n>height</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=o>-</span> <span class=n>curr</span><span class=p>;</span>

                <span class=kt>int</span> <span class=n>w</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=mi>0</span> <span class=o>:</span> <span class=n>i</span> <span class=o>-</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>

                <span class=n>res</span> <span class=o>+=</span> <span class=n>h</span> <span class=o>*</span> <span class=n>w</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_1_2 name=__tabbed_1 type=radio><label for=__tabbed_1_2>C++ Naive</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>trap</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>height</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>height</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>left</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>right</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>&lt;</span> <span class=mi>1</span><span class=p>)</span>
            <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>

        <span class=n>left</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>height</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>left</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>left</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>],</span> <span class=n>height</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
        <span class=p>}</span>

        <span class=n>right</span><span class=p>[</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>height</span><span class=p>[</span><span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>];</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>right</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>right</span><span class=p>[</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>],</span> <span class=n>height</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
        <span class=p>}</span>

        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>h</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>left</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>right</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=o>-</span> <span class=n>height</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
            <span class=n>res</span> <span class=o>+=</span> <span class=n>h</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>?</span> <span class=nl>h</span> <span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=84-largest-rectangle-in-histogram>84. Largest Rectangle in Histogram<a class=headerlink href=#84-largest-rectangle-in-histogram title="Permanent link">&para;</a></h3> <p>Solution 1 Scan to left and right from each index Solution 2 Using monotonous increase stack</p> <div class=tabbed-set data-tabs=2:3><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><label for=__tabbed_2_1>C++ naive solution</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>largestRectangleArea</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>heights</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>heights</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>left</span><span class=p>(</span><span class=n>n</span><span class=p>);</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>right</span><span class=p>(</span><span class=n>n</span><span class=p>);</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>j</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>heights</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>heights</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>j</span> <span class=o>=</span> <span class=n>left</span><span class=p>[</span><span class=n>j</span> <span class=o>-</span> <span class=mi>1</span><span class=p>];</span>
            <span class=p>}</span>
            <span class=n>left</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>j</span><span class=p>;</span>

            <span class=n>j</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span> <span class=o>&amp;&amp;</span> <span class=n>heights</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>heights</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>j</span> <span class=o>=</span> <span class=n>right</span><span class=p>[</span><span class=n>j</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
            <span class=p>}</span>
            <span class=n>right</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>j</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>heights</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>*</span> <span class=p>(</span><span class=n>right</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>-</span> <span class=n>left</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+</span> <span class=mi>1</span><span class=p>));</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_2_2 name=__tabbed_2 type=radio><label for=__tabbed_2_2>C++ monotonous stack</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>largestRectangleArea</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>heights</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>heights</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>height</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>while</span><span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>heights</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;</span> <span class=n>heights</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()])</span> <span class=p>{</span>
                <span class=c1>// calculate the area determined by the stack top hist</span>
                <span class=c1>// when pop it off the stack</span>
                <span class=kt>int</span> <span class=n>height</span> <span class=o>=</span> <span class=n>heights</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()];</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
                <span class=kt>int</span> <span class=n>width</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
                    <span class=n>width</span> <span class=o>=</span> <span class=n>i</span> <span class=o>-</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>width</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
                <span class=p>}</span>

                <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>height</span> <span class=o>*</span> <span class=n>width</span><span class=p>);</span>
            <span class=p>}</span>

            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=c1>// pop the rest of the elemnt off the stack</span>
        <span class=k>while</span><span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>height</span> <span class=o>=</span> <span class=n>heights</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()];</span>
            <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=kt>int</span> <span class=n>width</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
                <span class=n>width</span> <span class=o>=</span> <span class=n>n</span> <span class=o>-</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
            <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                <span class=n>width</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>height</span> <span class=o>*</span> <span class=n>width</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_2_3 name=__tabbed_2 type=radio><label for=__tabbed_2_3>C++ Use monotonic stack with sentinel</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>largestRectangleArea</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>heights</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>heights</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>hist</span><span class=p>;</span>

        <span class=c1>// add sentinel element at begining and end</span>
        <span class=n>heights</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>heights</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=mi>0</span><span class=p>);</span>
        <span class=n>heights</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
        <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>+</span> <span class=mi>2</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>height</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>while</span><span class=p>(</span><span class=n>heights</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>&gt;</span> <span class=n>heights</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=c1>// calculate the area determined by the stack top hist</span>
                <span class=c1>// when pop it off the stack</span>
                <span class=kt>int</span> <span class=n>height</span> <span class=o>=</span> <span class=n>heights</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()];</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
                <span class=kt>int</span> <span class=n>width</span> <span class=o>=</span> <span class=n>i</span> <span class=o>-</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
                <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>height</span> <span class=o>*</span> <span class=n>width</span><span class=p>);</span>
            <span class=p>}</span>

            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=85-maximal-rectangle>85. Maximal Rectangle<a class=headerlink href=#85-maximal-rectangle title="Permanent link">&para;</a></h3> <p>Solution 1 use monotonic stack. We can treat it as a 2D version of <a href>84. Largest Rectangle in Histogram</a></p> <div class=tabbed-set data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><label for=__tabbed_3_1>C++ monotonic stack</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>getMaxArea</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>v</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>&gt;</span> <span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>height</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()];</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>

                <span class=kt>int</span> <span class=n>width</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=nl>i</span> <span class=p>:</span> <span class=n>i</span> <span class=o>-</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>

                <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>height</span> <span class=o>*</span> <span class=n>width</span><span class=p>);</span>
            <span class=p>}</span>

            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=c1>// pop the rest of the elements</span>
        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>height</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()];</span>
            <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>

            <span class=kt>int</span> <span class=n>width</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=nl>n</span> <span class=p>:</span> <span class=n>n</span> <span class=o>-</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>

            <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>height</span> <span class=o>*</span> <span class=n>width</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>maximalRectangle</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>?</span> <span class=mi>0</span> <span class=o>:</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span>

        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
        <span class=c1>// aggregate vertically then canculte area.</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>r</span> <span class=o>&lt;</span> <span class=n>m</span><span class=p>;</span> <span class=o>++</span><span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>c</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>c</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>c</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;1&#39;</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>v</span><span class=p>[</span><span class=n>c</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>v</span><span class=p>[</span><span class=n>c</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
                <span class=p>}</span>

            <span class=p>}</span>

            <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>getMaxArea</span><span class=p>(</span><span class=n>v</span><span class=p>));</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_3_2 name=__tabbed_3 type=radio><label for=__tabbed_3_2>C++ Monotonic stack use a sentinel at end</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>getMaxArea</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>
<span class=hll>        <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>-1</span><span class=p>);</span>
</span>
<span class=hll>        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
</span>            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>v</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>&gt;</span> <span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>height</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()];</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>

                <span class=kt>int</span> <span class=n>width</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=nl>i</span> <span class=p>:</span> <span class=n>i</span> <span class=o>-</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>

                <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>height</span> <span class=o>*</span> <span class=n>width</span><span class=p>);</span>
            <span class=p>}</span>

            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>maximalRectangle</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>?</span> <span class=mi>0</span> <span class=o>:</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span>

        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
        <span class=c1>// aggregate vertically then canculte area.</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>r</span> <span class=o>&lt;</span> <span class=n>m</span><span class=p>;</span> <span class=o>++</span><span class=n>r</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>c</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>c</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>c</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>r</span><span class=p>][</span><span class=n>c</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;1&#39;</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>v</span><span class=p>[</span><span class=n>c</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>v</span><span class=p>[</span><span class=n>c</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span>

            <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>getMaxArea</span><span class=p>(</span><span class=n>v</span><span class=p>));</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=221-maximal-square>221. Maximal Square<a class=headerlink href=#221-maximal-square title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>maximalSquare</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>char</span><span class=o>&gt;&gt;&amp;</span> <span class=n>matrix</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>matrix</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>m</span> <span class=o>==</span> <span class=mi>0</span> <span class=o>?</span> <span class=mi>0</span> <span class=o>:</span> <span class=n>matrix</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>m</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>matrix</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=n>j</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;1&#39;</span><span class=p>)</span> <span class=p>{</span>
                    <span class=n>v</span><span class=p>[</span><span class=n>j</span><span class=p>]</span><span class=o>++</span><span class=p>;</span>
                <span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
                    <span class=n>v</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
                <span class=p>}</span>
            <span class=p>}</span>

            <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>maxArea</span><span class=p>(</span><span class=n>v</span><span class=p>));</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>int</span> <span class=n>maxArea</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>v</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>v</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>
        <span class=n>v</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=mi>0</span><span class=p>);</span>
        <span class=n>v</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span> <span class=o>+</span> <span class=mi>2</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>v</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>&gt;</span> <span class=n>v</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>h</span> <span class=o>=</span> <span class=n>v</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()];</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>

                <span class=kt>int</span> <span class=n>w</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=nl>i</span> <span class=p>:</span> <span class=n>i</span> <span class=o>-</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>

                <span class=kt>int</span> <span class=n>d</span> <span class=o>=</span> <span class=n>min</span><span class=p>(</span><span class=n>h</span><span class=p>,</span> <span class=n>w</span><span class=p>);</span>

                <span class=n>res</span> <span class=o>=</span> <span class=n>max</span><span class=p>(</span><span class=n>res</span><span class=p>,</span> <span class=n>d</span> <span class=o>*</span> <span class=n>d</span><span class=p>);</span>
            <span class=p>}</span>
            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=496-next-greater-element-i>496. Next Greater Element I<a class=headerlink href=#496-next-greater-element-i title="Permanent link">&para;</a></h3> <ul> <li>A naive solution will be to use a map to record the index of an element, then iterate the <code>nums1</code>, find each element in <code>nums2</code>, then scan right to get the next greater element.</li> <li>To improve the time complexity, we can use binary search to find the next greater element</li> <li>The best solution will be using a stack to find all the greater element for all <code>nums2</code> elements and store them in a map, then lookup the elements in <code>num1</code> from the map.</li> </ul> <div class=tabbed-set data-tabs=4:2><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><label for=__tabbed_4_1>C++ monotonic stack forward</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nextGreaterElement</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums1</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums2</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>unordered_map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span> <span class=n>nextG</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>;</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums2</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=c1>// decreasing stack</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>&lt;</span> <span class=n>nums2</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>nextG</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>=</span> <span class=n>nums2</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>

            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>nums2</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
        <span class=p>}</span>

        <span class=c1>// clear the stack</span>
        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span> <span class=p>{</span>
            <span class=n>nextG</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>=</span> <span class=mi>-1</span><span class=p>;</span>
            <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums1</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nextG</span><span class=p>[</span><span class=n>nums1</span><span class=p>[</span><span class=n>i</span><span class=p>]]);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_4_2 name=__tabbed_4 type=radio><label for=__tabbed_4_2>C++ monotonic stack backward</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nextGreaterElement</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums1</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums2</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>unordered_map</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span> <span class=n>nextG</span><span class=p>;</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>nums2</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()</span> <span class=o>&lt;=</span> <span class=n>nums2</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>
            <span class=c1>// next greater element after ith element</span>
            <span class=n>nextG</span><span class=p>[</span><span class=n>nums2</span><span class=p>[</span><span class=n>i</span><span class=p>]]</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=mi>-1</span> <span class=o>:</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>

            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>nums2</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
        <span class=p>}</span>

        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums1</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nextG</span><span class=p>[</span><span class=n>nums1</span><span class=p>[</span><span class=n>i</span><span class=p>]]);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=503-next-greater-element-ii>503. Next Greater Element II<a class=headerlink href=#503-next-greater-element-ii title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=5:3><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><label for=__tabbed_5_1>C++ monotonic stack backward</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nextGreaterElements</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>-1</span><span class=p>);</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>%</span> <span class=n>n</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()])</span> <span class=p>{</span>
                <span class=n>res</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>%</span> <span class=n>n</span><span class=p>];</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>
            <span class=c1>// notice the index is pushed to the stack</span>
            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span> <span class=o>%</span> <span class=n>n</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_5_2 name=__tabbed_5 type=radio><label for=__tabbed_5_2>C++ monotonic decreasing stack</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nextGreaterElements</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>-1</span><span class=p>);</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>%</span> <span class=n>n</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>nums</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()])</span> <span class=p>{</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>

            <span class=n>res</span><span class=p>[</span><span class=n>i</span> <span class=o>%</span> <span class=n>n</span><span class=p>]</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=mi>-1</span> <span class=o>:</span> <span class=n>nums</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()];</span>

            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span> <span class=o>%</span> <span class=n>n</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_5_3 name=__tabbed_5 type=radio><label for=__tabbed_5_3>C++ Naive</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nextGreaterElements</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=n>n</span><span class=p>;</span>
            <span class=kt>int</span> <span class=n>flag</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>j</span> <span class=o>!=</span> <span class=n>i</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                    <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]);</span>
                    <span class=n>flag</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
                    <span class=k>break</span><span class=p>;</span>
                <span class=p>}</span>
                <span class=n>j</span><span class=o>++</span><span class=p>;</span>

                <span class=n>j</span> <span class=o>%=</span> <span class=n>n</span><span class=p>;</span> <span class=c1>// circular interate</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>flag</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=mi>-1</span><span class=p>);</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=739-daily-temperatures>739. Daily Temperatures<a class=headerlink href=#739-daily-temperatures title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=6:1><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><label for=__tabbed_6_1>C++ monotonic stack</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>dailyTemperatures</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>T</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>T</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>T</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;</span> <span class=n>T</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()])</span> <span class=p>{</span>
                <span class=n>res</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>=</span> <span class=n>i</span> <span class=o>-</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>

            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=907-sum-of-subarray-minimums>907. Sum of Subarray Minimums<a class=headerlink href=#907-sum-of-subarray-minimums title="Permanent link">&para;</a></h3> <ul> <li>Solution 1 <a href=https://leetcode.com/problems/sum-of-subarray-minimums/discuss/178876/stack-solution-with-very-detailed-explanation-step-by-step>monotonous increase stack</a></li> </ul> <div class=tabbed-set data-tabs=7:3><input checked=checked id=__tabbed_7_1 name=__tabbed_7 type=radio><label for=__tabbed_7_1>C++ monotonic stack</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>sumSubarrayMins</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>A</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=n>pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>s1</span><span class=p>,</span> <span class=n>s2</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>left</span><span class=p>(</span><span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>()),</span> <span class=n>right</span><span class=p>(</span><span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>());</span>

        <span class=c1>// distance between next smaller element on the left</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
            <span class=c1>// maintains a monotonic increase stack</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s1</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>s1</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>first</span> <span class=o>&gt;</span> <span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>count</span> <span class=o>+=</span> <span class=n>s1</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>second</span><span class=p>;</span>
                <span class=n>s1</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>
            <span class=n>s1</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>count</span><span class=p>});</span>
            <span class=n>left</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>count</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span><span class=o>--</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s2</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>s2</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>first</span> <span class=o>&gt;=</span> <span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>count</span> <span class=o>+=</span> <span class=n>s2</span><span class=p>.</span><span class=n>top</span><span class=p>().</span><span class=n>second</span><span class=p>;</span>
                <span class=n>s2</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>
            <span class=n>s2</span><span class=p>.</span><span class=n>push</span><span class=p>({</span><span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>count</span><span class=p>});</span>
            <span class=n>right</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>count</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>MOD</span> <span class=o>=</span> <span class=mf>1e9</span> <span class=o>+</span> <span class=mi>7</span><span class=p>;</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>A</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>res</span> <span class=o>=</span> <span class=p>(</span><span class=n>res</span> <span class=o>+</span> <span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>*</span> <span class=n>left</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>*</span> <span class=n>right</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=o>%</span> <span class=n>MOD</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_7_2 name=__tabbed_7 type=radio><label for=__tabbed_7_2>Java monotonic stack</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>sumSubarrayMins</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>arr</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>arr</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>MOD</span> <span class=o>=</span> <span class=mf>1e9</span> <span class=o>+</span> <span class=mi>7</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=n>n</span> <span class=o>||</span> <span class=n>arr</span><span class=p>[</span><span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>&gt;</span> <span class=n>arr</span><span class=p>[</span><span class=n>i</span><span class=p>]))</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>

                <span class=kt>int</span> <span class=n>l</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=n>m</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>:</span> <span class=n>m</span> <span class=o>-</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>();</span>
                <span class=kt>int</span> <span class=n>r</span> <span class=o>=</span> <span class=n>i</span> <span class=o>-</span> <span class=n>m</span><span class=p>;</span>

                <span class=n>res</span> <span class=o>+=</span> <span class=n>arr</span><span class=p>[</span><span class=n>m</span><span class=p>]</span> <span class=o>*</span> <span class=n>l</span> <span class=o>*</span> <span class=n>r</span><span class=p>;</span>

            <span class=p>}</span>
            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span> <span class=o>%</span> <span class=n>MOD</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_7_3 name=__tabbed_7 type=radio><label for=__tabbed_7_3>Java monotonic stack</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>public</span> <span class=kt>int</span> <span class=nf>sumSubarrayMins</span><span class=p>(</span><span class=kt>int</span><span class=o>[]</span> <span class=n>A</span><span class=p>)</span> <span class=p>{</span>
    <span class=kt>long</span> <span class=n>res</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
    <span class=n>Deque</span><span class=o>&lt;</span><span class=n>Integer</span><span class=o>&gt;</span> <span class=n>stack</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayDeque</span><span class=o>&lt;&gt;</span><span class=p>();</span>

    <span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>A</span><span class=p>.</span><span class=na>length</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>while</span><span class=p>(</span><span class=o>!</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=p>(</span><span class=n>i</span> <span class=o>==</span> <span class=n>A</span><span class=p>.</span><span class=na>length</span> <span class=o>||</span> <span class=n>A</span><span class=o>[</span><span class=n>stack</span><span class=p>.</span><span class=na>peek</span><span class=p>()</span><span class=o>]</span> <span class=o>&gt;</span> <span class=n>A</span><span class=o>[</span><span class=n>i</span><span class=o>]</span><span class=p>))</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>mid</span> <span class=o>=</span> <span class=n>stack</span><span class=p>.</span><span class=na>pop</span><span class=p>();</span>
            <span class=kt>int</span> <span class=n>L</span> <span class=o>=</span> <span class=n>mid</span> <span class=o>-</span> <span class=p>(</span><span class=n>stack</span><span class=p>.</span><span class=na>isEmpty</span><span class=p>()</span> <span class=o>?</span> <span class=o>-</span><span class=mi>1</span> <span class=p>:</span> <span class=n>stack</span><span class=p>.</span><span class=na>peek</span><span class=p>());</span>
            <span class=kt>int</span> <span class=n>R</span> <span class=o>=</span> <span class=n>i</span> <span class=o>-</span> <span class=n>mid</span><span class=p>;</span>
            <span class=n>res</span> <span class=o>+=</span> <span class=p>(</span><span class=kt>long</span><span class=p>)</span> <span class=n>A</span><span class=o>[</span><span class=n>mid</span><span class=o>]</span> <span class=o>*</span> <span class=n>L</span> <span class=o>*</span> <span class=n>R</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=n>stack</span><span class=p>.</span><span class=na>push</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
    <span class=p>}</span>
    <span class=k>return</span> <span class=p>(</span><span class=kt>int</span><span class=p>)</span> <span class=p>(</span><span class=n>res</span> <span class=o>%</span> <span class=mi>1_000_000_007</span><span class=p>);</span>
<span class=p>}</span>
</code></pre></div> </div> </div> <h3 id=1019-next-greater-node-in-linked-list>1019. Next Greater Node In Linked List<a class=headerlink href=#1019-next-greater-node-in-linked-list title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=8:1><input checked=checked id=__tabbed_8_1 name=__tabbed_8 type=radio><label for=__tabbed_8_1>C++ monotonic stack</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=cm>/**</span>
<span class=cm>* Definition for singly-linked list.</span>
<span class=cm>* struct ListNode {</span>
<span class=cm>*     int val;</span>
<span class=cm>*     ListNode *next;</span>
<span class=cm>*     ListNode() : val(0), next(nullptr) {}</span>
<span class=cm>*     ListNode(int x) : val(x), next(nullptr) {}</span>
<span class=cm>*     ListNode(int x, ListNode *next) : val(x), next(next) {}</span>
<span class=cm>* };</span>
<span class=cm>*/</span>
<span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nextLargerNodes</span><span class=p>(</span><span class=n>ListNode</span><span class=o>*</span> <span class=n>head</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>stack</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>s</span><span class=p>,</span> <span class=n>idx</span><span class=p>;</span>
        <span class=n>ListNode</span> <span class=o>*</span><span class=n>curr</span> <span class=o>=</span> <span class=n>head</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>len</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>

        <span class=k>while</span> <span class=p>(</span><span class=n>curr</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>len</span><span class=o>++</span><span class=p>;</span>
            <span class=n>curr</span> <span class=o>=</span> <span class=n>curr</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>res</span><span class=p>(</span><span class=n>len</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
        <span class=n>curr</span> <span class=o>=</span> <span class=n>head</span><span class=p>;</span>
        <span class=k>while</span> <span class=p>(</span><span class=n>curr</span> <span class=o>!=</span> <span class=k>nullptr</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>val</span> <span class=o>=</span> <span class=n>curr</span><span class=o>-&gt;</span><span class=n>val</span><span class=p>;</span>
            <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>s</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>val</span> <span class=o>&gt;</span> <span class=n>s</span><span class=p>.</span><span class=n>top</span><span class=p>())</span> <span class=p>{</span>
                <span class=n>res</span><span class=p>[</span><span class=n>idx</span><span class=p>.</span><span class=n>top</span><span class=p>()]</span> <span class=o>=</span> <span class=n>val</span><span class=p>;</span>
                <span class=n>s</span><span class=p>.</span><span class=n>pop</span><span class=p>(),</span> <span class=n>idx</span><span class=p>.</span><span class=n>pop</span><span class=p>();</span>
            <span class=p>}</span>

            <span class=n>s</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>val</span><span class=p>),</span> <span class=n>idx</span><span class=p>.</span><span class=n>push</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>

            <span class=n>curr</span> <span class=o>=</span> <span class=n>curr</span><span class=o>-&gt;</span><span class=n>next</span><span class=p>;</span>
            <span class=n>i</span><span class=o>++</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=402-remove-k-digits>402. Remove K Digits<a class=headerlink href=#402-remove-k-digits title="Permanent link">&para;</a></h3> <p>Solution 1 using monotonic stack. Think of how to remove the lagest digit from left to right? Notice the speical case: <strong>10200</strong>.</p> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>string</span> <span class=n>removeKdigits</span><span class=p>(</span><span class=n>string</span> <span class=n>num</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>num</span><span class=p>.</span><span class=n>length</span><span class=p>();</span>
        <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=n>n</span> <span class=o>-</span> <span class=n>k</span><span class=p>;</span>
        <span class=n>string</span> <span class=n>res</span> <span class=o>=</span> <span class=s>&quot;&quot;</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=o>++</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>k</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>res</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>res</span><span class=p>.</span><span class=n>back</span><span class=p>()</span> <span class=o>&gt;</span> <span class=n>num</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=n>res</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
                <span class=o>--</span><span class=n>k</span><span class=p>;</span>
            <span class=p>}</span>
            <span class=n>res</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>num</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
        <span class=p>}</span>
        <span class=n>res</span><span class=p>.</span><span class=n>resize</span><span class=p>(</span><span class=n>m</span><span class=p>);</span>

        <span class=k>while</span> <span class=p>(</span><span class=o>!</span><span class=n>res</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>&amp;&amp;</span> <span class=n>res</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>==</span> <span class=sc>&#39;0&#39;</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>res</span><span class=p>.</span><span class=n>erase</span><span class=p>(</span><span class=n>res</span><span class=p>.</span><span class=n>begin</span><span class=p>());</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>res</span><span class=p>.</span><span class=n>empty</span><span class=p>()</span> <span class=o>?</span> <span class=s>&quot;0&quot;</span> <span class=o>:</span> <span class=n>res</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=1776-car-fleet-ii>1776. Car Fleet II<a class=headerlink href=#1776-car-fleet-ii title="Permanent link">&para;</a></h3> <p>Solution I Monotonic stack</p> <ul> <li>Notice in this problem the invariant is much more complicated. Beside the order (so that the cars can collide), you also have to make sure the next car haven't collide ealier to some lower speed, you have to look at the global optimal solution. For example, car_1, car_2, car_3, when you look at only car_1 and car_2, you may find that they are going to collide at t1, but car_2 and car_3 could collide much erlier, the correct solution could be smaller than t1.</li> </ul> <div class=tabbed-set data-tabs=9:2><input checked=checked id=__tabbed_9_1 name=__tabbed_9 type=radio><label for=__tabbed_9_1>C++ monotonic stack</label><div class=tabbed-content> <p>```c++ hl_line="18" class Solution { public: vector<double> getCollisionTimes(vector<vector\&lt;int>>&amp; cars) { auto collideT = <a href="int i, int j">&amp;</a> -&gt; double { // cars[i][0] &lt; cars[j][0], cars[i][1] &gt; cars[j][0] return static_cast<double>(cars[j][0] - cars[i][0]) / (cars[i][1] - cars[j][1]); };</p> <div class=highlight><pre><span></span><code>    int n = cars.size();
    stack&lt;int&gt; s;
    vector&lt;double&gt; res(n, -1);

    for (int i = n - 1; i &gt;= 0; --i) {
        // not only you have to be fast to catch next car,
        // but also the next car have not collided before, if it collided before
        // you have to look for the slower cars (which could be collided much ealier)
        while (!s.empty() &amp;&amp; (cars[i][1] &lt;= cars[s.top()][1] ||
                            (s.size() &gt; 1 &amp;&amp; collideT(i, s.top()) &gt; res[s.top()]))) {
            s.pop();
        }
        res[i] = s.empty() ? -1 : collideT(i, s.top());
        s.push(i);
    }

    return res;
}
</code></pre></div> <p>}; ```</p> </div> <input id=__tabbed_9_2 name=__tabbed_9 type=radio><label for=__tabbed_9_2>C++ Brute force</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span> <span class=n>getCollisionTimes</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>cars</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>cars</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>double</span><span class=o>&gt;</span> <span class=n>ans</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mf>-1.0</span><span class=p>);</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>n</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>p</span> <span class=o>=</span> <span class=n>cars</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>0</span><span class=p>];</span>
            <span class=kt>int</span> <span class=n>v</span> <span class=o>=</span> <span class=n>cars</span><span class=p>[</span><span class=n>i</span><span class=p>][</span><span class=mi>1</span><span class=p>];</span>

            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span> <span class=n>j</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>;</span> <span class=o>--</span><span class=n>j</span><span class=p>)</span> <span class=p>{</span>
                <span class=kt>int</span> <span class=n>p_j</span> <span class=o>=</span> <span class=n>cars</span><span class=p>[</span><span class=n>j</span><span class=p>][</span><span class=mi>0</span><span class=p>];</span>
                <span class=kt>int</span> <span class=n>v_j</span> <span class=o>=</span> <span class=n>cars</span><span class=p>[</span><span class=n>j</span><span class=p>][</span><span class=mi>1</span><span class=p>];</span>
                <span class=kt>int</span> <span class=n>dp</span> <span class=o>=</span> <span class=n>p</span> <span class=o>-</span> <span class=n>p_j</span><span class=p>;</span>
                <span class=kt>int</span> <span class=n>dv</span> <span class=o>=</span> <span class=n>v_j</span> <span class=o>-</span> <span class=n>v</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>dv</span> <span class=o>&lt;=</span> <span class=mi>0</span><span class=p>)</span> <span class=k>break</span><span class=p>;</span>
                <span class=kt>double</span> <span class=n>t</span> <span class=o>=</span> <span class=p>(</span><span class=kt>double</span><span class=p>)</span> <span class=n>dp</span> <span class=o>/</span> <span class=n>dv</span><span class=p>;</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>ans</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>||</span> <span class=n>t</span> <span class=o>&lt;</span> <span class=n>ans</span><span class=p>[</span><span class=n>j</span><span class=p>])</span>
                    <span class=n>ans</span><span class=p>[</span><span class=n>j</span><span class=p>]</span> <span class=o>=</span> <span class=n>t</span><span class=p>;</span>
                <span class=k>else</span>
                    <span class=k>break</span><span class=p>;</span>

            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>ans</span><span class=p>;</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../../reservoir-sampling/notes/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Reservoir Sampling </div> </div> </a> <a href=../../string/notes/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> String </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 Rui Han </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/vendor.77e55a48.min.js></script> <script src=../../../assets/javascripts/bundle.9554a270.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "../../..",
          features: ['navigation.tabs'],
          search: Object.assign({
            worker: "../../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>